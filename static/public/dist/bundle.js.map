{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/public/css/style.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/url-escape.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///(webpack)/buildin/global.js","webpack:///./static/public/css/style.css?ce47","webpack:///./static/public/icons/access.svg","webpack:///./static/public/icons/arrow_previous.svg","webpack:///./static/public/icons/close.svg","webpack:///./static/public/icons/crown.svg","webpack:///./static/public/icons/delete.svg","webpack:///./static/public/icons/done.svg","webpack:///./static/public/icons/drop_down.svg","webpack:///./static/public/icons/fb.svg","webpack:///./static/public/icons/game1.svg","webpack:///./static/public/icons/hexagon.svg","webpack:///./static/public/icons/ok.svg","webpack:///./static/public/icons/ru.png","webpack:///./static/public/icons/show.svg","webpack:///./static/public/icons/sign_in.svg","webpack:///./static/public/icons/sign_out.svg","webpack:///./static/public/icons/user.svg","webpack:///./static/public/icons/user_edit.svg","webpack:///./static/public/icons/users.svg","webpack:///./static/public/icons/vk.svg","webpack:///./static/public/images/hexagon.jpg","webpack:///./static/public/js/ajax.js","webpack:///./static/public/js/bundle.bemhtml.js","webpack:///./static/public/js/bundle.bemtree.js","webpack:///./static/public/js/controllers/authors-controller.js","webpack:///./static/public/js/controllers/game-controller.js","webpack:///./static/public/js/controllers/game-menu-controller.js","webpack:///./static/public/js/controllers/game-over-controller.js","webpack:///./static/public/js/controllers/game-over-mlt-controller.js","webpack:///./static/public/js/controllers/login-controller.js","webpack:///./static/public/js/controllers/logout-controller.js","webpack:///./static/public/js/controllers/menu-controller.js","webpack:///./static/public/js/controllers/not-found-controller.js","webpack:///./static/public/js/controllers/profile-controller.js","webpack:///./static/public/js/controllers/scoreboard-controller.js","webpack:///./static/public/js/controllers/signup-controller.js","webpack:///./static/public/js/controllers/update-controller.js","webpack:///./static/public/js/core/controller.js","webpack:///./static/public/js/core/model.js","webpack:///./static/public/js/core/router.js","webpack:///./static/public/js/core/view.js","webpack:///./static/public/js/event-bus.js","webpack:///./static/public/js/file-input.js","webpack:///./static/public/js/game/controllers.js","webpack:///./static/public/js/game/core/core.js","webpack:///./static/public/js/game/core/events.js","webpack:///./static/public/js/game/core/geometry.js","webpack:///./static/public/js/game/core/offline-core.js","webpack:///./static/public/js/game/core/settings.js","webpack:///./static/public/js/game/game.js","webpack:///./static/public/js/game/mods.js","webpack:///./static/public/js/graphics/arrow.js","webpack:///./static/public/js/graphics/hexagon.js","webpack:///./static/public/js/main.js","webpack:///./static/public/js/models/author.js","webpack:///./static/public/js/models/user-service.js","webpack:///./static/public/js/parsing.js","webpack:///./static/public/js/settings/config.js","webpack:///./static/public/js/settings/server-errors.js","webpack:///./static/public/js/validation.js","webpack:///./static/public/js/views/authors-view.js","webpack:///./static/public/js/views/game-menu-view.js","webpack:///./static/public/js/views/game-over-mlt-view.js","webpack:///./static/public/js/views/game-over-single-view.js","webpack:///./static/public/js/views/game-view.js","webpack:///./static/public/js/views/header.js","webpack:///./static/public/js/views/login-view.js","webpack:///./static/public/js/views/menu-view.js","webpack:///./static/public/js/views/offline-messagebox.js","webpack:///./static/public/js/views/page-not-found-view.js","webpack:///./static/public/js/views/pagination.js","webpack:///./static/public/js/views/profile-view.js","webpack:///./static/public/js/views/scoreboard-view.js","webpack:///./static/public/js/views/signup-view.js","webpack:///./static/public/js/views/update-view.js","webpack:///./static/public/js/views/views-templates/login-template.js","webpack:///./static/public/js/views/views-templates/signup-template.js","webpack:///./static/public/js/views/views-templates/update-template.js"],"names":["ajax","_ajax","method","path","body","mode","headers","Headers","csrfToken","getSingleCookie","append","JSON","stringify","init","credentials","fetch","doGet","doPost","doPut","name","cookies","document","cookie","split","length","cookieValue","pop","endOfCookieValue","indexOf","substring","undefined","bemhtml","global","buildBemXjst","libs","exports","module","f","define","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","inherits","Match","BemxjstEntity","Entity","bemxjst","jsClass","tag","attrs","bem","cls","apply","arguments","prototype","block","elem","classBuilder","build","_keys","content","mix","js","mods","elemMods","defaultBody","context","exec","ctx","render","utils","BEMXJST","BEMHTML","options","_shortTagCloser","xhtml","_elemJsInstances","elemJsInstances","_omitOptionalEndTags","omitOptionalEndTags","_singleQuotesForDataAttrs","singleQuotesForDataAttrs","_unquotedAttrs","unquotedAttrs","runMany","arr","out","prevPos","position","prevNotNewList","_notNewList","_listLength","canFlush","_flush","_run","entity","jsParams","isBEM","addJSInitClass","renderClose","classValue","buildModsClasses","m","renderMix","attrEscape","trim","isUnquotedAttr","jsAttrEscape","OPTIONAL_END_TAGS","html","head","p","li","dt","dd","colgroup","thead","tbody","tfoot","tr","th","td","option","rb","rt","rtc","rp","optgroup","prefix","renderAttrs","isShortTag","renderContent","hasOwnProperty","isObj","attr","attrVal","isSimple","run","getAttrValue","visited","addInit","Array","isArray","item","hasItem","_block","_elem","key","classElem","nested","extend","nestedEntity","entities","oldBlock","oldElem","nestedMix","j","nestedItem","slice","concat","res","modName","modVal","builder","buildElemClass","buildBlockClass","ClassBuilder","elemDelim","modDelim","mod","val","buildModPostfix","Context","_bemxjst","_currBlock","escapeContent","identify","xmlEscape","onError","console","error","isFirst","isLast","generateId","reapply","tree","Template","PropertyMatch","CompilerOptions","templates","def","rest","initModes","_initRest","template","predicates","pred","splice","value","push","prepend","other","keys","Object","count","contentMode","setDefaults","flush","self","defaultBodyProxy","BEMXJSTError","msg","func","message","captureStackTrace","constructor","stack","create","Tree","AddMatch","defaultEnt","match","contextConstructor","ContextChild","naming","depth","oninit","defaultElemEnt","locals","methods","runOninit","oninits","ret","BEMContext","compile","applyCtx","_applyCtx","applyCtxWrap","changes","local","_applyCtxWrap","applyMode","localWrap","localBody","refs","recompileInput","applyNextWrap","applyNext","ent","groupEntities","transformEntities","getTemplate","exportApply","args","Function","join","fnToString","clone","replace","wildcardElems","parts","wildcard","wildcardKey","runEmpty","runUnescaped","runSimple","runOne","json","simple","oldCtx","oldCurrBlock","oldMods","oldElemMods","restoreFlush","production","tryRun","oldPos","oldListLength","oldNotNewList","restore","WrapMatch","ExtendMatch","CustomMatch","MatchNested","String","MatchCustom","MatchWrap","wrap","MatchExtend","ext","AddWrap","MatchTemplate","postpone","modeName","mask","maskSize","maskOffset","thrownError","Math","ceil","tryCatch","fn","cause","save","checkDepth","bitIndex","bit","restoreDepth","oldMask","oldMatch","wrapBody","MatchBase","Item","children","conditions","arg","boundBody","queue","ReplaceMatch","obj","appendContentWrapBody","prependContentWrapBody","mixWrapBody","forEach","bind","initializers","reverse","methodFactory","kind","child","last","subcond","isShortcutAllowed","addTemplate","createMatch","shift","modsCheck","checkConditions","condition","xjstOptions","capitalize","toUpperCase","amp","lt","gt","quot","singleQuot","matchXmlRegExp","isEmpty","string","isNaN","str","escape","index","lastIndex","charCodeAt","matchAttrRegExp","matchJsAttrRegExp","o1","o2","SHORT_TAGS","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","wbr","uniqCount","uniqId","Date","uniqExpando","uniqPrefix","getUniq","onlyGet","toString","UNQUOTED_ATTR_REGEXP","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","api","elemMod","appendContent","prependContent","addAttrs","addJs","addMix","addMods","addElemMods","node","authors","map","elt","src","alt","devInfo","description","find","icon","btnText","wrappedInside","type","size","formId","fieldName","_fieldParents","id","labelText","emptyText","userInfo","wrappedAs","fieldAttrs","large","points","href","borderless","color","text","first","fields","novalidate","hidden","for","title","info","allowEdit","userFields","scores","page","userId","username","score","place","selected","lib","_libs","glob","window","exp","modules","provide","engine","bemtree","BEMTREE","AuthorsController","Controller","parent","model","Author","view","AuthorsView","action","getAuthors","then","data","log","GameController","GameView","game","bus","on","active","router","open","destructor","destroy","selectAction","serverData","GAME_MODES","OFFLINE","Game","start","GameMenuController","GameMenuView","GameOverController","GameOverSinglePage","GameOverMltController","GameOverMultiPage","LoginController","LoginView","events","_initInputs","addValidationOnBlur","form","getElementById","addEventListener","submitHandler","cancel","getElementsByClassName","_clickHandler","handler","application","event","preventDefault","validateForm","target","elements","password","UserService","sendData","ok","history","pushState","back","buttons","btn","onclick","srcElement","dataset","pwdFor","setAttribute","closest","LogoutController","MenuView","singout","MenuController","user","getData","NotFoundController","main","PageNotFoundView","ProfileController","ProfileView","_parseIdFromUrl","getUser","_configureEvents","handle","backBtn","attributes","location","search","reduce","decodeURIComponent","ScoreboardController","ScoreboardView","_parsePageNumber","getUsers","paginator","Paginator","nPages","setPaginationLinks","_pagesLinkHandler","profiles","from","Number","_eventHandler","getAttribute","SignUpController","SignUpView","_getFromSignUp","lastName","email","userName","selectField","getElementsByTagName","day","month","year","date","_cancelHandler","_submitHandler","UpdateController","UpdateView","initFileInputs","_getFromProfileForm","getBase64","result","updateData","uid","firstName","gender","files","isRequiredOnline","removeEventListener","innerHTML","Model","Router","rootPath","rootElement","routes","currentController","addRoute","url","controller","startsWith","newController","navigator","onLine","showMessage","currentPath","pathname","View","Bus","listeners","listener","off","filter","emit","BLOCK","previewFile","preview","querySelector","file","reader","FileReader","onloadend","readAsDataURL","fileInputs","inputBlock","childNodes","field","classList","contains","onchange","fileName","substr","textContent","filesInfoText","Promise","resolve","reject","onload","encoded","repeat","onerror","GameControllers","previous","_onPress","_keyHandler","_onUp","is","toLowerCase","diff","newKeys","KEYS","LEFT","RIGHT","GameCore","scene","onGameStarted","onGameFinished","onControllsPressed","onGameStateChanged","controllersLoopIntervalId","START_GAME","FINISH_GAME","CONTROLS_PRESSED","GAME_STATE_CHANGED","setInterval","actions","clearInterval","stop","evt","_pressed","some","k","EVENTS","sqrt3","Geometry","checkHexagonCollision","hexagon","cursor","lines","convertHexagonToLines","isCollide","line","rotateLine","second","angle","_lineAndCursorCollision","sides","MASKS","top","x","side","y","topRight","bottomRight","bottom","bottomLeft","topLeft","dot0","dot1","eps","d0","d1","c","CURSOR","height","disc","abs","t1","sqrt","t2","rotateDot","dot","newX","cos","sin","cursorAngleToDot","cursorAngle","radius","mask2","mask5","OfflineGame","state","gameloop","gameloopRequestId","lastFrame","hexagons","PI","_","floor","random","setTimeout","now","delay","HEXAGON","speed","minSize","newHexagon","alert","requestAnimationFrame","rotatingSpeed","performance","cancelAnimationFrame","update","width","GameConstructor","ONLINE","gameControllers","gameCore","UserArrow","currentAngle","lineRadius","alpha","asin","draw","vx","vy","x1","y1","x2","y2","fillStyle","beginPath","moveTo","lineTo","fill","FALL_SPEED","FALL_SIZE","Hexagon","lineWidth","emptySides","currentSide","sidesMask","_parseMask","setNewParameters","copyNum","fallDown","strokeStyle","localAngle","closePath","stroke","createHeader","serviceWorker","register","insertAdjacentHTML","settings","home","response","status","isCurrent","checkResponse","parse","parseUser","genderToStr","male","female","null","nickname","birthDate","imgPath","serverErrors","validate","required","errors","validatePassword","validateRepeatPassword","validateEmail","validateName","validateLastName","validateUserName","addErrors","errMsgs","helpText","remove","add","clearErrors","test","emailReg","RegExp","inputs","onblur","onfocus","isOk","expectedId","bemAuthors","author","GameOverMultiClass","multi","GameOverSingleClass","MIN_SIZE","lastFrameTime","localData","seconds","record","canvas","getContext","arrow","baseHex","renderScene","fillRect","translate","requestFrameId","_rotate","direction","clearRect","rotate","header","headerDiv","authedTemplate","unauthedTemplate","menuPageDrawer","offlineMsg","removeChild","additional","_getNumeration","currPage","pagesNumber","numbers","number","current","pagLinks","profile","bemUsers","users","highScore","parseInt","SigUpView","align","checkable","checkType","with","months","placeholder","num","yearOptions","monthOptions","dayOptions","setSelectedDate","setSelectedGender","center","userDate","mounthOptions"],"mappings":"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,aAAa,eAAe,gBAAgB,cAAc,mBAAmB,uBAAuB,EAAE,uBAAuB,4BAA4B,gCAAgC,qBAAqB,sBAAsB,mBAAmB,yBAAyB,4BAA4B,0BAA0B,sBAAsB,sBAAsB,EAAE,+BAA+B,4BAA4B,EAAE;;;;;;;;;;;;;;ACzBp4kC;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;AACvD,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;ACpFa;;AAEb;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;;AAEA;AACA,E;;;;;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;ACxFA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,sIAA4D;;AAElF,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,yGAAsD;;AAE3E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;ACnBf,qCAAqC,wwB;;;;;;;;;;;ACArC,qCAAqC,oZ;;;;;;;;;;;ACArC,qCAAqC,oa;;;;;;;;;;;ACArC,qCAAqC,4/B;;;;;;;;;;;ACArC,qCAAqC,w1B;;;;;;;;;;;A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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./static/public/js/main.js\");\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar urlEscape = require(\"../../../node_modules/css-loader/dist/runtime/url-escape.js\");\nvar ___CSS_LOADER_URL___0___ = urlEscape(require(\"../../public/images/hexagon.jpg\"));\nvar ___CSS_LOADER_URL___1___ = urlEscape(require(\"../icons/close.svg\"));\nvar ___CSS_LOADER_URL___2___ = urlEscape(require(\"../icons/show.svg\"));\nvar ___CSS_LOADER_URL___3___ = urlEscape(require(\"../icons/vk.svg\"));\nvar ___CSS_LOADER_URL___4___ = urlEscape(require(\"../icons/fb.svg\"));\nvar ___CSS_LOADER_URL___5___ = urlEscape(require(\"../icons/ok.svg\"));\nvar ___CSS_LOADER_URL___6___ = urlEscape(require(\"../icons/hexagon.svg\"));\nvar ___CSS_LOADER_URL___7___ = urlEscape(require(\"../icons/users.svg\"));\nvar ___CSS_LOADER_URL___8___ = urlEscape(require(\"../icons/user.svg\"));\nvar ___CSS_LOADER_URL___9___ = urlEscape(require(\"../icons/access.svg\"));\nvar ___CSS_LOADER_URL___10___ = urlEscape(require(\"../icons/game1.svg\"));\nvar ___CSS_LOADER_URL___11___ = urlEscape(require(\"../icons/sign_in.svg\"));\nvar ___CSS_LOADER_URL___12___ = urlEscape(require(\"../icons/sign_out.svg\"));\nvar ___CSS_LOADER_URL___13___ = urlEscape(require(\"../icons/drop_down.svg\"));\nvar ___CSS_LOADER_URL___14___ = urlEscape(require(\"../icons/user_edit.svg\"));\nvar ___CSS_LOADER_URL___15___ = urlEscape(require(\"../icons/delete.svg\"));\nvar ___CSS_LOADER_URL___16___ = urlEscape(require(\"../icons/crown.svg\"));\nvar ___CSS_LOADER_URL___17___ = urlEscape(require(\"../icons/arrow_previous.svg\"));\nvar ___CSS_LOADER_URL___18___ = urlEscape(require(\"../icons/ru.png\"));\nvar ___CSS_LOADER_URL___19___ = urlEscape(require(\"../icons/done.svg\"));\n\n// Module\nexports.push([module.id, \"html, body, #application, #main {\\n  margin: 0;\\n  height: 100%;\\n  width: 100%;\\n  font-family: Helvetica, Arial, sans-serif; }\\n\\nbody {\\n  background: #424242 url(\" + ___CSS_LOADER_URL___0___ + \");\\n  background-size: 100%; }\\n\\n#application, #main {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center; }\\n\\na {\\n  color: #005BD1;\\n  text-decoration: none;\\n  cursor: pointer; }\\n  a:hover {\\n    text-decoration: underline; }\\n  a:focus {\\n    outline: none; }\\n\\nlabel {\\n  cursor: pointer; }\\n\\n.title, .profile-popup__title {\\n  display: block;\\n  text-align: center;\\n  font-size: 24px;\\n  font-weight: bold; }\\n  .title_size_large {\\n    font-size: 28px; }\\n\\n.hr {\\n  display: block;\\n  height: 0;\\n  padding: 0;\\n  border: 0;\\n  border-top: 1px solid #E0E0E0; }\\n  .hr_inline {\\n    margin: 0; }\\n\\n.login-popup, .profile-popup, .signup-popup, .update-profile-popup {\\n  position: relative;\\n  z-index: 100;\\n  width: 50%;\\n  min-width: fit-content;\\n  min-width: -moz-max-content;\\n  background-color: white;\\n  border-radius: 5px; }\\n  .login-popup__close-popup, .update-profile-popup__close-popup {\\n    position: absolute;\\n    top: 11px;\\n    right: 8px; }\\n  .login-popup__content, .profile-popup__content, .signup-popup__content, .game-over__content {\\n    display: flex;\\n    flex-direction: column;\\n    margin: 0;\\n    padding: 18px 15px 15px 15px;\\n    border: 1px #E0E0E0 solid;\\n    border-top: 0;\\n    border-bottom-left-radius: 3px;\\n    border-bottom-right-radius: 3px; }\\n  .login-popup__title, .profile-popup__title, .signup-popup__title {\\n    padding: 10px;\\n    border-top-right-radius: 3px;\\n    border-top-left-radius: 3px;\\n    background-color: #fb6a06;\\n    color: white; }\\n\\n.icon, .checkbox:checked::before, .select::after, .scoreboard__item_place_first .scoreboard__link::before, .scoreboard__item_place_second .scoreboard__link::before, .scoreboard__item_place_third .scoreboard__link::before {\\n  display: inline-block;\\n  -webkit-mask-size: contain;\\n  mask-size: contain;\\n  -webkit-mask-repeat: no-repeat;\\n  mask-repeat: no-repeat;\\n  height: 14px;\\n  width: 14px; }\\n  .icon_size_small, .checkbox_size_small::before, .sm-icons-list__icon {\\n    height: 12px;\\n    width: 12px; }\\n  .icon_size_large, .checkbox_size_large::before {\\n    height: 20px;\\n    width: 20px; }\\n  .icon_size_xlarge {\\n    height: 24px;\\n    width: 24px; }\\n  .icon_size_xxlarge {\\n    height: 32px;\\n    width: 32px; }\\n  .icon_size_xxxlarge {\\n    height: 40px;\\n    width: 40px; }\\n  .icon_size_fit {\\n    height: 60%;\\n    width: 60%; }\\n  .icon_size_header-fit {\\n    height: 2.5em;\\n    width: 2.5em; }\\n  .icon_color_green {\\n    background-color: #2e7d32; }\\n  .icon_color_orange {\\n    background-color: #FD9E0B; }\\n  .icon_color_white, .checkbox:checked::before, .sm-icons-list__icon {\\n    background-color: white; }\\n  .icon_color_black, .select::after {\\n    background-color: black; }\\n  .icon_color_muted {\\n    background-color: #A9A9A9; }\\n  .icon_color_muted-light {\\n    background-color: #F7F7F7; }\\n  .icon_type_cross {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___1___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___1___ + \"); }\\n  .icon_type_eye {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___2___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___2___ + \"); }\\n  .icon_type_vk {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___3___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___3___ + \"); }\\n  .icon_type_fb {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___4___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___4___ + \"); }\\n  .icon_type_ok {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___5___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___5___ + \"); }\\n  .icon_type_hexagon {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___6___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___6___ + \"); }\\n  .icon_type_users {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___7___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___7___ + \"); }\\n  .icon_type_user {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___8___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___8___ + \"); }\\n  .icon_type_key {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___9___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___9___ + \"); }\\n  .icon_type_gamepad {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___10___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___10___ + \"); }\\n  .icon_type_signin {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___11___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___11___ + \"); }\\n  .icon_type_signout {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___12___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___12___ + \"); }\\n  .icon_type_dropdown, .select::after {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___13___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___13___ + \"); }\\n  .icon_type_useredit {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___14___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___14___ + \"); }\\n  .icon_type_delete {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___15___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___15___ + \"); }\\n  .icon_type_crown, .scoreboard__item_place_first .scoreboard__link::before, .scoreboard__item_place_second .scoreboard__link::before, .scoreboard__item_place_third .scoreboard__link::before {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___16___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___16___ + \"); }\\n  .icon_type_back {\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___17___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___17___ + \"); }\\n  .icon_type_ru {\\n    background-image: url(\" + ___CSS_LOADER_URL___18___ + \");\\n    background-repeat: no-repeat;\\n    background-size: 100%;\\n    background-position: 0 25%; }\\n  .icon_btn {\\n    cursor: pointer; }\\n\\n.icon-bg {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 20px;\\n  width: 20px;\\n  border-radius: 4px;\\n  border: 1px solid #E0E0E0; }\\n  .icon-bg_shape_round {\\n    border-radius: 100%; }\\n  .icon-bg_color_green {\\n    background-color: #2e7d32; }\\n  .icon-bg_color_white {\\n    background-color: white; }\\n  .icon-bg_color_black {\\n    background-color: black; }\\n  .icon-bg_color_muted {\\n    background-color: #A9A9A9; }\\n  .icon-bg_color_dark-gray {\\n    background-color: #393939; }\\n  .icon-bg_color_muted-light {\\n    background-color: #F7F7F7; }\\n  .icon-bg_color_vk {\\n    background-color: #4A76A8; }\\n  .icon-bg_color_fb {\\n    background-color: #3B5998; }\\n  .icon-bg_color_ok {\\n    background-color: #EE8208; }\\n  .icon-bg_size_large {\\n    height: 24px;\\n    width: 24px; }\\n  .icon-bg_size_xlarge {\\n    height: 28px;\\n    width: 28px; }\\n  .icon-bg_size_xxlarge {\\n    height: 36px;\\n    width: 36px; }\\n  .icon-bg_size_xxxlarge {\\n    height: 50px;\\n    width: 50px; }\\n  .icon-bg_size_tall, .sm-icons-list__icon-bg {\\n    height: 30px;\\n    width: 24px; }\\n  .icon-bg_size_full {\\n    height: 100%;\\n    width: 100%; }\\n  .icon-bg_btn, .sm-icons-list__icon-bg {\\n    cursor: pointer;\\n    transition: box-shadow 0.2s ease 0s; }\\n    .icon-bg_btn:hover, .sm-icons-list__icon-bg:hover {\\n      -webkit-box-shadow: 0 2px 0 0 #F5F5F5, 0 0 12px -1px lightblue;\\n      -moz-box-shadow: 0 2px 0 0 #F5F5F5, 0 0 12px -1px lightblue;\\n      box-shadow: 0 2px 0 0 #F5F5F5, 0 0 12px -1px lightblue; }\\n  .icon-bg_borderless {\\n    border: none; }\\n\\n.btn, .file-input__label, .result-redirect__btn {\\n  height: 32px;\\n  padding: 0 15px;\\n  font-size: 16px;\\n  line-height: 16px;\\n  border: 1px solid #a74604;\\n  border-radius: 3px;\\n  -webkit-box-shadow: 0 2px #F5F5F5;\\n  -moz-box-shadow: 0 2px #F5F5F5;\\n  box-shadow: 0 2px #F5F5F5;\\n  transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n  background-color: #fb6a06;\\n  color: white;\\n  cursor: pointer;\\n  font-weight: bold; }\\n  .btn .btn__icon, .file-input__label .btn__icon, .result-redirect__btn .btn__icon {\\n    transition: background-color 0.5s ease 0s;\\n    background-color: white; }\\n  .btn:hover:not(.btn_disabled), .file-input__label:hover:not(.btn_disabled), .result-redirect__btn:hover:not(.btn_disabled) {\\n    transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n    background-color: #a74604;\\n    color: white; }\\n    .btn:hover:not(.btn_disabled) .btn__icon, .file-input__label:hover:not(.btn_disabled) .btn__icon, .result-redirect__btn:hover:not(.btn_disabled) .btn__icon {\\n      transition: background-color 0.5s ease 0s;\\n      background-color: white; }\\n  .btn:active:not(.btn_disabled), .file-input__label:active:not(.btn_disabled), .result-redirect__btn:active:not(.btn_disabled) {\\n    transition: background-color 0.2s ease 0s, color 0.2s ease 0s;\\n    background-color: #7f3503;\\n    color: white; }\\n    .btn:active:not(.btn_disabled) .btn__icon, .file-input__label:active:not(.btn_disabled) .btn__icon, .result-redirect__btn:active:not(.btn_disabled) .btn__icon {\\n      transition: background-color 0.2s ease 0s;\\n      background-color: white; }\\n  .btn::-moz-focus-inner, .file-input__label::-moz-focus-inner, .result-redirect__btn::-moz-focus-inner {\\n    border: 0; }\\n  .btn:focus, .file-input__label:focus, .result-redirect__btn:focus {\\n    outline: none; }\\n  .btn_size_large {\\n    height: 40px; }\\n    .btn_size_large .btn__text {\\n      line-height: 20px; }\\n  .btn_color_muted {\\n    border-color: #E0E0E0;\\n    transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n    background-color: #F7F7F7;\\n    color: #A9A9A9; }\\n    .btn_color_muted .btn__icon {\\n      transition: background-color 0.5s ease 0s;\\n      background-color: #A9A9A9; }\\n    .btn_color_muted:hover:not(.btn_disabled) {\\n      transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n      background-color: #c4c4c4;\\n      color: #767676; }\\n      .btn_color_muted:hover:not(.btn_disabled) .btn__icon {\\n        transition: background-color 0.5s ease 0s;\\n        background-color: #767676; }\\n    .btn_color_muted:active:not(.btn_disabled) {\\n      transition: background-color 0.2s ease 0s, color 0.2s ease 0s;\\n      background-color: #b0b0b0;\\n      color: #434343; }\\n      .btn_color_muted:active:not(.btn_disabled) .btn__icon {\\n        transition: background-color 0.2s ease 0s;\\n        background-color: #434343; }\\n  .btn_disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed; }\\n  .btn__inner {\\n    display: flex;\\n    flex-direction: row;\\n    align-content: center;\\n    justify-content: center; }\\n  .btn__text {\\n    margin: auto 0;\\n    font-size: 16px;\\n    line-height: 16px;\\n    padding-top: 1px; }\\n@-moz-document url-prefix() {\\n  .btn__text {\\n    padding-top: 0; } }\\n    .btn__text_normal {\\n      color: black;\\n      font-weight: normal; }\\n  .btn__icon {\\n    margin: auto 8px auto 0; }\\n\\n.checkbox {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  position: relative;\\n  top: -3px;\\n  vertical-align: bottom;\\n  z-index: 200;\\n  display: inline-flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 14px;\\n  width: 14px;\\n  margin: 0;\\n  border-radius: 3px;\\n  cursor: pointer;\\n  background-color: #fb6a06; }\\n  .checkbox:checked::before {\\n    content: \\\"\\\";\\n    -webkit-mask-image: url(\" + ___CSS_LOADER_URL___19___ + \");\\n    mask-image: url(\" + ___CSS_LOADER_URL___19___ + \"); }\\n  .checkbox:focus {\\n    outline: none; }\\n  .checkbox_size_small {\\n    width: 12px;\\n    height: 12px; }\\n    .checkbox_size_small::before {\\n      margin-bottom: 0; }\\n  .checkbox_size_large {\\n    width: 16px;\\n    height: 16px; }\\n\\n.form-group {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  padding: 3px 0; }\\n  .form-group:last-of-type {\\n    padding-bottom: 0; }\\n  .form-group_align_space-between {\\n    flex-direction: row;\\n    justify-content: space-between; }\\n  .form-group_align_center {\\n    flex-direction: row;\\n    justify-content: center; }\\n  .form-group_align_stretch {\\n    flex-direction: row;\\n    justify-content: stretch; }\\n    .form-group_align_stretch .form-group__field {\\n      flex-grow: 1; }\\n  .form-group_size_inline {\\n    padding: 0; }\\n  .form-group_size_large {\\n    padding-bottom: 10px; }\\n  .form-group__help-text {\\n    font-size: 12px;\\n    margin-top: 4px; }\\n    .form-group__help-text_type_error {\\n      color: #FF1100; }\\n    .form-group__help-text_hidden {\\n      display: none;\\n      margin-top: 0; }\\n  .form-group__title {\\n    display: block;\\n    font-size: 14px;\\n    font-weight: bold;\\n    text-align: center; }\\n    .form-group__title_align_left {\\n      text-align: left; }\\n\\n.file-input {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  height: 28px;\\n  padding: 0;\\n  border: 1px solid #E0E0E0;\\n  border-radius: 3px; }\\n  .file-input__label {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: center;\\n    flex-grow: 0;\\n    height: 30px;\\n    margin: -1px;\\n    border: none;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n    border-top-left-radius: inherit;\\n    border-bottom-left-radius: inherit;\\n    box-shadow: none; }\\n  .file-input__field {\\n    width: 0.1px;\\n    height: 0.1px;\\n    opacity: 0;\\n    overflow: hidden;\\n    position: absolute;\\n    z-index: -1; }\\n  .file-input__info {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: center;\\n    min-width: 130px;\\n    overflow: hidden;\\n    flex-grow: 1;\\n    white-space: nowrap;\\n    padding: 0 15px;\\n    font-size: 12px; }\\n\\n.input {\\n  position: relative;\\n  z-index: 200;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  min-width: fit-content;\\n  padding: 0;\\n  border: 1px solid #E0E0E0;\\n  border-radius: 3px;\\n  transition: box-shadow 0.2s ease 0s;\\n  border-width: 1px; }\\n  .input:focus-within {\\n    z-index: 300;\\n    border-color: lightblue;\\n    -webkit-box-shadow: 0 0 50px -12px lightblue;\\n    -moz-box-shadow: 0 0 50px -12px lightblue;\\n    box-shadow: 0 0 50px -12px lightblue; }\\n  .input_status_error {\\n    border-color: #FF1100; }\\n  .input__icon {\\n    margin-left: 5px;\\n    margin-right: 5px; }\\n    .input__icon:last-child {\\n      margin-left: 0;\\n      margin-right: 10px; }\\n    .input__icon:first-child {\\n      margin-left: 10px;\\n      margin-right: 0; }\\n  .input__field {\\n    display: inline-block;\\n    height: 18px;\\n    min-width: 0;\\n    flex-grow: 1;\\n    margin: 0;\\n    padding: 6px 5px 4px 5px;\\n    line-height: 12px;\\n    border-radius: 3px;\\n    border-width: 0;\\n    background-color: white;\\n    color: black;\\n    font-size: 12px;\\n    outline: none; }\\n@-moz-document url-prefix() {\\n  .input__field {\\n    height: 15px;\\n    padding-bottom: 7px; } }\\n    .input__field:first-child {\\n      padding-left: 10px; }\\n    .input__field:last-child {\\n      padding-right: 10px; }\\n  .input__field-appendix {\\n    display: inline-block;\\n    margin: 0;\\n    height: 18px;\\n    padding: 8px 2px 3px 2px;\\n    border-radius: 3px;\\n    font-size: 12px;\\n    pointer-events: none; }\\n@-moz-document url-prefix() {\\n  .input__field-appendix {\\n    line-height: 12px; } }\\n  .input__inner {\\n    display: flex;\\n    flex-direction: row; }\\n  .input__tooltip {\\n    position: absolute;\\n    left: calc(100% + 8px);\\n    z-index: 400;\\n    display: table;\\n    min-width: 180px;\\n    padding: 10px;\\n    border-radius: 3px;\\n    background-color: white;\\n    -webkit-box-shadow: 0 0 50px -5px #676767;\\n    -moz-box-shadow: 0 0 50px -5px #676767;\\n    box-shadow: 0 0 50px -5px #676767;\\n    pointer-events: none; }\\n    .input__tooltip::before {\\n      position: absolute;\\n      top: calc(50% - 4px);\\n      left: -6px;\\n      content: \\\"\\\";\\n      border-style: solid;\\n      border-width: 4px 6px 4px 0;\\n      border-color: transparent white transparent transparent; }\\n  .input__tooltip-title {\\n    display: table-row;\\n    max-width: 30px;\\n    font-size: 12px;\\n    color: black; }\\n  .input__tooltip-help {\\n    display: table-row;\\n    font-size: 9px;\\n    color: #A9A9A9; }\\n\\n.select {\\n  transition: box-shadow 0.2s ease 0s;\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  height: 28px;\\n  min-width: fit-content;\\n  padding: 0;\\n  border: 1px solid #E0E0E0;\\n  border-radius: 3px; }\\n  .select:focus-within {\\n    z-index: 300;\\n    border-color: lightblue;\\n    -webkit-box-shadow: 0 0 50px -12px lightblue;\\n    -moz-box-shadow: 0 0 50px -12px lightblue;\\n    box-shadow: 0 0 50px -12px lightblue; }\\n  .select :-moz-focusring {\\n    color: transparent;\\n    text-shadow: 0 0 0 #000; }\\n  .select::after {\\n    position: absolute;\\n    top: 8px;\\n    right: 3px;\\n    z-index: 201;\\n    pointer-events: none;\\n    content: \\\"\\\"; }\\n  .select_stretched {\\n    width: 100%; }\\n  .select_status_error {\\n    border-color: #FF1100; }\\n    .select_status_error:focus-within {\\n      border-color: #FF1100; }\\n  .select__field {\\n    -webkit-appearance: none;\\n    -moz-appearance: none;\\n    appearance: none;\\n    display: inline-block;\\n    flex-grow: 1;\\n    height: 28px;\\n    line-height: 28px;\\n    padding: 1px 22px 0 10px;\\n    font-size: 12px;\\n    background-color: white;\\n    color: black;\\n    border-radius: 3px;\\n    border-width: 0; }\\n@-moz-document url-prefix() {\\n  .select__field {\\n    padding-top: 0; } }\\n    .select__field:focus {\\n      outline: none;\\n      border: none; }\\n  .select__chosen-icon {\\n    margin-left: 10px; }\\n\\n.field-group {\\n  transition: box-shadow 0.2s ease 0s;\\n  display: flex;\\n  flex-direction: row;\\n  align-content: stretch;\\n  justify-content: stretch;\\n  height: 30px; }\\n  .field-group:focus-within {\\n    box-shadow: 0 0 50px -12px lightblue; }\\n    .field-group:focus-within .field-group__field:not([class*=\\\"status_error\\\"]) {\\n      border-color: lightblue; }\\n  .field-group__field {\\n    flex-grow: 1;\\n    height: 28px;\\n    margin: 0;\\n    border-radius: 0;\\n    border-right-width: 0;\\n    border-left-width: 1px; }\\n    .field-group__field:focus-within {\\n      box-shadow: none; }\\n    .field-group__field:first-child {\\n      border-top-left-radius: 3px;\\n      border-bottom-left-radius: 3px; }\\n    .field-group__field:last-child {\\n      border-right-width: 1px;\\n      border-top-right-radius: 3px;\\n      border-bottom-right-radius: 3px; }\\n    .field-group__field_stretched_1 {\\n      flex-grow: 1; }\\n    .field-group__field_stretched_2 {\\n      flex-grow: 2; }\\n    .field-group__field_stretched_3 {\\n      flex-grow: 3; }\\n    .field-group__field_stretched_4 {\\n      flex-grow: 4; }\\n    .field-group__field_stretched_5 {\\n      flex-grow: 5; }\\n    .field-group__field_stretched_6 {\\n      flex-grow: 6; }\\n    .field-group__field_stretched_7 {\\n      flex-grow: 7; }\\n    .field-group__field_stretched_8 {\\n      flex-grow: 8; }\\n    .field-group__field_stretched_9 {\\n      flex-grow: 9; }\\n    .field-group__field_stretched_10 {\\n      flex-grow: 10; }\\n    .field-group__field_stretched_11 {\\n      flex-grow: 11; }\\n    .field-group__field_stretched_12 {\\n      flex-grow: 12; }\\n\\n.sm-icons-list {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center; }\\n  .sm-icons-list__icon-bg {\\n    -webkit-box-shadow: 0 2px 0 0 #F5F5F5;\\n    -moz-box-shadow: 0 2px 0 0 #F5F5F5;\\n    box-shadow: 0 2px 0 0 #F5F5F5;\\n    margin: 0 2px; }\\n\\n.pagination {\\n  width: 50%;\\n  margin: 20px auto;\\n  text-align: center; }\\n  .pagination__link {\\n    padding: 3px 10px;\\n    height: 30px;\\n    border: #a74604 solid 1px;\\n    border-right: none;\\n    background-color: white;\\n    color: #1b0c29;\\n    cursor: pointer;\\n    font-weight: bold; }\\n    .pagination__link:focus {\\n      outline: none; }\\n    .pagination__link:not(.pagination__link_current) {\\n      background-color: #fb6a06;\\n      color: white;\\n      transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n      background-color: #fb6a06;\\n      color: white; }\\n      .pagination__link:not(.pagination__link_current) .pagination__icon {\\n        transition: background-color 0.5s ease 0s;\\n        background-color: white; }\\n      .pagination__link:not(.pagination__link_current):hover:not(.pagination_disabled) {\\n        transition: background-color 0.5s ease 0s, color 0.5s ease 0s;\\n        background-color: #994002;\\n        color: white; }\\n        .pagination__link:not(.pagination__link_current):hover:not(.pagination_disabled) .pagination__icon {\\n          transition: background-color 0.5s ease 0s;\\n          background-color: white; }\\n      .pagination__link:not(.pagination__link_current):active:not(.pagination_disabled) {\\n        transition: background-color 0.2s ease 0s, color 0.2s ease 0s;\\n        background-color: #702f02;\\n        color: white; }\\n        .pagination__link:not(.pagination__link_current):active:not(.pagination_disabled) .pagination__icon {\\n          transition: background-color 0.2s ease 0s;\\n          background-color: white; }\\n    .pagination__link:hover:not(.pagination__link_current) {\\n      color: #6614b0;\\n      cursor: pointer; }\\n    .pagination__link_first {\\n      border-bottom-left-radius: 3px;\\n      border-top-left-radius: 3px; }\\n    .pagination__link_last {\\n      border-bottom-right-radius: 3px;\\n      border-top-right-radius: 3px;\\n      border-right: #a74604 solid 1px; }\\n    .pagination__link_current {\\n      background-color: white;\\n      color: #fb6a06;\\n      cursor: auto; }\\n\\n.authors {\\n  position: relative;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  margin-top: 4%;\\n  padding: 5%;\\n  border-radius: 8px;\\n  background-color: rgba(255, 255, 255, 0.5); }\\n  .authors__description {\\n    text-align: center;\\n    font-size: 20px; }\\n  .authors__header {\\n    font-size: 40px;\\n    font-weight: bold; }\\n  .authors__img {\\n    height: 300px;\\n    width: 300px;\\n    border: 1px solid #E0E0E0;\\n    border-radius: 100%; }\\n  .authors__item {\\n    width: 400px;\\n    margin: 0 40px 40px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center; }\\n  .authors__items {\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 80px; }\\n  .authors__title {\\n    text-align: center;\\n    font-size: 30px;\\n    margin: 10px 0 0; }\\n  .authors__subtitle {\\n    text-align: center;\\n    font-size: 16px;\\n    margin: 0 0 10px;\\n    color: #A9A9A9; }\\n  .authors__close-popup {\\n    position: absolute;\\n    top: 10px;\\n    right: 10px; }\\n\\n.header {\\n  display: flex;\\n  align-self: stretch;\\n  justify-self: flex-start;\\n  align-items: center;\\n  height: 4em;\\n  min-height: 4em;\\n  padding-left: 5%;\\n  background-color: #fb6a06; }\\n  .header_main {\\n    margin: 0 8px 24px; }\\n  .header__title {\\n    margin: 0 0 0 4px;\\n    padding: 0;\\n    font-size: 3em;\\n    font-weight: bolder;\\n    color: white; }\\n    .header__title:hover {\\n      text-decoration: none; }\\n  .header__link {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-start;\\n    align-items: center; }\\n    .header__link:hover {\\n      text-decoration: none; }\\n\\n.login-form__remember-me-label, .login-form__forgot-password-link {\\n  font-size: 12px; }\\n.login-form__remember-me-label {\\n  margin-left: 4px; }\\n.login-form__double-btn {\\n  margin-top: 10px; }\\n.login-form__sumbit-btn {\\n  margin-right: 4px;\\n  flex-grow: 1; }\\n.login-form__cancel-btn {\\n  flex-grow: 0; }\\n\\n.login-popup {\\n  padding: 0;\\n  margin: auto 0;\\n  max-width: 300px; }\\n  .login-popup__hr {\\n    margin: 16px -16px; }\\n  .login-popup__continue-with-text {\\n    margin: 8px 0;\\n    font-size: 9px;\\n    text-align: center;\\n    font-weight: bold;\\n    color: #A9A9A9; }\\n  .login-popup__signup-link {\\n    font-size: 12px;\\n    text-align: center;\\n    font-weight: bold; }\\n\\n.menu {\\n  margin: 4% auto 0 auto;\\n  width: 60%;\\n  height: 90%;\\n  min-width: fit-content;\\n  max-width: 600px;\\n  border: 0;\\n  border-radius: 3px; }\\n  .menu__link {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    width: 100%;\\n    height: 100%; }\\n    .menu__link:hover {\\n      text-decoration: none; }\\n  .menu__item {\\n    position: relative;\\n    display: flex;\\n    align-items: center;\\n    margin-bottom: 4%;\\n    height: 4.5rem;\\n    background-color: #fb6a06;\\n    color: white;\\n    border-radius: 5px;\\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.71); }\\n  .menu__dropdown-btn {\\n    position: absolute;\\n    top: 20px;\\n    right: 10px; }\\n  .menu__text {\\n    width: 85%;\\n    text-align: center;\\n    font-size: 2rem;\\n    font-weight: bold;\\n    color: white; }\\n  .menu__icon-bg {\\n    width: 15%;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0; }\\n\\n.profile-info {\\n  display: table;\\n  border-collapse: collapse;\\n  border-spacing: 10px;\\n  padding: 20px; }\\n  .profile-info__item {\\n    display: table-row;\\n    height: 40px;\\n    white-space: nowrap;\\n    border-bottom: 1px solid #E0E0E0; }\\n  .profile-info .profile-info__item-name, .profile-info .profile-info__item-value {\\n    display: table-cell;\\n    vertical-align: middle; }\\n  .profile-info__item-name {\\n    font-weight: bold; }\\n  .profile-info__item-value {\\n    padding-left: 40px; }\\n\\n.profile-popup {\\n  align-items: center;\\n  max-width: 400px; }\\n  .profile-popup_main {\\n    margin-top: 4%; }\\n  .profile-popup__profile-info {\\n    max-width: fit-content;\\n    margin: 20px auto 10px; }\\n  .profile-popup__profile-icon {\\n    display: flex;\\n    justify-content: center;\\n    width: 140px;\\n    height: 140px;\\n    margin: 0 auto;\\n    overflow: hidden;\\n    object-fit: cover;\\n    border-radius: 100%; }\\n  .profile-popup__double-btn {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-start;\\n    margin: 0 auto;\\n    padding: 0 40px; }\\n    .profile-popup__double-btn_center {\\n      flex-direction: row;\\n      justify-content: center; }\\n  .profile-popup__btn {\\n    width: 140px;\\n    margin: 0 4px; }\\n    .profile-popup__btn:first-child {\\n      margin-left: 0; }\\n    .profile-popup__btn:last-child {\\n      margin-right: 0; }\\n\\n.scoreboard {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  min-height: fit-content;\\n  margin-top: 4%;\\n  padding: 2%;\\n  border-radius: 7px;\\n  background-color: white; }\\n  .scoreboard__items {\\n    max-width: 600px;\\n    min-width: 450px; }\\n  .scoreboard__item {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    height: 60px;\\n    border-bottom: 1px solid #fb6a06; }\\n    .scoreboard__item_place_first, .scoreboard__item_place_second, .scoreboard__item_place_third {\\n      font-size: 20px;\\n      font-weight: bold; }\\n      .scoreboard__item_place_first .scoreboard__link, .scoreboard__item_place_second .scoreboard__link, .scoreboard__item_place_third .scoreboard__link {\\n        position: relative; }\\n        .scoreboard__item_place_first .scoreboard__link::before, .scoreboard__item_place_second .scoreboard__link::before, .scoreboard__item_place_third .scoreboard__link::before {\\n          position: absolute;\\n          top: -25px;\\n          width: 40px;\\n          height: 40px;\\n          content: \\\"\\\"; }\\n    .scoreboard__item_place_first .scoreboard__link::before {\\n      background-color: #FFD700; }\\n    .scoreboard__item_place_second .scoreboard__link::before {\\n      background-color: #C0C0C0; }\\n    .scoreboard__item_place_third .scoreboard__link::before {\\n      background-color: #CD7F32; }\\n  .scoreboard__user-data {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: flex-start; }\\n  .scoreboard__link {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center; }\\n    .scoreboard__link:hover {\\n      text-decoration: black; }\\n  .scoreboard__avatar {\\n    display: inline-block;\\n    height: 40px;\\n    width: 40px;\\n    margin-right: 10px;\\n    border-radius: 100%;\\n    vertical-align: middle;\\n    line-height: 40px; }\\n  .scoreboard__place {\\n    display: inline-block;\\n    margin-right: 10px;\\n    width: 20px; }\\n  .scoreboard__data-field {\\n    display: flex;\\n    align-items: center; }\\n  .scoreboard__username {\\n    padding-left: 10px;\\n    color: black; }\\n\\n.signup-popup {\\n  -webkit-align-self: center;\\n  align-self: center;\\n  padding: 0;\\n  max-width: 450px; }\\n  .signup-popup_main {\\n    margin: 4% 0 0 0; }\\n  .signup-popup__hr {\\n    margin: 12px -16px 12px -16px; }\\n  .signup-popup__explanation-text {\\n    margin: 8px 0;\\n    font-size: 12px;\\n    color: #A9A9A9; }\\n  .signup-popup__double-btn {\\n    display: flex;\\n    flex-direction: row;\\n    align-content: flex-start; }\\n  .signup-popup__signup-btn {\\n    margin-right: 4px; }\\n  .signup-popup__cancel-btn {\\n    margin-left: 4px; }\\n\\n.signup-form__date-select:last-child {\\n  margin-right: 0; }\\n.signup-form__form-group {\\n  margin: 8px 0; }\\n\\n.update-profile-popup {\\n  max-width: 250px;\\n  border: 1px #a74604 solid; }\\n  .update-profile-popup__hr {\\n    margin: 16px -15px 16px -15px; }\\n  .update-profile-popup__title {\\n    margin: 0 0 16px 0; }\\n  .update-profile-popup__continue-with-text {\\n    margin: 8px 0;\\n    font-size: 9px;\\n    text-align: center;\\n    color: #A9A9A9;\\n    font-weight: bold; }\\n  .update-profile-popup__signup-link {\\n    font-size: 12px;\\n    text-align: center;\\n    font-weight: bold; }\\n  .update-profile-popup__double-btn {\\n    display: flex;\\n    flex-direction: row;\\n    align-content: flex-start; }\\n  .update-profile-popup__update-btn {\\n    margin-right: 4px; }\\n  .update-profile-popup__cancel-btn {\\n    margin-left: 4px; }\\n\\n.not-found-page {\\n  width: 55%;\\n  margin: auto auto;\\n  border-radius: 8px;\\n  background-color: rgba(255, 255, 255, 0.28);\\n  padding: 20px; }\\n  .not-found-page__link {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n    text-decoration: underline;\\n    color: black; }\\n  .not-found-page__text {\\n    font-weight: bold; }\\n    .not-found-page__text_main {\\n      font-size: 4rem;\\n      color: black; }\\n    .not-found-page__text_additional {\\n      margin-bottom: 4%;\\n      font-size: 1.5rem;\\n      color: #1c1c1c; }\\n\\n.game-over {\\n  position: relative;\\n  width: 42rem;\\n  align-items: center;\\n  margin: auto 0;\\n  background-color: rgba(226, 216, 216, 0.6);\\n  border-radius: 5px;\\n  max-width: 56rem; }\\n  .game-over_multi {\\n    width: 56rem; }\\n  .game-over__column {\\n    display: inline-block;\\n    width: 33.33%;\\n    vertical-align: top; }\\n  .game-over__title {\\n    display: block;\\n    text-align: center;\\n    font-size: 45px;\\n    font-weight: bold;\\n    margin-top: 4%; }\\n  .game-over_main {\\n    margin-top: 4%; }\\n  .game-over__profile-info {\\n    max-width: fit-content;\\n    margin: 20px auto 10px; }\\n  .game-over__profile-icon {\\n    display: flex;\\n    justify-content: center;\\n    width: 140px;\\n    height: 140px;\\n    margin: 0 auto;\\n    overflow: hidden;\\n    object-fit: cover;\\n    border-radius: 100%; }\\n  .game-over__btn {\\n    width: 140px;\\n    margin: 0 4px; }\\n    .game-over__btn:first-child {\\n      margin-left: 0; }\\n    .game-over__btn:last-child {\\n      margin-right: 0; }\\n\\n.result-time {\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 12rem;\\n  border: 4px solid #0e100f;\\n  border-radius: 10px;\\n  margin-top: 1rem; }\\n  .result-time__title {\\n    text-align: center;\\n    font-size: 24px;\\n    font-weight: lighter;\\n    color: black; }\\n  .result-time__seconds {\\n    font-weight: bold;\\n    text-align: center;\\n    font-size: 50px; }\\n\\n.game-info {\\n  align-items: center;\\n  margin: auto 0; }\\n  .game-info_single {\\n    padding-top: 3rem; }\\n  .game-info_main {\\n    display: block;\\n    padding-top: 9rem; }\\n    .game-info_main_title {\\n      margin-bottom: 2rem; }\\n  .game-info__one-btn {\\n    position: absolute;\\n    bottom: 0;\\n    top: 38%;\\n    left: 50%;\\n    transform: translate(-50%, 70%); }\\n  .game-info__avatar {\\n    border-radius: 8rem;\\n    width: 185px;\\n    margin-left: auto;\\n    margin-right: auto;\\n    display: block; }\\n  .game-info__nickname {\\n    text-align: center;\\n    font-weight: bold;\\n    font-family: sans-serif;\\n    font-size: 45px; }\\n  .game-info__item {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 1rem 1rem 0rem 1rem;\\n    font-family: Helvetica, sans-serif;\\n    font-weight: normal; }\\n    .game-info__item-name {\\n      font-size: 25px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      padding-right: 10px; }\\n    .game-info__item-value {\\n      font-size: 35px;\\n      font-weight: bold;\\n      padding-left: 10px; }\\n\\n.result-redirect {\\n  padding: 1rem;\\n  font-family: Helvetica, sans-serif;\\n  font-weight: normal;\\n  position: relative;\\n  bottom: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 33rem; }\\n  .result-redirect__item_center {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 1rem;\\n    font-family: Helvetica, sans-serif;\\n    font-weight: normal; }\\n  .result-redirect__btn {\\n    display: block;\\n    width: 33rem;\\n    position: relative;\\n    top: 50%;\\n    left: 50%;\\n    margin-right: -50%;\\n    transform: translate(-50%, 0%);\\n    border: 1px solid #a3653bde;\\n    -webkit-box-shadow: 0 2px #977575a6;\\n    -moz-box-shadow: 0 2px #977575a6;\\n    box-shadow: 0 2px #977575a6;\\n    height: 55px;\\n    width: -moz-available;\\n    width: -webkit-fill-available;\\n    width: 33rem; }\\n  .result-redirect__center {\\n    margin-left: auto;\\n    margin-right: auto;\\n    width: 18rem;\\n    padding-top: 1rem; }\\n  .result-redirect__link {\\n    text-align: center;\\n    color: #282222cc;\\n    font-weight: bold;\\n    font-size: 25px;\\n    text-decoration: underline; }\\n  .result-redirect__one-btn {\\n    position: absolute;\\n    bottom: 0;\\n    top: 38%;\\n    left: 50%;\\n    transform: translate(-50%, 70%); }\\n  .result-redirect__text {\\n    font-size: 25px; }\\n\\n.game-msg {\\n  padding-top: 1rem;\\n  font-size: 45px;\\n  font-weight: bold; }\\n  .game-msg_center {\\n    text-align: center; }\\n\\n.offline-msg {\\n  background: rgba(102, 102, 102, 0.5);\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0; }\\n  .offline-msg__window {\\n    width: 300px;\\n    height: 70px;\\n    text-align: center;\\n    padding: 15px;\\n    border: 3px solid black;\\n    border-radius: 10px;\\n    color: #fb6a06;\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    margin: auto;\\n    background: #fff; }\\n  .offline-msg__btn {\\n    display: inline-block;\\n    border: 1px solid #fb6a06;\\n    color: #fb6a06;\\n    padding: 0 12px;\\n    margin: 10px;\\n    border-radius: 5px;\\n    text-decoration: none;\\n    background: #f2f2f2;\\n    font-size: 14pt;\\n    cursor: pointer; }\\n    .offline-msg__btn:hover {\\n      background: #e6e6ff; }\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","\"use strict\";\n\nmodule.exports = function escape(url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"';\n  }\n\n  return url;\n};","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjQwMyA3LjA1NmwtLjE3Ni0uMTc2YTIuMjUxIDIuMjUxIDAgMCAxIDAtMy4xODJsMS45NDUtMS45NDRhNC4wMDEgNC4wMDEgMCAwIDEgNS42NTYgMGwxLjQxNSAxLjQxNGE0LjAwMiA0LjAwMiAwIDAgMSAwIDUuNjU3bC0xLjk0NSAxLjk0NGEyLjI1MSAyLjI1MSAwIDAgMS0zLjE4MiAwbC0uMTc3LS4xNzctMS4yMzIgMS4yMzFjLS4xMzEuMTMxLS40MDguMzkxLS44NDIuMzkxLS44MSAwLTEuOTczLS4yNDctMi4yMTkgMC0uMjYyLjI1OS0uMTUyLjY1NS0uMTUgMS43ODEuMDE5LjY0My0uNzMxIDEtMS40OTYgMUgyYy0uNjU5IDAtMS0uMjk1LTEtMXYtMi4wMThjMC0uMzIuMTIyLS42NC4zNjYtLjg4M2w0LjAzNy00LjAzOHptNy4wMDItLjc3N2ExIDEgMCAwIDAgMC0xLjQxNGwtMS4yNzMtMS4yNzRhMSAxIDAgMCAwLTEuNDE0IDEuNDE0bDEuMjczIDEuMjc0YTEgMSAwIDAgMCAxLjQxNCAweiIvPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjMwNCA3LjI4MWwzLjA0LTMuMDM5YTEgMSAwIDAgMSAxLjQxNCAxLjQxNEw2LjQxNCA3aDUuNjM3YTEgMSAwIDAgMSAwIDJINi40MTRsMS4zNDQgMS4zNDRhMSAxIDAgMCAxLTEuNDE0IDEuNDE0bC0zLjA0LTMuMDM5LS4wMTEtLjAxMmEuOTk3Ljk5NyAwIDAgMSAwLTEuNDE0bC4wMTEtLjAxMnoiLz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjU4NiA4TDQuMjkzIDUuNzA3YS45OTkuOTk5IDAgMSAxIDEuNDE0LTEuNDE0TDggNi41ODZsMi4yOTMtMi4yOTNhMSAxIDAgMCAxIDEuNDE0IDEuNDE0TDkuNDE0IDhsMi4yOTMgMi4yOTNhMSAxIDAgMCAxLTEuNDE0IDEuNDE0TDggOS40MTRsLTIuMjkzIDIuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNEw2LjU4NiA4eiIvPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48cGF0aCBkPSJNNTI4IDQ0OEgxMTJjLTguOCAwLTE2IDcuMi0xNiAxNnYzMmMwIDguOCA3LjIgMTYgMTYgMTZoNDE2YzguOCAwIDE2LTcuMiAxNi0xNnYtMzJjMC04LjgtNy4yLTE2LTE2LTE2em02NC0zMjBjLTI2LjUgMC00OCAyMS41LTQ4IDQ4IDAgNy4xIDEuNiAxMy43IDQuNCAxOS44TDQ3NiAyMzkuMmMtMTUuNCA5LjItMzUuMyA0LTQ0LjItMTEuNkwzNTAuMyA4NUMzNjEgNzYuMiAzNjggNjMgMzY4IDQ4YzAtMjYuNS0yMS41LTQ4LTQ4LTQ4cy00OCAyMS41LTQ4IDQ4YzAgMTUgNyAyOC4yIDE3LjcgMzdsLTgxLjUgMTQyLjZjLTguOSAxNS42LTI4LjkgMjAuOC00NC4yIDExLjZsLTcyLjMtNDMuNGMyLjctNiA0LjQtMTIuNyA0LjQtMTkuOCAwLTI2LjUtMjEuNS00OC00OC00OFMwIDE0OS41IDAgMTc2czIxLjUgNDggNDggNDhjMi42IDAgNS4yLS40IDcuNy0uOEwxMjggNDE2aDM4NGw3Mi4zLTE5Mi44YzIuNS40IDUuMS44IDcuNy44IDI2LjUgMCA0OC0yMS41IDQ4LTQ4cy0yMS41LTQ4LTQ4LTQ4eiIvPjwvc3ZnPgo8IS0tCkZvbnQgQXdlc29tZSBGcmVlIDUuMi4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tCkxpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKQotLT4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40MzcgNmEuNDYzLjQ2MyAwIDAgMSAuNDY0LjQ4OWwtLjM2NyA2LjY3OWMwIDEuMTA0LS45MTQgMS44NC0yLjAxOCAxLjg0SDUuNTQ4Yy0xLjEwMyAwLTIuMDE3LS42ODYtMi4wMTctMS43OWwtLjQzNi02LjcyNEEuNDYyLjQ2MiAwIDAgMSAzLjU1OCA2aDguODc5ek0yLjEyOCA1YS41MjkuNTI5IDAgMCAxLS41MzEtLjUyNWwuMDAxLS4wMTJjMC0uNDE0LjI1MS0uNzY5LjYwOC0uOTIyLjQ1NS0uMjQxIDEuNjgxLS40MzkgMy4yOTItLjU0MlYxLjQxQzUuNDk4LjYzMiA2LjEzIDAgNi45MDggMGgyLjE4NGMuNzc4IDAgMS40MS42MzIgMS40MSAxLjQxdjEuNTg5YzEuNjExLjEwMyAyLjgzNy4zMDEgMy4yOTIuNTQyLjM1Ny4xNTMuNjA4LjUwOC42MDguOTIyIDAgLjI5Ny0uMjQuNTM3LS41MzcuNTM3SDIuMTI4em02LjU3MS0zLjQwN0g3LjMwMUEuMzAxLjMwMSAwIDAgMCA3IDEuODk0djEuMDQxYTQ2LjQ1NCA0Ni40NTQgMCAwIDEgMiAwVjEuODk0YS4zMDEuMzAxIDAgMCAwLS4zMDEtLjMwMXoiLz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS43NSA1bC04IDgtMy41LTMuNUMzLjc1IDkgMyA5IDIuNSA5LjVzLS41IDEuMjUgMCAxLjc1bDQuMzc1IDQuMzc1Yy4yNS4yNS41LjM3NS44NzUuMzc1cy42MjUtLjEyNS44NzUtLjM3NUwxNy41IDYuNzVjLjUtLjUuNS0xLjI1IDAtMS43NXMtMS4yNS0uNS0xLjc1IDB6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjIyOCA2LjYzNUExIDEgMCAwIDEgNSA1aDZhMSAxIDAgMCAxIC43NzIgMS42MzVsLTIuOTY0IDMuOTU0YS45OTkuOTk5IDAgMCAxLTEuNjE2IDBMNC4yMjggNi42MzV6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjYxNCA4LjE0N2gyLjA5N3MuMjE3LS42NjMuMjg5LTEuNjJ2LS4xNDguMDc0LS4zNjhIOC41NDJ2LTIuMzZjMC0uMjIuMzYyLS41OS42NS0uNTloMS41MTlWMUg5LjQxQzYuNjYzIDEgNi40NDYgMy41MDUgNi40NDYgMy44NzR2Mi4yODRINXYyLjIxaDEuNDQ2VjE1aDIuMTY4VjguMTQ3eiIvPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMyAzYzEuNjU2IDAgMyAxLjM0NCAzIDN2NWEzLjAwMSAzLjAwMSAwIDAgMS01Ljg1MS45MzVDOS45NTQgMTEuNDAxIDkuNTMxIDExIDkgMTFINi45OTZjLS41NTIgMC0uOTI5LjM2Ny0xLjE2NyAxQTMuMDAxIDMuMDAxIDAgMCAxIDAgMTFWNmMwLTEuNjU2IDEuMzQ0LTMgMy0zaDEwem0tLjg4MSA1LjM4N2EuODg3Ljg4NyAwIDEgMS0xLjI1NSAxLjI1NC44ODcuODg3IDAgMCAxIDEuMjU1LTEuMjU0ek0zLjg3NyA1LjQ4NUgzLjEyYS4zNzguMzc4IDAgMCAwLS4zNzguMzc4di44NzhoLS44ODRhLjM4LjM4IDAgMCAwLS4zNzkuMzh2Ljc1OWMwIC4yMDkuMTcuMzc5LjM3OS4zNzloLjg4NHYuODc4YzAgLjIwOS4xNjkuMzc4LjM3OC4zNzhoLjc1N2EuMzc4LjM3OCAwIDAgMCAuMzc4LS4zNzh2LS44NzhoLjg4N2EuMzguMzggMCAwIDAgLjM3OS0uMzc5di0uNzU5YS4zOC4zOCAwIDAgMC0uMzc5LS4zOGgtLjg4N3YtLjg3OGEuMzc4LjM3OCAwIDAgMC0uMzc4LS4zNzh6bTkuODYzIDEuMzg4YS44ODcuODg3IDAgMSAxLTEuMjU1IDEuMjU0Ljg4Ny44ODcgMCAwIDEgMS4yNTUtMS4yNTR6bS0zLjIyNiAwYS44ODcuODg3IDAgMSAxLTEuMjU1IDEuMjU0Ljg4Ny44ODcgMCAwIDEgMS4yNTUtMS4yNTR6bTEuNjA1LTEuNTE0YS44ODcuODg3IDAgMSAxLTEuMjU1IDEuMjU0Ljg4Ny44ODcgMCAwIDEgMS4yNTUtMS4yNTR6TTkgMkg2LjY3MWExIDEgMCAwIDEgMC0ySDlhMSAxIDAgMCAxIDAgMnoiLz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE3NCIgaGVpZ2h0PSIyMDAiIHZpZXdib3g9IjAgMCAxNzMuMjA1MDgwNzU2ODg3NzIgMjAwIiA+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNODYuNjAyNTQwMzc4NDQzODYgMEwxNzMuMjA1MDgwNzU2ODg3NzIgNTBMMTczLjIwNTA4MDc1Njg4NzcyIDE1MEw4Ni42MDI1NDAzNzg0NDM4NiAyMDBMMCAxNTBMMCA1MFoiPjwvcGF0aD4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDguMjYyYzEuOTk5IDAgMy41ODQtMS42MDYgMy41ODQtMy42MzFDMTEuNTg0IDIuNjc2IDkuOTk5IDEgOCAxUzQuNDE2IDIuNjA2IDQuNDE2IDQuNjNjMCAyLjAyNiAxLjU4NSAzLjYzMiAzLjU4NCAzLjYzMnptMC01LjA5N2MuODI3IDAgMS41MTYuNjk4IDEuNTE2IDEuNDY2IDAgLjgzOC0uNjg5IDEuNDY2LTEuNTE2IDEuNDY2LS44MjcgMC0xLjUxNi0uNjk4LTEuNTE2LTEuNDY2UzcuMTczIDMuMTY1IDggMy4xNjV6bTEuNDQ3IDguMDNsMi4xMzcgMi4wMjRhMS4wMjIgMS4wMjIgMCAwIDEgMCAxLjQ2NyAxLjA3MiAxLjA3MiAwIDAgMS0xLjUxNiAwbC0yLTEuOTU1LTEuOTk4IDEuOTU1Yy0uMjA3LjIxLS40ODIuMjgtLjc1OC4yOHMtLjU1MS0uMDctLjc1OC0uMjhhMS4wMjIgMS4wMjIgMCAwIDEgMC0xLjQ2N2wxLjk5OS0yLjAyNGMtLjY5LS4xNC0xLjQ0OC0uNDItMi4wNjgtLjgzOC0uNDgyLS4zNS0uNjItLjk3OC0uMzQ0LTEuNDY3LjI3NS0uNDg5Ljk2NC0uNjI4IDEuNDQ3LS4zNDkgMS40NDcuOTA4IDMuMzc3LjkwOCA0LjgyNCAwIC40ODMtLjI4IDEuMTcyLS4xNCAxLjQ0Ny4zNS4yNzYuNDg4LjEzOCAxLjE4Ni0uMzQ0IDEuNDY2LS42Mi40MTktMS4zMS42OTgtMi4wNjguODM4eiIvPgo8L3N2Zz4K\"","module.exports = __webpack_public_path__ + \"0d31ef75adef220e73f0cb93a84a7422.png\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDEuNDg4Yy01LjMwMiAwLTggNS4yMS04IDYuNTEyIDAgMS4zMDIgMi43OTEgNi41MTIgOCA2LjUxMlMxNiA5LjMwMiAxNiA4YzAtMS4zMDItMi42OTgtNi41MTItOC02LjUxMnptMCAxMC4yMzNBMy43MzEgMy43MzEgMCAwIDEgNC4yNzkgOCAzLjczMSAzLjczMSAwIDAgMSA4IDQuMjc5IDMuNzMxIDMuNzMxIDAgMCAxIDExLjcyMSA4IDMuNzMxIDMuNzMxIDAgMCAxIDggMTEuNzIxek04IDZjMS4xNDMgMCAyIC45NTMgMiAyIDAgMS4xNDMtLjk1MiAyLTIgMi0xLjE0MyAwLTItLjk1Mi0yLTIgMC0xLjE0Mi44NTctMiAyLTJ6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjU5NyAyLjAxMWEuNTk2LjU5NiAwIDAgMC0uNTMxLjMyM2wtLjAwNC4wMDhhMS4wODcgMS4wODcgMCAwIDEtMS45NjUtLjkxOWwuMTM4LS4zNTMuMDAxLS4wMDJBMiAyIDAgMCAxIDcgLjAxMWg3YTIgMiAwIDAgMSAyIDJWMTEuNWMwIDEuNzY4LTEuNTk5IDIuNTY4LTEuNTk5IDIuNTY4bC0yLjY4NCAxLjc5MS0uMDAxLjAwMWExLjE2NCAxLjE2NCAwIDAgMS0xLjcxOC0xLjAyN2wuMDAxLS4xNTV2LS42NjdINi45OTNhMi4wMDEgMi4wMDEgMCAwIDEtMS43NjQtMS4wNThsLS4wMDEtLjAwMS0uMTM4LS4zNTNhMS4wODcgMS4wODcgMCAwIDEgMS45NjUtLjkybC4wMDguMDE1Yy4xLjE4OC4yOTguMzE3LjUyNy4zMTdoMi40MDlsLjAwMS0zVjUuNzAzYzAtMS43OTcgMS41MDMtMi40NjMgMS41MDMtMi40NjNsMi40MjItMS4yMjlINy41OTd6bS0zLjAxMSA0bC0uMjkzLS4yOTNhMSAxIDAgMCAxIDEuNDE0LTEuNDE0bDEuOTg2IDEuOTg1LjAxNC4wMTVhLjk4Ni45ODYgMCAwIDEgLjI5Mi42NjRMOCA2Ljk5OXYuMDQzbC0uMDAxLjAwMXYuMDIybC0uMDAxLjAwMXYuMDExYS44NDQuODQ0IDAgMCAxLS4wMTIuMTAxbC0uMDAxLjAwNHYuMDAzbC0uMDAxLjAwM3YuMDA0bC0uMDAxLjAwMnYuMDAxYS45ODcuOTg3IDAgMCAxLS4yNzYuNTIzbC0uMDE0LjAxNC0xLjk4NiAxLjk4NmExIDEgMCAwIDEtMS40MTQtMS40MTRsLjI5My0uMjkzSDFhMSAxIDAgMCAxIDAtMmgzLjU4NnoiLz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNiAxMS40ODljMCAxLjc2OC0xLjU5OSAyLjU2OC0xLjU5OSAyLjU2OGwtMi42ODQgMS43OTEtLjAwMS4wMDFhMS4xNjQgMS4xNjQgMCAwIDEtMS43MTgtMS4wMjdsLjAwMS0uMTU1VjE0SDdhMiAyIDAgMCAxLTItMnYtMmExIDEgMCAwIDEgMiAwdjEuNDAzYzAgLjMyOS4yNjcuNTk3LjU5Ny41OTdoMi40MDJMMTAgOVY1LjY5MmMwLTEuNzk2IDEuNTAzLTIuNDYzIDEuNTAzLTIuNDYzbDIuMjI4LTEuMTMxQS41OTQuNTk0IDAgMCAwIDEzLjQwMyAySDcuNTk3QS41OTcuNTk3IDAgMCAwIDcgMi41OTdWNGExIDEgMCAwIDEtMiAwVjJhMiAyIDAgMCAxIDItMmg3YTIgMiAwIDAgMSAyIDJ2OS40ODl6TS4zMDcgNi4yNzhsMS45ODYtMS45ODVhMSAxIDAgMCAxIDEuNDE0IDEuNDE0TDMuNDE0IDZIN2ExIDEgMCAwIDEgMCAySDMuNDE0bC4yOTMuMjkzYTEgMSAwIDAgMS0xLjQxNCAxLjQxNEwuMzA3IDcuNzIybC0uMDE0LS4wMTVhLjk4My45ODMgMCAwIDEtLjI3Ni0uNTIzdi0uMDAxbC0uMDAxLS4wMDF2LS4wMDVsLS4wMDEtLjAwM3YtLjAwM2wtLjAwMS0uMDAzdi0uMDAxYS44Mi44MiAwIDAgMS0uMDEyLS4xMDF2LS4wMTFsLS4wMDEtLjAwMXYtLjAyMkgwdi0uMDYzbC4wMDEtLjAwMXYtLjAxYS45ODUuOTg1IDAgMCAxIC4yOTItLjY2NWwuMDE0LS4wMTV6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjQ4OCA4LjQwNEEzIDMgMCAwIDEgNSA1LjgxM1YzLjU0NGEzLjAwMSAzLjAwMSAwIDAgMSA2IDB2Mi4yNjlhMyAzIDAgMCAxLTEuNDg4IDIuNTkxVjkuMkE0LjUwMiA0LjUwMiAwIDAgMSAxNCAxMy43di4zYTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xdi0uM2MwLTIuNDggMi4wMS00LjQ5NCA0LjQ4OC00LjV2LS43OTZ6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjYyNyAxMy4yMDNsNC4yMzctNC4yMzcgMi4xNyAyLjE3LTMuMTUyIDMuMTUyLTEuMDg1IDEuMDg1Yy0uMDAxLjAwMS0uMjQzLjIyNS0uNzEyLjMxNGwtMS42MjEuMzA2YS40MzguNDM4IDAgMCAxLS4zNi0uMDk3LjQzOC40MzggMCAwIDEtLjA5Ny0uMzZsLjMwNi0xLjYyMWMuMDg5LS40NjguMzEyLS43MS4zMTQtLjcxMnpNNS41NTcgMTRIMi4wMTNhMSAxIDAgMCAxLTEtMXYtLjNjMC0yLjQ4IDIuMDEtNC40OTQgNC40ODgtNC41di0uNzk2YTMgMyAwIDAgMS0xLjQ4OC0yLjU5MVYzYTMuMDAxIDMuMDAxIDAgMCAxIDYgMHYxLjgxM2EzIDMgMCAwIDEtMS40ODggMi41OTFWOC4yYTQuNTIgNC41MiAwIDAgMSAxLjE5OS4xNjUgMjQ3Ny43MyAyNDc3LjczIDAgMCAwLTMuMzI2IDMuMzI5Yy0uMDA0LjAwNC0uNTA5LjU1Mi0uNzEgMS42MTFMNS41NTcgMTR6bTguOTk0LTYuODEyYS42NDMuNjQzIDAgMCAwLS45MDkgMGwtLjg1Ni44NTYgMi4xNyAyLjE3Ljg1Ni0uODU2YS42NDMuNjQzIDAgMCAwIDAtLjkwOWwtMS4yNjEtMS4yNjF6Ii8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNSAxNUg1YTEgMSAwIDAgMS0xLTF2LS4zYzAtMi40OCAyLjAxLTQuNDk0IDQuNDg4LTQuNXYtLjc5NkEzIDMgMCAwIDEgNyA1LjgxM1YzLjU0NGEzLjAwMSAzLjAwMSAwIDAgMSA2IDB2Mi4yNjlhMyAzIDAgMCAxLTEuNDg4IDIuNTkxVjkuMkE0LjUwMiA0LjUwMiAwIDAgMSAxNiAxMy43di4zYTEgMSAwIDAgMS0xIDF6TTIuNTQxIDEzSC43NTNBLjc1NC43NTQgMCAwIDEgMCAxMi4yNDdhMy4zOTIgMy4zOTIgMCAwIDEgMy4yMDYtMy4zODV2LS41NzRhMi4xNDIgMi4xNDIgMCAwIDEtMS4wNjMtMS44NVY1LjE0M0EyLjE0NCAyLjE0NCAwIDAgMSA1LjUwNCAzLjM4bC0uMDA0LjE1NGMwIC43ODUtLjAwNiAxLjU3MS4wMDEgMi4zNTYuMDA2LjI1My4wMjkuNTA1LjA3Ni43NTUuMDczLjM4OS4xOTkuNzYzLjM2OCAxLjEybC4wMDkuMDE3YTIuMTYzIDIuMTYzIDAgMCAxLS41ODguNTA2di4yOTZhNi4wMzUgNi4wMzUgMCAwIDAtMi42MzkgMy40NzcgNiA2IDAgMCAwLS4xODYuOTM5eiIvPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS42MjMgMy45MDFjLjExOS0uMzczIDAtLjY0NC0uNTI1LS42NDRoLTEuNzQ1Yy0uNDQxIDAtLjY0NC4yMzgtLjc2My40OTIgMCAwLS44OTggMi4xNjktMi4xNTIgMy41NzUtLjQwNi40MDctLjU5My41NDItLjgxMy41NDItLjExOSAwLS4yNzEtLjEzNS0uMjcxLS41MDhWMy44ODRjMC0uNDQtLjEzNi0uNjQ0LS41MDktLjY0NEg2LjFjLS4yNzEgMC0uNDQuMjA0LS40NC40MDcgMCAuNDI0LjYyNy41MjUuNjk0IDEuNzEydjIuNTc1YzAgLjU1OS0uMTAxLjY2MS0uMzIyLjY2MS0uNTkzIDAtMi4wMzMtMi4xODYtMi44OTctNC42NzctLjE3LS40OTEtLjMzOS0uNjc4LS43OC0uNjc4SC41OTNjLS41MDggMC0uNTkzLjIzOC0uNTkzLjQ5MiAwIC40NTcuNTkzIDIuNzYyIDIuNzYyIDUuODEyIDEuNDQgMi4wODQgMy40OTEgMy4yMDMgNS4zMzggMy4yMDMgMS4xMTggMCAxLjI1NC0uMjU1IDEuMjU0LS42Nzh2LTEuNTc2YzAtLjUwOC4xMDEtLjU5My40NTctLjU5My4yNTQgMCAuNzEyLjEzNSAxLjc0NiAxLjEzNSAxLjE4NiAxLjE4NiAxLjM4OSAxLjcyOSAyLjA1IDEuNzI5aDEuNzQ1Yy41MDkgMCAuNzQ2LS4yNTUuNjEtLjc0Ni0uMTUyLS40OTEtLjcyOC0xLjIwMy0xLjQ3NC0yLjA1LS40MDctLjQ3NS0xLjAxNy0xLTEuMjAzLTEuMjU0LS4yNTQtLjMzOS0uMTg2LS40NzUgMC0uNzgtLjAxNyAwIDIuMTE4LTMuMDE2IDIuMzM4LTQuMDMzIi8+Cjwvc3ZnPgo=\"","module.exports = __webpack_public_path__ + \"b1a81f232c0cec19ed63b2c7f24e56e9.jpg\";","/**\n * The class implements methods for calling communicating with the server API\n */\nexport default class ajax {\n  /**\n   * @param {string} method HTTP Method to use\n   * @param {string} path Path to send the query to\n   * @param {Object} body Body of the query (will be serialized as json)\n   * @param {string} mode cors/no-cors/*same-origin, see fetch docs\n   * @return {Promise} Promise for the HTTP request\n   * @private\n   */\n  static _ajax({method, path, body, mode = 'cors'}) {\n    const headers = new Headers();\n    const csrfToken = getSingleCookie('csrf');\n    if (csrfToken) {\n      headers.append('X-CSRF-Token', csrfToken);\n    }\n    if (body) {\n      headers.append('Content-Type', 'application/json; charset=utf-8');\n      body = JSON.stringify(body);\n    }\n\n    const init = {headers, method, mode, credentials: 'include'};\n    if (body) {\n      init.body = body;\n    }\n\n    return fetch(path, init);\n  }\n\n  /**\n   * @param {string} path Path to send the query to\n   * @param {Object} body Body of the query (will be serialized as json)\n   * @return {Promise} Promise for the HTTP request\n   */\n  static doGet({path = '/', body = null}) {\n    return this._ajax({path, body, method: 'GET'});\n  }\n\n  /**\n   * @param {string} path Path to send the query to\n   * @param {Object} body Body of the query (will be serialized as json)\n   * @return {Promise} Promise for the HTTP request\n   */\n  static doPost({path = '/', body = null}) {\n    return this._ajax({path, body, method: 'POST'});\n  }\n\n  /**\n   * @param {string} path Path to send the query to\n   * @param {Object} body Body of the query (will be serialized as json)\n   * @return {Promise} Promise for the HTTP request\n   */\n  static doPut({path = '/', body = null}) {\n    return this._ajax({path, body, method: 'PUT'});\n  }\n}\n\n/**\n * Retrieves a single cookie from document.cookie. If the cookie is unset,\n * returns undefined.\n * @param {string} name The name of the cookie\n * @return {string} The value of the cookie. Undefined if not found.\n */\nfunction getSingleCookie(name) {\n  const cookies = ('; ' + document.cookie).split('; ' + name + '=');\n  if (cookies.length === 2) {\n    const cookieValue = cookies.pop();\n    const endOfCookieValue = cookieValue.indexOf(';');\n    return cookieValue.substring(\n        0, endOfCookieValue !== -1 ? endOfCookieValue : undefined);\n  }\n}\n","var bemhtml;\n(function(global) {\nfunction buildBemXjst(libs) {\nvar exports;\n/* BEM-XJST Runtime Start */\nvar bemhtml = function(module, exports) {\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bemhtml = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar inherits = require('inherits');\nvar Match = require('../bemxjst/match').Match;\nvar BemxjstEntity = require('../bemxjst/entity').Entity;\n\n/**\n * @class Entity\n * @param {BEMXJST} bemxjst\n * @param {String} block\n * @param {String} elem\n * @param {Array} templates\n */\nfunction Entity(bemxjst) {\n  this.bemxjst = bemxjst;\n\n  this.jsClass = null;\n\n  // \"Fast modes\" about HTML\n  this.tag = new Match(this, 'tag');\n  this.attrs = new Match(this, 'attrs');\n  this.bem = new Match(this, 'bem');\n  this.cls = new Match(this, 'cls');\n\n  BemxjstEntity.apply(this, arguments);\n}\n\ninherits(Entity, BemxjstEntity);\nexports.Entity = Entity;\n\nEntity.prototype.init = function(block, elem) {\n  this.block = block;\n  this.elem = elem;\n\n  // Class for jsParams\n  this.jsClass = this.bemxjst.classBuilder.build(this.block, this.elem);\n};\n\nEntity.prototype._keys = {\n  tag: 1,\n  content: 1,\n  attrs: 1,\n  mix: 1,\n  js: 1,\n  mods: 1,\n  elemMods: 1,\n  cls: 1,\n  bem: 1\n};\n\nEntity.prototype.defaultBody = function(context) {\n  context.mods = this.mods.exec(context);\n  if (context.ctx.elem) context.elemMods = this.elemMods.exec(context);\n\n  return this.bemxjst.render(context,\n                             this,\n                             this.tag.exec(context),\n                             this.js.exec(context),\n                             this.bem.exec(context),\n                             this.cls.exec(context),\n                             this.mix.exec(context),\n                             this.attrs.exec(context),\n                             this.content.exec(context),\n                             context.mods,\n                             context.elemMods);\n};\n\n},{\"../bemxjst/entity\":5,\"../bemxjst/match\":8,\"inherits\":11}],2:[function(require,module,exports){\nvar inherits = require('inherits');\nvar utils = require('../bemxjst/utils');\nvar Entity = require('./entity').Entity;\nvar BEMXJST = require('../bemxjst');\n\nfunction BEMHTML(options) {\n  BEMXJST.apply(this, arguments);\n\n  this._shortTagCloser = typeof options.xhtml !== 'undefined' &&\n                          options.xhtml ? '/>' : '>';\n\n  this._elemJsInstances = options.elemJsInstances;\n  this._omitOptionalEndTags = options.omitOptionalEndTags;\n  this._singleQuotesForDataAttrs =\n    typeof options.singleQuotesForDataAttrs === 'undefined' ?\n      false :\n      options.singleQuotesForDataAttrs;\n  this._unquotedAttrs = typeof options.unquotedAttrs === 'undefined' ?\n    false :\n    options.unquotedAttrs;\n}\n\ninherits(BEMHTML, BEMXJST);\nmodule.exports = BEMHTML;\n\nBEMHTML.prototype.Entity = Entity;\n\nBEMHTML.prototype.runMany = function(arr) {\n  var out = '';\n  var context = this.context;\n  var prevPos = context.position;\n  var prevNotNewList = context._notNewList;\n\n  if (prevNotNewList) {\n    context._listLength += arr.length - 1;\n  } else {\n    context.position = 0;\n    context._listLength = arr.length;\n  }\n  context._notNewList = true;\n\n  if (this.canFlush) {\n    for (var i = 0; i < arr.length; i++)\n      out += context._flush(this._run(arr[i]));\n  } else {\n    for (var i = 0; i < arr.length; i++)\n      out += this._run(arr[i]);\n  }\n\n  if (!prevNotNewList)\n    context.position = prevPos;\n\n  return out;\n};\n\nBEMHTML.prototype.render = function(context, entity, tag, js, bem, cls, mix,\n                                           attrs, content, mods, elemMods) {\n  var ctx = context.ctx;\n\n  if (tag === undefined)\n    tag = 'div';\n  else if (!tag)\n    return (content || content === 0) ? this._run(content) : '';\n\n  var out = '<' + tag;\n\n  if (js === true)\n    js = {};\n\n  var jsParams;\n  if (js) {\n    jsParams = {};\n    jsParams[entity.jsClass] = js;\n  }\n\n  var isBEM = typeof bem !== 'undefined' ? bem : entity.block || entity.elem;\n  isBEM = !!isBEM;\n\n  var addJSInitClass = isBEM && jsParams && (\n    this._elemJsInstances ?\n      entity.block :\n      (entity.block && !entity.elem)\n  );\n\n  if (!isBEM && !cls)\n    return this.renderClose(out, context, tag, attrs, isBEM, ctx, content);\n\n  out += ' class=';\n  var classValue = '';\n  if (isBEM) {\n    classValue += entity.jsClass;\n    classValue += this.buildModsClasses(entity.block, entity.elem,\n                                        entity.elem ? elemMods : mods);\n\n    if (mix) {\n      var m = this.renderMix(entity, mix, jsParams, addJSInitClass);\n      classValue += m.out;\n      jsParams = m.jsParams;\n      addJSInitClass = m.addJSInitClass;\n    }\n\n    if (cls)\n      classValue += ' ' + (typeof cls === 'string' ?\n                    utils.attrEscape(cls).trim() : cls);\n  } else {\n    classValue += typeof cls === 'string' ?\n                           utils.attrEscape(cls).trim() : cls;\n  }\n\n  if (addJSInitClass)\n    classValue += ' i-bem';\n\n  out += this._unquotedAttrs && utils.isUnquotedAttr(classValue) ?\n    classValue :\n    ('\"' + classValue + '\"');\n\n  if (isBEM && jsParams)\n    out += ' data-bem=\\'' + utils.jsAttrEscape(JSON.stringify(jsParams)) + '\\'';\n\n  return this.renderClose(out, context, tag, attrs, isBEM, ctx, content);\n};\n\nvar OPTIONAL_END_TAGS = {\n  // https://www.w3.org/TR/html4/index/elements.html\n  html: 1, head: 1, body: 1, p: 1, li: 1, dt: 1, dd: 1,\n  colgroup: 1, thead: 1, tbody: 1, tfoot: 1, tr: 1, th: 1, td: 1, option: 1,\n\n  // html5 https://www.w3.org/TR/html5/syntax.html#optional-tags\n  /* dl — Neither tag is omissible */ rb: 1, rt: 1, rtc: 1, rp: 1, optgroup: 1\n};\n\nBEMHTML.prototype.renderClose = function(prefix, context, tag, attrs, isBEM,\n                                         ctx, content) {\n  var out = prefix;\n\n  out += this.renderAttrs(attrs);\n\n  if (utils.isShortTag(tag)) {\n    out += this._shortTagCloser;\n    if (this.canFlush)\n      out = context._flush(out);\n  } else {\n    out += '>';\n    if (this.canFlush)\n      out = context._flush(out);\n\n    // TODO(indutny): skip apply next flags\n    if (content || content === 0)\n      out += this.renderContent(content, isBEM);\n\n    if (!this._omitOptionalEndTags || !OPTIONAL_END_TAGS.hasOwnProperty(tag))\n      out += '</' + tag + '>';\n  }\n\n  if (this.canFlush)\n    out = context._flush(out);\n  return out;\n};\n\nBEMHTML.prototype.renderAttrs = function(attrs) {\n  var out = '';\n\n  // NOTE: maybe we need to make an array for quicker serialization\n  if (utils.isObj(attrs)) {\n\n    /* jshint forin : false */\n    for (var name in attrs) {\n      var attr = attrs[name];\n      if (attr === undefined || attr === false || attr === null)\n        continue;\n\n      if (attr === true) {\n        out += ' ' + name;\n      } else {\n        var attrVal = utils.isSimple(attr) ? attr : this.run(attr);\n        out += ' ' + name + '=';\n        out += (this._singleQuotesForDataAttrs && name.indexOf('data-') === 0) ?\n          '\\'' + utils.jsAttrEscape(attrVal) + '\\'' :\n          this.getAttrValue(attrVal);\n      }\n    }\n  }\n\n  return out;\n};\n\nBEMHTML.prototype.getAttrValue = function(attrVal) {\n  return this._unquotedAttrs && utils.isUnquotedAttr(attrVal) ?\n    attrVal :\n    ('\"' + utils.attrEscape(attrVal) + '\"');\n};\n\nBEMHTML.prototype.renderMix = function(entity, mix, jsParams, addJSInitClass) {\n  var visited = {};\n  var context = this.context;\n  var js = jsParams;\n  var addInit = addJSInitClass;\n\n  visited[entity.jsClass] = true;\n\n  // Transform mix to the single-item array if it's not array\n  if (!Array.isArray(mix))\n    mix = [ mix ];\n\n  var classBuilder = this.classBuilder;\n\n  var out = '';\n  for (var i = 0; i < mix.length; i++) {\n    var item = mix[i];\n    if (!item)\n      continue;\n    if (typeof item === 'string')\n      item = { block: item, elem: undefined };\n\n    var hasItem = false;\n\n    if (item.elem) {\n      hasItem = item.elem !== entity.elem && item.elem !== context.elem ||\n        item.block && item.block !== entity.block;\n    } else if (item.block) {\n      hasItem = !(item.block === entity.block && item.mods) ||\n        item.mods && entity.elem;\n    }\n\n    var block = item.block || item._block || context.block;\n    var elem = item.elem || item._elem || context.elem;\n    var key = classBuilder.build(block, elem);\n\n    var classElem = item.elem ||\n                    item._elem ||\n                    (item.block ? undefined : context.elem);\n    if (hasItem)\n      out += ' ' + classBuilder.build(block, classElem);\n\n    out += this.buildModsClasses(block, classElem,\n      (item.elem || !item.block && (item._elem || context.elem)) ?\n        item.elemMods : item.mods);\n\n    if (item.js) {\n      if (!js)\n        js = {};\n\n      js[classBuilder.build(block, item.elem)] =\n          item.js === true ? {} : item.js;\n      if (!addInit)\n        addInit = this._elemJsInstances ?\n          (item.elem || block) :\n          (block && !item.elem);\n    }\n\n    // Process nexted mixes from BEMJON\n    if (item.mix) {\n      var nested = this.renderMix(entity, item.mix, js, addInit);\n      js = utils.extend(js, nested.jsParams);\n      addInit = nested.addJSInitClass;\n      out += nested.out;\n    }\n\n    // Process nested mixes from templates\n    if (!hasItem || visited[key])\n      continue;\n\n    visited[key] = true;\n    var nestedEntity = this.entities[key];\n    if (!nestedEntity)\n      continue;\n\n    var oldBlock = context.block;\n    var oldElem = context.elem;\n    var nestedMix = nestedEntity.mix.exec(context);\n    context.elem = oldElem;\n    context.block = oldBlock;\n\n    if (!nestedMix)\n      continue;\n\n    for (var j = 0; j < nestedMix.length; j++) {\n      var nestedItem = nestedMix[j];\n      if (!nestedItem) continue;\n\n      if (!nestedItem.block &&\n          !nestedItem.elem ||\n          !visited[classBuilder.build(nestedItem.block, nestedItem.elem)]) {\n        if (nestedItem.block) continue;\n\n        nestedItem._block = block;\n        nestedItem._elem = elem;\n        mix = mix.slice(0, i + 1).concat(\n          nestedItem,\n          mix.slice(i + 1)\n        );\n      }\n    }\n  }\n\n  return {\n    out: out,\n    jsParams: js,\n    addJSInitClass: addInit\n  };\n};\n\nBEMHTML.prototype.buildModsClasses = function(block, elem, mods) {\n  if (!mods)\n    return '';\n\n  var res = '';\n\n  var modName;\n\n  /*jshint -W089 */\n  for (modName in mods) {\n    if (!mods.hasOwnProperty(modName) || modName === '')\n      continue;\n\n    var modVal = mods[modName];\n    if (!modVal && modVal !== 0) continue;\n    if (typeof modVal !== 'boolean')\n      modVal += '';\n\n    var builder = this.classBuilder;\n    res += ' ' + (elem ?\n                  builder.buildElemClass(block, elem, modName, modVal) :\n                  builder.buildBlockClass(block, modName, modVal));\n  }\n\n  return res;\n};\n\n},{\"../bemxjst\":7,\"../bemxjst/utils\":10,\"./entity\":1,\"inherits\":11}],3:[function(require,module,exports){\nfunction ClassBuilder(options) {\n  this.elemDelim = options.elem || '__';\n\n  this.modDelim = typeof options.mod === 'string' ?\n    {\n      name: options.mod || '_',\n      val: options.mod || '_'\n    } :\n    {\n      name: options.mod && options.mod.name || '_',\n      val: options.mod && options.mod.val || '_'\n    };\n}\n\nexports.ClassBuilder = ClassBuilder;\n\nClassBuilder.prototype.build = function(block, elem) {\n  if (!elem)\n    return block;\n  else\n    return block + this.elemDelim + elem;\n};\n\nClassBuilder.prototype.buildModPostfix = function(modName, modVal) {\n  var res = this.modDelim.name + modName;\n  if (modVal !== true) res += this.modDelim.val + modVal;\n  return res;\n};\n\nClassBuilder.prototype.buildBlockClass = function(name, modName, modVal) {\n  var res = name;\n  if (modVal) res += this.buildModPostfix(modName, modVal);\n  return res;\n};\n\nClassBuilder.prototype.buildElemClass = function(block, name, modName, modVal) {\n  return this.buildBlockClass(block) +\n    this.elemDelim +\n    name +\n    this.buildModPostfix(modName, modVal);\n};\n\nClassBuilder.prototype.split = function(key) {\n  return key.split(this.elemDelim, 2);\n};\n\n},{}],4:[function(require,module,exports){\nvar utils = require('./utils');\n\nfunction Context(bemxjst) {\n  this._bemxjst = bemxjst;\n\n  this.ctx = null;\n  this.block = '';\n\n  // Save current block until the next BEM entity\n  this._currBlock = '';\n\n  this.elem = null;\n  this.mods = {};\n  this.elemMods = {};\n\n  this.position = 0;\n  this._listLength = 0;\n  this._notNewList = false;\n\n  this.escapeContent = bemxjst.options.escapeContent !== false;\n}\nexports.Context = Context;\n\nContext.prototype._flush = null;\n\nContext.prototype.isSimple = utils.isSimple;\n\nContext.prototype.isShortTag = utils.isShortTag;\nContext.prototype.extend = utils.extend;\nContext.prototype.identify = utils.identify;\n\nContext.prototype.xmlEscape = utils.xmlEscape;\nContext.prototype.attrEscape = utils.attrEscape;\nContext.prototype.jsAttrEscape = utils.jsAttrEscape;\n\nContext.prototype.onError = function(context, e) {\n  console.error('bem-xjst rendering error:', {\n    block: context.ctx.block,\n    elem: context.ctx.elem,\n    mods: context.ctx.mods,\n    elemMods: context.ctx.elemMods\n  }, e);\n};\n\nContext.prototype.isFirst = function() {\n  return this.position === 1;\n};\n\nContext.prototype.isLast = function() {\n  return this.position === this._listLength;\n};\n\nContext.prototype.generateId = function() {\n  return utils.identify(this.ctx);\n};\n\nContext.prototype.reapply = function(ctx) {\n  return this._bemxjst.run(ctx);\n};\n\n},{\"./utils\":10}],5:[function(require,module,exports){\nvar utils = require('./utils');\nvar Match = require('./match').Match;\nvar tree = require('./tree');\nvar Template = tree.Template;\nvar PropertyMatch = tree.PropertyMatch;\nvar CompilerOptions = tree.CompilerOptions;\n\nfunction Entity(bemxjst, block, elem, templates) {\n  this.bemxjst = bemxjst;\n\n  this.block = null;\n  this.elem = null;\n\n  // Compiler options via `xjstOptions()`\n  this.options = {};\n\n  // `true` if entity has just a default renderer for `def()` mode\n  this.canFlush = true;\n\n  // \"Fast modes\"\n  this.def = new Match(this);\n  this.mix = new Match(this, 'mix');\n  this.js = new Match(this, 'js');\n  this.mods = new Match(this, 'mods');\n  this.elemMods = new Match(this, 'elemMods');\n  this.content = new Match(this, 'content');\n\n  // \"Slow modes\"\n  this.rest = {};\n\n  // Initialize\n  this.init(block, elem);\n  this.initModes(templates);\n}\nexports.Entity = Entity;\n\nEntity.prototype.init = function(block, elem) {\n  this.block = block;\n  this.elem = elem;\n};\n\nEntity.prototype._keys = {\n  content: 1,\n  mix: 1,\n  js: 1,\n  mods: 1,\n  elemMods: 1\n};\n\nEntity.prototype._initRest = function(key) {\n  if (key === 'default') {\n    this.rest[key] = this.def;\n  } else if (this._keys[key]) {\n    this.rest[key] = this[key];\n  } else {\n    this.rest[key] = this.rest[key] || new Match(this, key);\n  }\n};\n\nEntity.prototype.initModes = function(templates) {\n  /* jshint maxdepth : false */\n  for (var i = 0; i < templates.length; i++) {\n    var template = templates[i];\n\n    for (var j = template.predicates.length - 1; j >= 0; j--) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof PropertyMatch))\n        continue;\n\n      if (pred.key !== '_mode')\n        continue;\n\n      template.predicates.splice(j, 1);\n      this._initRest(pred.value);\n\n      // All templates should go there anyway\n      this.rest[pred.value].push(template);\n      break;\n    }\n\n    if (j === -1)\n      this.def.push(template);\n\n    // Merge compiler options\n    for (var j = template.predicates.length - 1; j >= 0; j--) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof CompilerOptions))\n        continue;\n\n      this.options = utils.extend(this.options, pred.options);\n    }\n  }\n};\n\nEntity.prototype.prepend = function(other) {\n  // Prepend to the slow modes, fast modes are in this hashmap too anyway\n  var keys = Object.keys(this.rest);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!other.rest[key])\n      continue;\n\n    this.rest[key].prepend(other.rest[key]);\n  }\n\n  // Add new slow modes\n  keys = Object.keys(other.rest);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (this.rest[key])\n      continue;\n\n    this._initRest(key);\n    this.rest[key].prepend(other.rest[key]);\n  }\n};\n\n// NOTE: This could be potentially compiled into inlined invokations\nEntity.prototype.run = function(context) {\n  if (this.def.count !== 0)\n    return this.def.exec(context);\n\n  return this.defaultBody(context);\n};\n\n\nfunction contentMode() {\n  return this.ctx.content;\n}\n\nEntity.prototype.setDefaults = function() {\n  // Default .content() template for applyNext()\n  if (this.content.count !== 0)\n    this.content.push(new Template([], contentMode));\n\n  // .def() default\n  if (this.def.count !== 0) {\n    this.canFlush = this.options.flush || false;\n    var self = this;\n    this.def.push(new Template([], function defaultBodyProxy() {\n      return self.defaultBody(this);\n    }));\n  }\n};\n\n},{\"./match\":8,\"./tree\":9,\"./utils\":10}],6:[function(require,module,exports){\nfunction BEMXJSTError(msg, func) {\n  this.name = 'BEMXJSTError';\n  this.message = msg;\n\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, func || this.constructor);\n  else\n    this.stack = (new Error()).stack;\n}\n\nBEMXJSTError.prototype = Object.create(Error.prototype);\nBEMXJSTError.prototype.constructor = BEMXJSTError;\n\nexports.BEMXJSTError = BEMXJSTError;\n\n},{}],7:[function(require,module,exports){\nvar inherits = require('inherits');\n\nvar Tree = require('./tree').Tree;\nvar PropertyMatch = require('./tree').PropertyMatch;\nvar AddMatch = require('./tree').AddMatch;\nvar Context = require('./context').Context;\nvar ClassBuilder = require('./class-builder').ClassBuilder;\nvar utils = require('./utils');\n\nfunction BEMXJST(options) {\n  this.options = options;\n\n  this.entities = null;\n  this.defaultEnt = null;\n\n  // Current tree\n  this.tree = null;\n\n  // Current match\n  this.match = null;\n\n  // Create new Context constructor for overriding prototype\n  this.contextConstructor = function ContextChild(bemxjst) {\n    Context.call(this, bemxjst);\n  };\n  inherits(this.contextConstructor, Context);\n  this.context = null;\n\n  this.classBuilder = new ClassBuilder(this.options.naming || {});\n\n  // Execution depth, used to invalidate `applyNext` bitfields\n  this.depth = 0;\n\n  // Do not call `_flush` on overridden `def()` mode\n  this.canFlush = false;\n\n  // oninit templates\n  this.oninit = null;\n\n  // Initialize default entity (no block/elem match)\n  this.defaultEnt = new this.Entity(this, '', '', []);\n  this.defaultElemEnt = new this.Entity(this, '', '', []);\n}\nmodule.exports = BEMXJST;\n\nBEMXJST.prototype.locals = Tree.methods\n    .concat('local', 'applyCtx', 'applyNext', 'apply');\n\nBEMXJST.prototype.runOninit = function(oninits, ret) {\n  var self = ret || this;\n\n  self.BEMContext = this.contextConstructor;\n  for (var i = 0; i < oninits.length; i++) {\n    // NOTE: oninit has global context instead of BEMXJST\n    var oninit = oninits[i];\n    oninit(self, { BEMContext: self.BEMContext });\n  }\n};\n\nBEMXJST.prototype.compile = function(code) {\n  var self = this;\n\n  function applyCtx() {\n    return self.run(self.context.ctx);\n  }\n\n  function _applyCtx() {\n    return self._run(self.context.ctx);\n  }\n\n  function applyCtxWrap(ctx, changes) {\n    // Fast case\n    if (!changes)\n      return self.local({ ctx: ctx }, applyCtx);\n\n    return self.local(changes, function() {\n      return self.local({ ctx: ctx }, _applyCtx);\n    });\n  }\n\n  function _applyCtxWrap(ctx, changes) {\n    // Fast case\n    if (!changes)\n      return self.local({ ctx: ctx }, _applyCtx);\n\n    return self.local(changes, function() {\n      return self.local({ ctx: ctx }, applyCtx);\n    });\n  }\n\n  function apply(mode, changes) {\n    return self.applyMode(mode, changes);\n  }\n\n  function localWrap(changes) {\n    return function localBody(body) {\n      return self.local(changes, body);\n    };\n  }\n\n  var tree = new Tree({\n    refs: {\n      applyCtx: applyCtxWrap,\n      _applyCtx: _applyCtxWrap,\n      apply: apply\n    }\n  });\n\n  // Yeah, let people pass functions to us!\n  var templates = this.recompileInput(code);\n\n  var out = tree.build(templates, [\n    localWrap,\n    applyCtxWrap,\n    function applyNextWrap(changes) {\n      if (changes)\n        return self.local(changes, applyNextWrap);\n      return self.applyNext();\n    },\n    apply\n  ]);\n\n  // Concatenate templates with existing ones\n  // TODO(indutny): it should be possible to incrementally add templates\n  if (this.tree) {\n    this.runOninit(out.oninit);\n\n    out = {\n      templates: out.templates.concat(this.tree.templates),\n      oninit: this.tree.oninit.concat(out.oninit)\n    };\n  }\n  this.tree = out;\n\n  // Group block+elem entities into a hashmap\n  var ent = this.groupEntities(out.templates);\n\n  // Transform entities from arrays to Entity instances\n  ent = this.transformEntities(ent);\n\n  this.entities = ent;\n  this.oninit = out.oninit;\n};\n\nBEMXJST.prototype.getTemplate = function(code, options) {\n  this.compile(code, options);\n\n  return this.exportApply();\n};\n\nBEMXJST.prototype.recompileInput = function(code) {\n  var args = BEMXJST.prototype.locals;\n  // Reuse function if it already has right arguments\n  if (typeof code === 'function' && code.length === args.length)\n    return code;\n\n  return new Function(args.join(', '), utils.fnToString(code));\n};\n\nBEMXJST.prototype.groupEntities = function(tree) {\n  var res = {};\n  for (var i = 0; i < tree.length; i++) {\n    // Make sure to change only the copy, the original is cached in `this.tree`\n    var template = tree[i].clone();\n    var block = null;\n    var elem;\n\n    elem = undefined;\n    for (var j = 0; j < template.predicates.length; j++) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof PropertyMatch) &&\n        !(pred instanceof AddMatch))\n        continue;\n\n      if (pred.key === 'block')\n        block = pred.value;\n      else if (pred.key === 'elem')\n        elem = pred.value;\n      else\n        continue;\n\n      // Remove predicate, we won't much against it\n      template.predicates.splice(j, 1);\n      j--;\n    }\n\n    if (block === null) {\n      var msg = 'block(…) subpredicate is not found.\\n' +\n      '    See template with subpredicates:\\n     * ';\n\n      for (var j = 0; j < template.predicates.length; j++) {\n        var pred = template.predicates[j];\n\n        if (j !== 0)\n          msg += '\\n     * ';\n\n        if (pred.key === '_mode') {\n          msg += pred.value + '()';\n        } else {\n          if (Array.isArray(pred.key)) {\n            msg += pred.key[0].replace('mods', 'mod')\n              .replace('elemMods', 'elemMod') +\n              '(\\'' + pred.key[1] + '\\', \\'' + pred.value + '\\')';\n          } else {\n            msg += 'match(…)';\n          }\n        }\n      }\n\n      msg += '\\n    And template body: \\n    (' +\n        (typeof template.body === 'function' ?\n          template.body :\n          JSON.stringify(template.body)) + ')';\n\n      if (typeof BEMXJSTError === 'undefined') {\n        BEMXJSTError = require('./error').BEMXJSTError;\n      }\n\n      throw new BEMXJSTError(msg);\n    }\n\n    var key = this.classBuilder.build(block, elem);\n\n    if (!res[key])\n      res[key] = [];\n    res[key].push(template);\n  }\n  return res;\n};\n\nBEMXJST.prototype.transformEntities = function(entities) {\n  var wildcardElems = [];\n\n  var keys = Object.keys(entities);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    // TODO(indutny): pass this values over\n    var parts = this.classBuilder.split(key);\n    var block = parts[0];\n    var elem = parts[1];\n\n    if (elem === '*')\n      wildcardElems.push(block);\n\n    entities[key] = new this.Entity(\n      this, block, elem, entities[key]);\n  }\n\n  // Merge wildcard block templates\n  if (entities.hasOwnProperty('*')) {\n    var wildcard = entities['*'];\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key === '*')\n        continue;\n\n      entities[key].prepend(wildcard);\n    }\n    this.defaultEnt.prepend(wildcard);\n    this.defaultElemEnt.prepend(wildcard);\n  }\n\n  // Merge wildcard elem templates\n  for (var i = 0; i < wildcardElems.length; i++) {\n    var block = wildcardElems[i];\n    var wildcardKey = this.classBuilder.build(block, '*');\n    var wildcard = entities[wildcardKey];\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key === wildcardKey)\n        continue;\n\n      var entity = entities[key];\n      if (entity.block !== block || entity.elem === undefined)\n        continue;\n\n      entities[key].prepend(wildcard);\n    }\n    this.defaultElemEnt.prepend(wildcard);\n  }\n\n  // Set default templates after merging with wildcard\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    entities[key].setDefaults();\n    this.defaultEnt.setDefaults();\n    this.defaultElemEnt.setDefaults();\n  }\n\n  return entities;\n};\n\nBEMXJST.prototype._run = function(context) {\n  if (context === undefined || context === '' || context === null)\n    return this.runEmpty();\n  else if (Array.isArray(context))\n    return this.runMany(context);\n  else if (\n    typeof context.html === 'string' &&\n    !context.tag &&\n    typeof context.block === 'undefined' &&\n    typeof context.elem === 'undefined' &&\n    typeof context.cls === 'undefined' &&\n    typeof context.attrs === 'undefined'\n  )\n    return this.runUnescaped(context);\n  else if (utils.isSimple(context))\n    return this.runSimple(context);\n\n  return this.runOne(context);\n};\n\nBEMXJST.prototype.run = function(json) {\n  var match = this.match;\n  var context = this.context;\n  var depth = this.depth;\n\n  this.match = null;\n  this.context = new this.contextConstructor(this);\n  this.canFlush = this.context._flush !== null;\n  this.depth = 0;\n  var res = this._run(json);\n\n  if (this.canFlush)\n    res = this.context._flush(res);\n\n  this.match = match;\n  this.context = context;\n  this.depth = depth;\n\n  return res;\n};\n\nBEMXJST.prototype.runEmpty = function() {\n  this.context._listLength--;\n  return '';\n};\n\nBEMXJST.prototype.runUnescaped = function(context) {\n  this.context._listLength--;\n  return '' + context.html;\n};\n\nBEMXJST.prototype.runSimple = function(simple) {\n  this.context._listLength--;\n  if (!simple && simple !== 0 || simple === true)\n    return '';\n\n  return typeof simple === 'string' && this.context.escapeContent ?\n      utils.xmlEscape(simple) :\n      simple;\n};\n\nBEMXJST.prototype.runOne = function(json) {\n  var context = this.context;\n\n  var oldCtx = context.ctx;\n  var oldBlock = context.block;\n  var oldCurrBlock = context._currBlock;\n  var oldElem = context.elem;\n  var oldMods = context.mods;\n  var oldElemMods = context.elemMods;\n\n  if (json.block || json.elem)\n    context._currBlock = '';\n  else\n    context._currBlock = context.block;\n\n  context.ctx = json;\n  if (json.block) {\n    context.block = json.block;\n\n    if (json.mods)\n      context.mods = json.mods;\n    else if (json.block !== oldBlock || !json.elem)\n      context.mods = {};\n  } else {\n    if (!json.elem)\n      context.block = '';\n    else if (oldCurrBlock)\n      context.block = oldCurrBlock;\n  }\n\n  context.elem = json.elem;\n  if (json.elemMods)\n    context.elemMods = json.elemMods;\n  else\n    context.elemMods = {};\n\n  var block = context.block || '';\n  var elem = context.elem;\n\n  // Control list position\n  if (block || elem)\n    context.position++;\n  else\n    context._listLength--;\n\n  // To invalidate `applyNext` flags\n  this.depth++;\n\n  var restoreFlush = false;\n  var ent = this.entities[this.classBuilder.build(block, elem)];\n  if (ent) {\n    if (this.canFlush && !ent.canFlush) {\n      // Entity does not support flushing, do not flush anything nested\n      restoreFlush = true;\n      this.canFlush = false;\n    }\n  } else {\n    // No entity - use default one\n    ent = this.defaultEnt;\n    if (elem !== undefined)\n      ent = this.defaultElemEnt;\n    ent.init(block, elem);\n  }\n\n  var res = this.options.production === true ?\n    this.tryRun(context, ent) :\n    ent.run(context);\n\n  context.ctx = oldCtx;\n  context.block = oldBlock;\n  context.elem = oldElem;\n  context.mods = oldMods;\n  context.elemMods = oldElemMods;\n  context._currBlock = oldCurrBlock;\n  this.depth--;\n  if (restoreFlush)\n    this.canFlush = true;\n\n  return res;\n};\n\nBEMXJST.prototype.tryRun = function(context, ent) {\n  try {\n    return ent.run(context);\n  } catch (e) {\n    return context.onError(context, e) || '';\n  }\n};\n\nBEMXJST.prototype.renderContent = function(content, isBEM) {\n  var context = this.context;\n  var oldPos = context.position;\n  var oldListLength = context._listLength;\n  var oldNotNewList = context._notNewList;\n\n  context._notNewList = false;\n  if (isBEM) {\n    context.position = 0;\n    context._listLength = 1;\n  }\n\n  var res = this._run(content);\n\n  context.position = oldPos;\n  context._listLength = oldListLength;\n  context._notNewList = oldNotNewList;\n\n  return res;\n};\n\nBEMXJST.prototype.local = function(changes, body) {\n  var keys = Object.keys(changes);\n  var restore = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var parts = key.split('.');\n\n    var value = this.context;\n    for (var j = 0; j < parts.length - 1; j++)\n      value = value[parts[j]];\n\n    restore.push({\n      parts: parts,\n      value: value[parts[j]]\n    });\n    value[parts[j]] = changes[key];\n  }\n\n  var res = body.call(this.context);\n\n  for (var i = 0; i < restore.length; i++) {\n    var parts = restore[i].parts;\n    var value = this.context;\n    for (var j = 0; j < parts.length - 1; j++)\n      value = value[parts[j]];\n\n    value[parts[j]] = restore[i].value;\n  }\n\n  return res;\n};\n\nBEMXJST.prototype.applyNext = function() {\n  return this.match.exec(this.context);\n};\n\nBEMXJST.prototype.applyMode = function(mode, changes) {\n  var key;\n  var match = this.match;\n\n  if (!match) {\n    var key = this.classBuilder.build(this.context.block, this.context.elem);\n    match = this.entities[key].rest[mode];\n  } else {\n    match = this.match.entity.rest[mode];\n  }\n\n  if (!match) {\n    if (mode === 'mods')\n      return this.context.mods;\n\n    if (mode === 'elemMods')\n      return this.context.elemMods;\n\n    return this.context.ctx[mode];\n  }\n\n  if (!changes)\n    return match.exec(this.context);\n\n  var self = this;\n\n  // Allocate function this way, to prevent allocation at the top of the\n  // `applyMode`\n  var localBody = function() {\n    return match.exec(self.context);\n  };\n  return this.local(changes, localBody);\n};\n\nBEMXJST.prototype.exportApply = function(exports) {\n  var self = this;\n  var ret = exports || {};\n\n  ret.apply = function(context) {\n    return self.run(context);\n  };\n\n  // Add templates at run time\n  ret.compile = function(templates) {\n    self.compile(templates);\n    return ret;\n  };\n\n  this.runOninit(self.oninit, ret);\n\n  return ret;\n};\n\n},{\"./class-builder\":3,\"./context\":4,\"./error\":6,\"./tree\":9,\"./utils\":10,\"inherits\":11}],8:[function(require,module,exports){\nvar tree = require('./tree');\nvar PropertyMatch = tree.PropertyMatch;\nvar AddMatch = tree.AddMatch;\nvar WrapMatch = tree.WrapMatch;\nvar ExtendMatch = tree.ExtendMatch;\nvar CustomMatch = tree.CustomMatch;\n\nfunction MatchNested(template, pred) {\n  this.template = template;\n  this.keys = pred.key;\n  this.value = pred.value;\n}\n\nMatchNested.prototype.exec = function(context) {\n  var val = context;\n\n  for (var i = 0; i < this.keys.length - 1; i++) {\n    val = val[this.keys[i]];\n    if (!val)\n      return false;\n  }\n\n  val = val[this.keys[i]];\n\n  if (this.value === true)\n    return val !== undefined && val !== '' && val !== false && val !== null;\n\n  return String(val) === this.value;\n};\n\nfunction MatchCustom(template, pred) {\n  this.template = template;\n  this.body = pred.body;\n}\n\nMatchCustom.prototype.exec = function(context) {\n  return this.body.call(context, context, context.ctx);\n};\n\nfunction MatchWrap(template) {\n  this.template = template;\n  this.wrap = null;\n}\n\nMatchWrap.prototype.exec = function(context) {\n  var res = this.wrap !== context.ctx;\n  this.wrap = context.ctx;\n  return res;\n};\n\nfunction MatchExtend(template) {\n  this.template = template;\n  this.wrap = null;\n}\n\nMatchExtend.prototype.exec = function(context) {\n  var res = this.ext !== context.ctx;\n  this.ext = context.ctx;\n  return res;\n};\n\nfunction AddWrap(template, pred) {\n  this.template = template;\n  this.key = pred.key;\n  this.value = pred.value;\n}\n\nAddWrap.prototype.exec = function(context) {\n  return context[this.key] === this.value;\n};\n\nfunction MatchTemplate(mode, template) {\n  this.mode = mode;\n  this.predicates = new Array(template.predicates.length);\n  this.body = template.body;\n\n  var postpone = [];\n\n  for (var i = 0, j = 0; i < this.predicates.length; i++, j++) {\n    var pred = template.predicates[i];\n    if (pred instanceof PropertyMatch) {\n      this.predicates[j] = new MatchNested(this, pred);\n    } else if (pred instanceof ExtendMatch) {\n      j--;\n      postpone.push(new MatchExtend(this));\n    } else if (pred instanceof AddMatch) {\n      this.predicates[j] = new AddWrap(this, pred);\n    } else if (pred instanceof CustomMatch) {\n      this.predicates[j] = new MatchCustom(this, pred);\n\n      // Push MatchWrap later, they should not be executed first.\n      // Otherwise they will set flag too early, and body might not be executed\n    } else if (pred instanceof WrapMatch) {\n      j--;\n      postpone.push(new MatchWrap(this));\n    } else {\n      // Skip\n      j--;\n    }\n  }\n\n  // Insert late predicates\n  for (var i = 0; i < postpone.length; i++, j++)\n    this.predicates[j] = postpone[i];\n\n  if (this.predicates.length !== j)\n    this.predicates.length = j;\n}\nexports.MatchTemplate = MatchTemplate;\n\nfunction Match(entity, modeName) {\n  this.entity = entity;\n  this.modeName = modeName;\n  this.bemxjst = this.entity.bemxjst;\n  this.templates = [];\n\n  // applyNext mask\n  this.mask = [ 0 ];\n\n  // We are going to create copies of mask for nested `applyNext()`\n  this.maskSize = 0;\n  this.maskOffset = 0;\n\n  this.count = 0;\n  this.depth = -1;\n\n  this.thrownError = null;\n}\nexports.Match = Match;\n\nMatch.prototype.prepend = function(other) {\n  this.templates = other.templates.concat(this.templates);\n  this.count += other.count;\n\n  while (Math.ceil(this.count / 31) > this.mask.length)\n    this.mask.push(0);\n\n  this.maskSize = this.mask.length;\n};\n\nMatch.prototype.push = function(template) {\n  this.templates.push(new MatchTemplate(this, template));\n  this.count++;\n\n  if (Math.ceil(this.count / 31) > this.mask.length)\n    this.mask.push(0);\n\n  this.maskSize = this.mask.length;\n};\n\nMatch.prototype.tryCatch = function(fn, ctx) {\n  try {\n    return fn.call(ctx, ctx, ctx.ctx);\n  } catch (e) {\n    this.thrownError = e;\n    if (this.modeName) {\n      this.thrownError.ctx = ctx;\n      this.thrownError.name = 'BEMXJST ERROR';\n      var classBuilder = this.entity.bemxjst.classBuilder;\n\n      var cause = e.stack.split('\\n')[1];\n      this.thrownError.message = 'Template error in mode ' +\n            this.modeName + ' in block ' +\n            classBuilder.build(ctx.ctx.block, ctx.ctx.elem) +\n            '\\n    ' + e.message + '\\n';\n      this.thrownError.stack = this.thrownError.name + ': ' +\n            this.thrownError.message + ' ' + cause + '\\n' + e.stack;\n    }\n  }\n};\n\nMatch.prototype.exec = function(context) {\n  var save = this.checkDepth();\n\n  var template;\n  var bitIndex = this.maskOffset;\n  var mask = this.mask[bitIndex];\n  var bit = 1;\n  for (var i = 0; i < this.count; i++) {\n    if ((mask & bit) === 0) {\n      template = this.templates[i];\n      for (var j = 0; j < template.predicates.length; j++) {\n        var pred = template.predicates[j];\n\n        /* jshint maxdepth : false */\n        if (!pred.exec(context))\n          break;\n      }\n\n      // All predicates matched!\n      if (j === template.predicates.length)\n        break;\n    }\n\n    if (bit === 0x40000000) {\n      bitIndex++;\n      mask = this.mask[bitIndex];\n      bit = 1;\n    } else {\n      bit <<= 1;\n    }\n  }\n\n  if (i === this.count) {\n    this.restoreDepth(save);\n\n    if (this.modeName === 'mods')\n      return context.mods;\n\n    if (this.modeName === 'elemMods')\n      return context.elemMods;\n\n    return context.ctx[this.modeName];\n  }\n\n  var oldMask = mask;\n  var oldMatch = this.bemxjst.match;\n  this.mask[bitIndex] |= bit;\n  this.bemxjst.match = this;\n\n  this.thrownError = null;\n\n  var out;\n  if (typeof template.body === 'function')\n    out = this.tryCatch(template.body, context);\n  else\n    out = template.body;\n\n  this.mask[bitIndex] = oldMask;\n  this.bemxjst.match = oldMatch;\n  this.restoreDepth(save);\n\n  var e = this.thrownError;\n  if (e !== null) {\n    this.thrownError = null;\n    throw e;\n  }\n\n  return out;\n};\n\nMatch.prototype.checkDepth = function() {\n  if (this.depth === -1) {\n    this.depth = this.bemxjst.depth;\n    return -1;\n  }\n\n  if (this.bemxjst.depth === this.depth)\n    return this.depth;\n\n  var depth = this.depth;\n  this.depth = this.bemxjst.depth;\n\n  this.maskOffset += this.maskSize;\n\n  while (this.mask.length < this.maskOffset + this.maskSize)\n    this.mask.push(0);\n\n  return depth;\n};\n\nMatch.prototype.restoreDepth = function(depth) {\n  if (depth !== -1 && depth !== this.depth)\n    this.maskOffset -= this.maskSize;\n  this.depth = depth;\n};\n\n},{\"./tree\":9}],9:[function(require,module,exports){\nvar inherits = require('inherits');\nvar utils = require('./utils');\n\nfunction Template(predicates, body) {\n  this.predicates = predicates;\n\n  this.body = body;\n}\nexports.Template = Template;\n\nTemplate.prototype.wrap = function() {\n  var body = this.body;\n  for (var i = 0; i < this.predicates.length; i++) {\n    var pred = this.predicates[i];\n    body = pred.wrapBody(body);\n  }\n  this.body = body;\n};\n\nTemplate.prototype.clone = function() {\n  return new Template(this.predicates.slice(), this.body);\n};\n\nfunction MatchBase() {\n}\nexports.MatchBase = MatchBase;\n\nMatchBase.prototype.wrapBody = function(body) {\n  return body;\n};\n\nfunction Item(tree, children) {\n  this.conditions = [];\n  this.children = [];\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var arg = children[i];\n    if (arg instanceof MatchBase)\n      this.conditions.push(arg);\n    else if (arg === tree.boundBody)\n      this.children[i] = tree.queue.pop();\n    else\n      this.children[i] = arg;\n  }\n}\n\nfunction WrapMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(WrapMatch, MatchBase);\nexports.WrapMatch = WrapMatch;\n\nWrapMatch.prototype.wrapBody = function(body) {\n  var _applyCtx = this.refs._applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return _applyCtx(body);\n    };\n  }\n\n  return function() {\n    return _applyCtx(body.call(this, this, this.ctx));\n  };\n};\n\nfunction ReplaceMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(ReplaceMatch, MatchBase);\nexports.ReplaceMatch = ReplaceMatch;\n\nReplaceMatch.prototype.wrapBody = function(body) {\n  var applyCtx = this.refs.applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return applyCtx(body, { position: this.position - 1 });\n    };\n  }\n\n  return function() {\n    return applyCtx(body.call(this, this, this.ctx),\n                    { position: this.position - 1 });\n  };\n};\n\nfunction ExtendMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(ExtendMatch, MatchBase);\nexports.ExtendMatch = ExtendMatch;\n\nExtendMatch.prototype.wrapBody = function(body) {\n  var refs = this.refs;\n  var applyCtx = refs.applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      var changes = {};\n\n      var keys = Object.keys(body);\n      for (var i = 0; i < keys.length; i++)\n        changes[keys[i]] = body[keys[i]];\n\n      return applyCtx(this.ctx, changes);\n    };\n  }\n\n  return function() {\n    var changes = {};\n\n    var obj = body.call(this, this, this.ctx);\n    var keys = Object.keys(obj);\n    for (var i = 0; i < keys.length; i++)\n      changes[keys[i]] = obj[keys[i]];\n\n    return applyCtx(this.ctx, changes);\n  };\n};\n\nfunction AddMatch(mode, refs) {\n  MatchBase.call(this);\n\n  this.mode = mode;\n  this.refs = refs;\n}\ninherits(AddMatch, MatchBase);\nexports.AddMatch = AddMatch;\n\nAddMatch.prototype.wrapBody = function(body) {\n  return this[this.mode + 'WrapBody'](body);\n};\n\nAddMatch.prototype.appendContentWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return [ apply('content') , body ];\n    };\n  }\n\n  return function() {\n    return [ apply('content'), body.call(this, this, this.ctx) ];\n  };\n};\n\nAddMatch.prototype.prependContentWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return [ body, apply('content') ];\n    };\n  }\n\n  return function() {\n    return [ body.call(this, this, this.ctx), apply('content') ];\n  };\n};\n\nAddMatch.prototype.mixWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      var ret = apply('mix');\n      /* istanbul ignore else */\n      if (!Array.isArray(ret)) ret = [ ret ];\n      return ret.concat(body);\n    };\n  }\n\n  return function() {\n    var ret = apply('mix');\n    if (!Array.isArray(ret)) ret = [ ret ];\n    return ret.concat(body.call(this, this, this.ctx));\n  };\n};\n\n[ 'attrs', 'js', 'mods', 'elemMods' ].forEach(function(method) {\n  AddMatch.prototype[ method + 'WrapBody'] = function(body) {\n    var apply = this.refs.apply;\n\n    return typeof body !== 'function' ?\n      function() {\n        return (this[method] = utils.extend(apply(method) || {}, body));\n      } :\n      function() {\n        return (this[method] = utils.extend(apply(method) || {},\n                               body.call(this, this, this.ctx)));\n      };\n  };\n});\n\nfunction CompilerOptions(options) {\n  MatchBase.call(this);\n  this.options = options;\n}\ninherits(CompilerOptions, MatchBase);\nexports.CompilerOptions = CompilerOptions;\n\nfunction PropertyMatch(key, value) {\n  MatchBase.call(this);\n\n  this.key = key;\n  this.value = value;\n}\ninherits(PropertyMatch, MatchBase);\nexports.PropertyMatch = PropertyMatch;\n\nfunction CustomMatch(body) {\n  MatchBase.call(this);\n\n  this.body = body;\n}\ninherits(CustomMatch, MatchBase);\nexports.CustomMatch = CustomMatch;\n\nfunction Tree(options) {\n  this.options = options;\n  this.refs = this.options.refs;\n\n  this.boundBody = this.body.bind(this);\n\n  var methods = this.methods('body');\n  for (var i = 0; i < methods.length; i++) {\n    var method = methods[i];\n    // NOTE: method.name is empty because of .bind()\n    this.boundBody[Tree.methods[i]] = method;\n  }\n\n  this.queue = [];\n  this.templates = [];\n  this.initializers = [];\n}\nexports.Tree = Tree;\n\nTree.methods = [\n  // Subpredicates:\n  'match', 'block', 'elem', 'mod', 'elemMod',\n  // Runtime related:\n  'oninit', 'xjstOptions',\n  // Output generators:\n  'wrap', 'replace', 'extend', 'mode', 'def',\n  'content', 'appendContent', 'prependContent',\n  'attrs', 'addAttrs', 'js', 'addJs', 'mix', 'addMix',\n  'mods', 'addMods', 'addElemMods', 'elemMods',\n  'tag', 'cls', 'bem'\n];\n\nTree.prototype.build = function(templates, apply) {\n  var methods = this.methods('global').concat(apply);\n  methods[0] = this.match.bind(this);\n\n  templates.apply({}, methods);\n\n  return {\n    templates: this.templates.slice().reverse(),\n    oninit: this.initializers\n  };\n};\n\nfunction methodFactory(self, kind, name) {\n  var method = self[name];\n  var boundBody = self.boundBody;\n\n  if (kind !== 'body') {\n    if (name === 'replace' || name === 'extend' || name === 'wrap') {\n      return function() {\n        return method.apply(self, arguments);\n      };\n    }\n\n    return function() {\n      method.apply(self, arguments);\n      return boundBody;\n    };\n  }\n\n  return function() {\n    var res = method.apply(self, arguments);\n\n    // Insert body into last item\n    var child = self.queue.pop();\n    var last = self.queue[self.queue.length - 1];\n    last.conditions = last.conditions.concat(child.conditions);\n    last.children = last.children.concat(child.children);\n\n    if (name === 'replace' || name === 'extend' || name === 'wrap')\n      return res;\n    return boundBody;\n  };\n}\n\nTree.prototype.methods = function(kind) {\n  var out = new Array(Tree.methods.length);\n\n  for (var i = 0; i < out.length; i++) {\n    var name = Tree.methods[i];\n    out[i] = methodFactory(this, kind, name);\n  }\n\n  return out;\n};\n\n// Called after all matches\nTree.prototype.flush = function(conditions, item) {\n  var subcond = item.conditions ?\n    conditions.concat(item.conditions) :\n    item.conditions;\n\n  for (var i = 0; i < item.children.length; i++) {\n    var arg = item.children[i];\n\n    // Go deeper\n    if (arg instanceof Item) {\n      this.flush(subcond, item.children[i]);\n\n    // Body\n    } else {\n      if (this.isShortcutAllowed(arg, conditions)) {\n        var keys = Object.keys(arg);\n        for (var n = 0; n < keys.length; n++)\n          this.addTemplate(\n            conditions.concat(this.createMatch(keys[n])),\n            arg[keys[n]]\n          );\n      } else {\n        this.addTemplate(conditions, arg);\n      }\n    }\n  }\n};\n\nTree.prototype.createMatch = function(modeName) {\n  switch (modeName) {\n    case 'addAttrs':\n      return [\n        new PropertyMatch('_mode', 'attrs'),\n        new AddMatch('attrs', this.refs)\n      ];\n    case 'addJs':\n      return [\n        new PropertyMatch('_mode', 'js'),\n        new AddMatch('js', this.refs)\n      ];\n    case 'addMix':\n      return [\n        new PropertyMatch('_mode', 'mix'),\n        new AddMatch('mix', this.refs)\n      ];\n    case 'addMods':\n      return [\n        new PropertyMatch('_mode', 'mods'),\n        new AddMatch('mods', this.refs)\n      ];\n    case 'addElemMods':\n      return [\n        new PropertyMatch('_mode', 'elemMods'),\n        new AddMatch('elemMods', this.refs)\n      ];\n    case 'appendContent':\n    case 'prependContent':\n      return [\n        new PropertyMatch('_mode', 'content'),\n        new AddMatch(modeName, this.refs)\n      ];\n\n    case 'wrap':\n      return new WrapMatch(this.refs);\n\n    case 'replace':\n      return new ReplaceMatch(this.refs);\n\n    case 'extend':\n      return new ExtendMatch(this.refs);\n\n    case 'def':\n      return new PropertyMatch('_mode', 'default');\n\n    default:\n      return new PropertyMatch('_mode', modeName);\n  }\n};\n\nTree.prototype.addTemplate = function(conditions, arg) {\n  var template = new Template(conditions, arg);\n  template.wrap();\n  this.templates.push(template);\n};\n\nTree.prototype.body = function() {\n  var children = new Array(arguments.length);\n  for (var i = 0; i < arguments.length; i++)\n    children[i] = arguments[i];\n\n  var child = new Item(this, children);\n  this.queue[this.queue.length - 1].children.push(child);\n\n  if (this.queue.length === 1)\n    this.flush([], this.queue.shift());\n\n  return this.boundBody;\n};\n\nTree.modsCheck = { mods: 1, elemMods: 1 };\n\nTree.checkConditions = function(conditions) {\n  for (var i = 0; i < conditions.length; i++) {\n    var condition = conditions[i];\n    if (condition.key === 'block' ||\n      condition.key === 'elem' ||\n      (Array.isArray(condition.key) && Tree.modsCheck[condition.key[0]]) ||\n      condition instanceof CustomMatch) continue;\n    return false;\n  }\n\n  return true;\n};\n\nTree.prototype.isShortcutAllowed = function(arg, conditions) {\n  return typeof arg === 'object' &&\n    arg !== null &&\n    !Array.isArray(arg) &&\n    Tree.checkConditions(conditions);\n};\n\nTree.prototype.match = function() {\n  var children = new Array(arguments.length);\n\n  if (!arguments.length)\n    throw new Error('.match() must have argument');\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (typeof arg === 'function')\n      arg = new CustomMatch(arg);\n\n    if (!(arg instanceof MatchBase))\n      throw new Error('Wrong .match() argument');\n\n    children[i] = arg;\n  }\n\n  this.queue.push(new Item(this, children));\n\n  return this.boundBody;\n};\n\nTree.prototype.applyMode = function(args, mode) {\n  if (args.length) {\n    throw new Error('Predicate should not have arguments but ' +\n      JSON.stringify(args) + ' passed');\n  }\n\n  return this.mode(mode);\n};\n\nTree.prototype.xjstOptions = function(options) {\n  this.queue.push(new Item(this, [\n    new CompilerOptions(options)\n  ]));\n  return this.boundBody;\n};\n\n[ 'mode', 'elem', 'block' ].forEach(function(method) {\n  Tree.prototype[method] = function(name) {\n    return this.match(new PropertyMatch(\n      method === 'mode' ? '_mode' : method, name));\n  };\n});\n\n[ 'mod', 'elemMod' ].forEach(function(method) {\n  Tree.prototype[method] = function(name, value) {\n    return this.match(new PropertyMatch([ method + 's', name ],\n                                  value === undefined ? true : String(value)));\n  };\n});\n\nTree.prototype.def = function() {\n  return this.applyMode(arguments, 'default');\n};\n\n[\n  'content', 'mix', 'bem', 'js', 'cls', 'attrs', 'tag', 'elemMods', 'mods'\n].forEach(function(method) {\n  Tree.prototype[method] = function() {\n    return this.applyMode(arguments, method);\n  };\n});\n\n[ 'appendContent', 'prependContent' ].forEach(function(method) {\n  Tree.prototype[method] = function() {\n    return this.content.apply(this, arguments)\n      .match(new AddMatch(method, this.refs));\n  };\n});\n\nfunction capitalize(s) {\n  return s[0].toUpperCase() + s.slice(1);\n}\n\n[ 'mods', 'elemMods', 'attrs', 'js', 'mix' ].forEach(function(method) {\n  Tree.prototype['add' + capitalize(method)] = function() {\n    return this[method].apply(this, arguments)\n      .match(new AddMatch(method, this.refs));\n  };\n});\n\nTree.prototype.wrap = function() {\n  return this.def.apply(this, arguments).match(new WrapMatch(this.refs));\n};\n\nTree.prototype.replace = function() {\n  return this.def.apply(this, arguments).match(new ReplaceMatch(this.refs));\n};\n\nTree.prototype.extend = function() {\n  return this.def.apply(this, arguments).match(new ExtendMatch(this.refs));\n};\n\nTree.prototype.oninit = function(fn) {\n  this.initializers.push(fn);\n};\n\n},{\"./utils\":10,\"inherits\":11}],10:[function(require,module,exports){\nvar amp = '&amp;';\nvar lt = '&lt;';\nvar gt = '&gt;';\nvar quot = '&quot;';\nvar singleQuot = '&#39;';\n\nvar matchXmlRegExp = /[&<>]/;\n\nfunction isEmpty(string) {\n  return typeof string === 'undefined' ||\n     string === null ||\n     (typeof string === 'number' && isNaN(string));\n}\n\nexports.xmlEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchXmlRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 38: // &\n        escape = amp;\n        break;\n      case 60: // <\n        escape = lt;\n        break;\n      case 62: // >\n        escape = gt;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nvar matchAttrRegExp = /[\"&]/;\n\nexports.attrEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchAttrRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = quot;\n        break;\n      case 38: // &\n        escape = amp;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nvar matchJsAttrRegExp = /['&]/;\n\nexports.jsAttrEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchJsAttrRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 38: // &\n        escape = amp;\n        break;\n      case 39: // '\n        escape = singleQuot;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nexports.extend = function(o1, o2) {\n  if (!o1 || !o2)\n    return o1 || o2;\n\n  var res = {};\n  var n;\n\n  for (n in o1)\n    /* istanbul ignore else */\n    if (o1.hasOwnProperty(n))\n      res[n] = o1[n];\n  for (n in o2)\n    /* istanbul ignore else */\n    if (o2.hasOwnProperty(n))\n      res[n] = o2[n];\n  return res;\n};\n\nvar SHORT_TAGS = { // hash for quick check if tag short\n  area: 1, base: 1, br: 1, col: 1, command: 1, embed: 1, hr: 1, img: 1,\n  input: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, wbr: 1\n};\n\nexports.isShortTag = function(t) {\n  return SHORT_TAGS.hasOwnProperty(t);\n};\n\nexports.isSimple = function isSimple(obj) {\n  if (!obj || obj === true) return true;\n  if (!obj.block &&\n      !obj.elem &&\n      !obj.tag &&\n      !obj.cls &&\n      !obj.attrs &&\n      obj.hasOwnProperty('html') &&\n      isSimple(obj.html))\n    return true;\n  return typeof obj === 'string' || typeof obj === 'number';\n};\n\nexports.isObj = function(val) {\n  return val && typeof val === 'object' && !Array.isArray(val) &&\n    val !== null;\n};\n\nvar uniqCount = 0;\nvar uniqId = +new Date();\nvar uniqExpando = '__' + uniqId;\nvar uniqPrefix = 'uniq' + uniqId;\n\nfunction getUniq() {\n  return uniqPrefix + (++uniqCount);\n}\nexports.getUniq = getUniq;\n\nexports.identify = function(obj, onlyGet) {\n  if (!obj)\n    return getUniq();\n  if (onlyGet || obj[uniqExpando])\n    return obj[uniqExpando];\n\n  var u = getUniq();\n  obj[uniqExpando] = u;\n  return u;\n};\n\nexports.fnToString = function(code) {\n  // It is fine to compile without templates at first\n  if (!code)\n    return '';\n\n  if (typeof code === 'function') {\n    // Examples for regular function\n    //   function () { … }\n    //   function name() { … }\n    //   function (a, b) { … }\n    //   function name(a, b) { … }\n    //\n    // Examples for arrow function\n    //   () => { … }\n    //   (a, b) => { … }\n    //   _ => { … }\n\n    code = code.toString();\n    code = code.replace(\n      code.indexOf('function') === 0 ?\n      /^function\\s*[^{]+{|}$/g :\n      /^(_|\\(\\w|[^=>]+\\))\\s=>\\s{|}$/g,\n    '');\n  }\n\n  return code;\n};\n\n/**\n * regexp for check may attribute be unquoted\n *\n * https://www.w3.org/TR/html4/intro/sgmltut.html#h-3.2.2\n * https://www.w3.org/TR/html5/syntax.html#attributes\n */\nvar UNQUOTED_ATTR_REGEXP = /^[:\\w.-]+$/;\n\nexports.isUnquotedAttr = function(str) {\n  return str && UNQUOTED_ATTR_REGEXP.exec(str);\n};\n\n},{}],11:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}]},{},[2])(2)\n});;\nreturn module.exports || exports.bemhtml;\n}({}, {});\nvar api = new bemhtml({\"exportName\":\"bemhtml\",\"escapeContent\":true,\"to\":\"/home/kotyarich/Dev/tp/front/2019_1_three_in_a_boat\"});\napi.compile(function(match, block, elem, mod, elemMod, oninit, xjstOptions, wrap, replace, extend, mode, def, content, appendContent, prependContent, attrs, addAttrs, js, addJs, mix, addMix, mods, addMods, addElemMods, elemMods, tag, cls, bem, local, applyCtx, applyNext, apply) {\n/* BEM-XJST User code here: */\n\n    block('authors').elem('img')({\n  'tag': 'img',\n});\n\nblock('authors').elem('items').match((node, ctx) => ctx.authors !== undefined)({\n  appendContent: (node, ctx) => ctx.authors.map((elt) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'img',\n        attrs: {\n          src: elt.img,\n          alt: elt.name,\n        },\n      },\n      {\n        elem: 'title',\n        content: elt.name,\n      },\n      {\n        elem: 'subtitle',\n        content: elt.devInfo,\n      },\n      {\n        elem: 'description',\n        content: elt.description,\n      },\n    ],\n  })),\n});\n\nblock('btn')({'tag': 'button'});\nblock('btn').elem('text')({'tag': 'span'});\nblock('btn').elem('inner')({'tag': 'span'});\n\n// if inner isn't explicitly wrapping the content - do that implicitly\nblock('btn').match((node, ctx) => (ctx.content && ctx.content.find(\n    (elt) => elt['elem'] === 'inner') === undefined))({\n  content: () => [{\n    elem: 'inner',\n    content: applyNext(),\n  }],\n});\n\nblock('btn').match((node, ctx) => !ctx.content && ctx.icon && ctx.btnText)({\n  addMods: {'with-icon': true},\n  content: (node, ctx) => [{\n    elem: 'inner',\n    content: [\n      {\n        block: 'icon',\n        wrappedInside: 'btn',\n        mods: {type: ctx.icon, size: ctx.mods.size},\n      },\n      {\n        elem: 'text',\n        content: ctx.btnText,\n      },\n    ],\n  }],\n});\n\n\nblock('checkbox')({\n  tag: 'input',\n  addAttrs: {\n    type: 'checkbox',\n  },\n});\n\nblock('checkbox')({\n  tag: 'input',\n  addAttrs: (node, ctx) => ({\n    'id': node.formId + '_' + ctx.fieldName,\n    'name': ctx.fieldName,\n  }),\n});\n\nblock('field-group')({\n  extend: (node) => ({\n    _fieldParents: (node._fieldParents || []).concat(['field-group'])\n  })\n});\n\nblock('field-group').match(\n    (node) => Array.isArray(node._fieldParents) &&\n        ((node._fieldParents.length > 0\n          && node._fieldParents[node._fieldParents.length - 1] !== 'field-group')\n          || node._fieldParents.length > 1))\n({\n  addMix: (node) => ({\n    block: (node._fieldParents[node._fieldParents.length - 1] === 'field-group' ?\n            node._fieldParents[node._fieldParents.length - 2] :\n            node._fieldParents[node._fieldParents.length - 1]),\n    elem:  'field'\n  })\n});\nblock('file-input').elem('field')({\n  tag: 'input',\n  addAttrs: (node) => ({\n    id: node.formId + '_' + node.fieldName,\n    name: node.fieldName,\n    type: 'file',\n  }),\n});\n\nblock('file-input').elem('label')({\n  tag: 'label',\n  addAttrs: (node) => ({'for': node.formId + '_' + node.fieldName})\n});\n\nblock('file-input').elem('info')({\n  tag: 'span',\n});\n\nblock('file-input').match((node, ctx) => !ctx.content)({\n  content: (node, ctx) => [\n    {\n      elem: 'label',\n      content: [ctx.labelText || 'Выберите файл'],\n    },\n    {\n      elem: 'info',\n      content: [ctx.emptyText || '(файл не выбран)']\n    },\n    {\n      elem: 'field',\n    },\n  ],\n});\n\nblock('file-input')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()})\n});\nblock('form')({tag: 'form'});\n\nblock('form')({\n  extend: (node, ctx) => ({\n    formId: ctx.name,\n  }),\n});\n\nblock('form-group')({\n  extend: (node) => ({\n    _fieldParents: (node._fieldParents || []).concat(['form-group']),\n  }),\n});\n\nblock('form-group').elem('help-text')({\n  addAttrs: (node, ctx) => ({\n    'id': `help_${ctx['for']}`,\n  }),\n});\n\nblock('game-info').elem('item')({\n  content: (node, ctx) => [\n    {\n      elem: 'item-name',\n      content: ctx.name,\n    },\n    {\n      elem: 'item-value',\n      content: ctx.value,\n    },\n  ],\n});\n\nblock('game-info').elem('avatar')({\n  tag: 'img',\n});\n\nblock('game-info').elem('line')({tag: 'hr'});\n\nblock('game-info').match((node, ctx) => !ctx.content && ctx.userInfo)({\n  content: (node, ctx) => ctx.userInfo.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt[0],\n        value: elt[1] || '-',\n      })\n  ),\n});\n\n\n\nblock('*').match((node, ctx) => ctx.wrappedInside)({\n  addMix: (node, ctx) => ({\n    block: ctx.wrappedInside,\n    elem: ctx.wrappedAs || ctx.block,\n    elemMods: ctx.elemMods\n  }),\n});\n// not needed\n\nblock('hexagons')({\n  tag: 'canvas',\n});\n\nblock('icon')({tag: (node, ctx) => ctx.tag || 'i'});\n\n\n// not needed\nblock('input').elem('field')({\n  tag: 'input',\n  addAttrs: (node) => ({\n    'id': node.formId + '_' + node.fieldName,\n    'name': node.fieldName,\n  }),\n});\n\nblock('input').elem('field').match((node, ctx) => !ctx.attrs || !ctx.attrs.type)\n({addAttrs: {type: 'text'}});\n\nblock('input').match((node, ctx) => !ctx.content)({\n  content: (node, ctx) => [{\n    elem: 'field',\n    attrs: ctx.fieldAttrs,\n  }],\n});\n\nblock('input')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()}),\n});\n\nblock('input').elem('tooltip')({\n  addAttrs: (node, ctx) => ({\n    'data-for': node.formId + (ctx['data-for'] || node.fieldName),\n  }),\n});\n\n// (form/field)-group related stuff\nblock('input').match(\n    (node) => Array.isArray(node._fieldParents) && node._fieldParents.length)({\n  addMix: (node) => ({\n    block: node._fieldParents[node._fieldParents.length - 1],\n    elem: 'field',\n  }),\n});\n\n// emptied out in favor of form\n\nblock('menu').elem('link')({tag: 'a'});\nblock('menu').elem('avatar')({tag: 'img'});\nblock('menu').elem('title')({\n  block: 'title',\n  mods: {large: true},\n});\n\nblock('menu').elem('items').match((node, ctx) => ctx.points !== undefined)({\n  appendContent: (node, ctx) => ctx.points.map((elt) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'link',\n        attrs: {'href': '#', 'data-link-type': elt.href},\n        content: [\n          {\n            tag: 'span',\n            block: 'icon-bg',\n            mods: {\n              borderless: true,\n              size: 'full',\n              color: 'dark-gray',\n            },\n            content: {\n              block: 'icon',\n              mods: {color: 'white', type: elt.type, size: 'fit'},\n            },\n            wrappedInside: 'menu',\n            wrappedAs: 'icon-bg',\n          },\n          {\n            elem: 'text',\n            content: elt.text,\n          },\n        ],\n      },\n    ],\n  })),\n});\n\nblock('not-found-page').elem('link')({tag: 'a'});\n\n// not needed\n\nblock('pagination').elem('link')({tag: 'button'});\nblock('pagination').elem('link').match((node, ctx) => ctx.content)({\n  addMix: (node, ctx) => {\n    let mods = {};\n    if (ctx.content === 'Вперед') {\n      mods = {last: true};\n    }\n    if (ctx.content === 'Назад') {\n      mods = {first: true};\n    }\n\n    return {block: 'pagination', elem: 'link', elemMods: mods};\n  },\n});\n\nblock('profile-info').elem('item')({\n  content: (node, ctx) => [\n    {\n      elem: 'item-name',\n      content: ctx.name,\n    },\n    {\n      elem: 'item-value',\n      content: ctx.value,\n    },\n  ],\n});\n\nblock('profile-popup').elem('profile-icon')({\n  tag: 'img',\n});\n\n\nblock('profile-info').match((node, ctx) => !ctx.content && ctx.userInfo)({\n  content: (node, ctx) => ctx.userInfo.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt[0],\n        value: elt[1] || '-',\n      })\n  ),\n});\n\n\nblock('profile-info').match((node, ctx) => !ctx.content && ctx.fields)({\n  content: (node, ctx) => ctx.fields.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt.name,\n        value: {\n          block: 'form-group',\n          mods: {size: 'inline'},\n          content: elt.content ? elt.content : [\n            elt.value || {\n              block: 'input',\n              fieldName: elt.fieldName,\n              fieldAttrs: elt.fieldAttrs,\n            },\n            elt.novalidate ? {} :{\n              elem: 'help-text',\n              elemMods: {hidden: true},\n              for: elt.fieldName || elt.value.fieldName,\n            },\n          ],\n        },\n      })\n  ),\n});\n\nblock('profile-popup').match((node, ctx) => !ctx.content && ctx.title &&\n    (ctx.info || ctx.fields) && ctx.img && ctx.allowEdit !== undefined)({\n  content: (node, ctx) => [\n    {\n      elem: 'title',\n      content: [ctx.title],\n    },\n    {\n      elem: 'content',\n      content: [\n        {\n          elem: 'profile-icon',\n          attrs: {src: ctx.img},\n        },\n        {\n          block: 'profile-info',\n          mix: {block: 'profile-popup', elem: 'profile-info'},\n          userInfo: ctx.info,\n          userFields: ctx.fields,\n        },\n        {\n          elem: 'double-btn',\n          content: ctx.allowEdit ? [\n            {\n              block: 'btn',\n              mods: {'size': 'large', 'with-icon': true, 'cancel': true},\n              wrappedInside: 'profile-popup',\n              icon: 'useredit',\n              btnText: 'Изменить',\n            },\n            {\n              block: 'btn',\n              attrs: {'data-type': 'menu'},\n              mods: {\n                'size': 'large',\n                'with-icon': true,\n                'cancel': false,\n                'color': 'muted',\n              },\n              wrappedInside: 'profile-popup',\n              icon: 'back',\n              btnText: 'В меню',\n            }] : [{\n              block: 'btn',\n              attrs: {'data-type': 'back'},\n              mods: {\n                'size': 'large',\n                'with-icon': true,\n                'cancel': false,\n                'color': 'muted',\n              },\n              wrappedInside: 'profile-popup',\n              icon: 'back',\n              btnText: 'Назад',\n            }],\n        },\n      ],\n    },\n  ],\n});\n\nblock('result-redirect').elem('btn')({tag: 'button'});\n\nblock('result-redirect').elem('link')({tag: 'a  '});\n\nblock('result-redirect').elem('btn').match(\n    (node, ctx) => !ctx.content && ctx.btnText)({\n  content: (node, ctx) => [{\n    elem: 'inner',\n    content: [\n      {\n        elem: 'text',\n        content: ctx.btnText,\n      },\n    ],\n  }],\n});\n\nblock('scoreboard').elem('username')({tag: 'span'});\nblock('scoreboard').elem('avatar')({tag: 'img'});\n\nblock('scoreboard').elem('items').match(\n    (node, ctx) => ctx.scores !== undefined)({\n  appendContent: (node, ctx) => ctx.scores.map((elt, index) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'user-data',\n        content: [\n          {\n            elem: 'place',\n            content: '#' + ((ctx.page * 10) + (index + 1)),\n          },\n          {\n            elem: 'link',\n            tag: 'a',\n            fieldName: 'userName',\n            value: elt.userId,\n            attrs: {value: elt.userId}, // to be changed once api's here\n            content: [\n              {\n                elem: 'data-field',\n                content: [\n                  {\n                    elem: 'avatar',\n                    attrs: {\n                      src: elt.img,\n                      alt: elt.name,\n                    },\n                  },\n                  {\n                    elem: 'username',\n                    content: elt.username,\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      },\n      {\n        elem: 'score',\n        content: elt.score,\n      },\n    ],\n    elemMods: index < 3 && ctx.page === 0 ?\n        {place: ['first', 'second', 'third'][index]}\n        : {},\n  })),\n});\n\nblock('select').elem('field')({\n  tag: 'select',\n  addAttrs: (node) => ({\n    'id': node.formId + '_' + node.fieldName,\n    'name': node.fieldName,\n  }),\n});\n\nblock('select').match(\n    (node, ctx) => !ctx.content && ctx.options)({\n  content: (node, ctx) => [{\n    elem: 'field',\n    attrs: ctx.fieldAttrs,\n    content: ctx.options.map((option) => [{\n      tag: 'option',\n      content: option.content,\n      attrs: {\n        selected: option.selected ? true : undefined,\n        value: option.value,\n      },\n    }]),\n  }],\n});\n\nblock('select')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()}),\n});\n\n// (form/field)-group related stuff\nblock('select').match(\n    (node) => Array.isArray(node._fieldParents) && node._fieldParents.length)({\n  addMix: (node) => ({\n    block: node._fieldParents[node._fieldParents.length - 1],\n    elem: 'field',\n  }),\n});\n\n\n// block('signup-popup')({tag: 'form'});\nblock('signup-popup').elem('hr')({tag: 'hr'});\nblock('signup-popup').elem('explanation-text')({tag: 'span'});\n\nblock('sm-icons-list').elem('icon-bg')({'tag': 'a'});\nblock('sm-icons-list').elem('icon')({'tag': 'i'});\n\nblock('sm-icons-list').elem('icon-bg').match((node, ctx) => ctx.href)({\n    addAttrs: (node, ctx) => ({href: ctx.href}),\n});\n\n\n  ;\n;oninit(function(exports, context) {\nvar BEMContext = exports.BEMContext || context.BEMContext;\nBEMContext.prototype.require = function(lib) {\nreturn this._libs[lib];\n};\n});\n;});\nexports = api.exportApply(exports);\nif (libs) exports.BEMContext.prototype._libs = libs;\nreturn exports;\n};\n\nvar glob = this.window || this.global || this;\nvar exp = typeof exports !== \"undefined\" ? exports : global;\nif (typeof modules === \"object\") {\n\n\n\nmodules.define(\"bemhtml\",[],function(provide) { var engine = buildBemXjst({});provide(engine);});\n} else {\nvar _libs = {};\n\n\nif (Object.keys(_libs).length) {\nbemhtml = buildBemXjst(_libs);\nexp[\"bemhtml\"] = bemhtml;\nexp[\"bemhtml\"].libs = _libs;\n} else {\nbemhtml= buildBemXjst(glob);\nexp[\"bemhtml\"] = bemhtml;exp[\"bemhtml\"].libs = glob;\n}\n}\n})(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : this);\n","var bemtree;\n(function(global) {\nfunction buildBemXjst(libs) {\nvar exports;\n/* BEM-XJST Runtime Start */\nvar bemtree = function(module, exports) {\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bemtree = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar inherits = require('inherits');\nvar BemxjstEntity = require('../bemxjst/entity').Entity;\n\nfunction Entity() {\n  BemxjstEntity.apply(this, arguments);\n}\n\ninherits(Entity, BemxjstEntity);\nexports.Entity = Entity;\n\nEntity.prototype.defaultBody = function(context) {\n  context.mods = this.mods.exec(context);\n  if (context.ctx.elem) context.elemMods = this.elemMods.exec(context);\n\n  return this.bemxjst.render(context,\n                             this,\n                             this.content.exec(context),\n                             this.js.exec(context),\n                             this.mix.exec(context),\n                             context.mods,\n                             context.elemMods);\n};\n\n},{\"../bemxjst/entity\":5,\"inherits\":11}],2:[function(require,module,exports){\nvar inherits = require('inherits');\nvar BEMXJST = require('../bemxjst');\nvar Entity = require('./entity').Entity;\nvar utils = require('../bemxjst/utils');\n\nfunction BEMTREE() {\n  BEMXJST.apply(this, arguments);\n}\n\ninherits(BEMTREE, BEMXJST);\nmodule.exports = BEMTREE;\n\nBEMTREE.prototype.Entity = Entity;\n\nBEMTREE.prototype.runMany = function(arr) {\n  var out = [];\n  var context = this.context;\n  var prevPos = context.position;\n  var prevNotNewList = context._notNewList;\n\n  if (prevNotNewList) {\n    context._listLength += arr.length - 1;\n  } else {\n    context.position = 0;\n    context._listLength = arr.length;\n  }\n  context._notNewList = true;\n\n  if (this.canFlush) {\n    for (var i = 0; i < arr.length; i++)\n      out += context._flush(this._run(arr[i])); // TODO: fixme!\n  } else {\n    for (var i = 0; i < arr.length; i++)\n      out.push(this._run(arr[i]));\n  }\n\n  if (!prevNotNewList)\n    context.position = prevPos;\n\n  return out;\n};\n\nBEMTREE.prototype.render = function(context, entity, content, js, mix, mods,\n                                                                    elemMods) {\n  var ctx = utils.extend({}, context.ctx);\n  var isBEM = !!(ctx.block || ctx.elem || ctx.bem);\n\n  if (typeof js !== 'undefined')\n    ctx.js = js;\n\n  if (typeof mix !== 'undefined')\n    ctx.mix = mix;\n\n  if (!entity.elem && mods && Object.keys(mods).length > 0)\n    ctx.mods = utils.extend(ctx.mods || {}, mods);\n\n  if (entity.elem && elemMods && Object.keys(elemMods).length > 0)\n    ctx.elemMods = utils.extend(ctx.elemMods || {}, elemMods);\n\n  if (typeof content === 'undefined')\n    return ctx;\n\n  ctx.content = this.renderContent(content, isBEM);\n\n  return ctx;\n};\n\nBEMTREE.prototype._run = function(context) {\n  if (!context || context === true) return context;\n  return BEMXJST.prototype._run.call(this, context);\n};\n\nBEMTREE.prototype.runUnescaped = function(context) {\n  this.context._listLength--;\n  return context;\n};\n\n},{\"../bemxjst\":7,\"../bemxjst/utils\":10,\"./entity\":1,\"inherits\":11}],3:[function(require,module,exports){\nfunction ClassBuilder(options) {\n  this.elemDelim = options.elem || '__';\n\n  this.modDelim = typeof options.mod === 'string' ?\n    {\n      name: options.mod || '_',\n      val: options.mod || '_'\n    } :\n    {\n      name: options.mod && options.mod.name || '_',\n      val: options.mod && options.mod.val || '_'\n    };\n}\n\nexports.ClassBuilder = ClassBuilder;\n\nClassBuilder.prototype.build = function(block, elem) {\n  if (!elem)\n    return block;\n  else\n    return block + this.elemDelim + elem;\n};\n\nClassBuilder.prototype.buildModPostfix = function(modName, modVal) {\n  var res = this.modDelim.name + modName;\n  if (modVal !== true) res += this.modDelim.val + modVal;\n  return res;\n};\n\nClassBuilder.prototype.buildBlockClass = function(name, modName, modVal) {\n  var res = name;\n  if (modVal) res += this.buildModPostfix(modName, modVal);\n  return res;\n};\n\nClassBuilder.prototype.buildElemClass = function(block, name, modName, modVal) {\n  return this.buildBlockClass(block) +\n    this.elemDelim +\n    name +\n    this.buildModPostfix(modName, modVal);\n};\n\nClassBuilder.prototype.split = function(key) {\n  return key.split(this.elemDelim, 2);\n};\n\n},{}],4:[function(require,module,exports){\nvar utils = require('./utils');\n\nfunction Context(bemxjst) {\n  this._bemxjst = bemxjst;\n\n  this.ctx = null;\n  this.block = '';\n\n  // Save current block until the next BEM entity\n  this._currBlock = '';\n\n  this.elem = null;\n  this.mods = {};\n  this.elemMods = {};\n\n  this.position = 0;\n  this._listLength = 0;\n  this._notNewList = false;\n\n  this.escapeContent = bemxjst.options.escapeContent !== false;\n}\nexports.Context = Context;\n\nContext.prototype._flush = null;\n\nContext.prototype.isSimple = utils.isSimple;\n\nContext.prototype.isShortTag = utils.isShortTag;\nContext.prototype.extend = utils.extend;\nContext.prototype.identify = utils.identify;\n\nContext.prototype.xmlEscape = utils.xmlEscape;\nContext.prototype.attrEscape = utils.attrEscape;\nContext.prototype.jsAttrEscape = utils.jsAttrEscape;\n\nContext.prototype.onError = function(context, e) {\n  console.error('bem-xjst rendering error:', {\n    block: context.ctx.block,\n    elem: context.ctx.elem,\n    mods: context.ctx.mods,\n    elemMods: context.ctx.elemMods\n  }, e);\n};\n\nContext.prototype.isFirst = function() {\n  return this.position === 1;\n};\n\nContext.prototype.isLast = function() {\n  return this.position === this._listLength;\n};\n\nContext.prototype.generateId = function() {\n  return utils.identify(this.ctx);\n};\n\nContext.prototype.reapply = function(ctx) {\n  return this._bemxjst.run(ctx);\n};\n\n},{\"./utils\":10}],5:[function(require,module,exports){\nvar utils = require('./utils');\nvar Match = require('./match').Match;\nvar tree = require('./tree');\nvar Template = tree.Template;\nvar PropertyMatch = tree.PropertyMatch;\nvar CompilerOptions = tree.CompilerOptions;\n\nfunction Entity(bemxjst, block, elem, templates) {\n  this.bemxjst = bemxjst;\n\n  this.block = null;\n  this.elem = null;\n\n  // Compiler options via `xjstOptions()`\n  this.options = {};\n\n  // `true` if entity has just a default renderer for `def()` mode\n  this.canFlush = true;\n\n  // \"Fast modes\"\n  this.def = new Match(this);\n  this.mix = new Match(this, 'mix');\n  this.js = new Match(this, 'js');\n  this.mods = new Match(this, 'mods');\n  this.elemMods = new Match(this, 'elemMods');\n  this.content = new Match(this, 'content');\n\n  // \"Slow modes\"\n  this.rest = {};\n\n  // Initialize\n  this.init(block, elem);\n  this.initModes(templates);\n}\nexports.Entity = Entity;\n\nEntity.prototype.init = function(block, elem) {\n  this.block = block;\n  this.elem = elem;\n};\n\nEntity.prototype._keys = {\n  content: 1,\n  mix: 1,\n  js: 1,\n  mods: 1,\n  elemMods: 1\n};\n\nEntity.prototype._initRest = function(key) {\n  if (key === 'default') {\n    this.rest[key] = this.def;\n  } else if (this._keys[key]) {\n    this.rest[key] = this[key];\n  } else {\n    this.rest[key] = this.rest[key] || new Match(this, key);\n  }\n};\n\nEntity.prototype.initModes = function(templates) {\n  /* jshint maxdepth : false */\n  for (var i = 0; i < templates.length; i++) {\n    var template = templates[i];\n\n    for (var j = template.predicates.length - 1; j >= 0; j--) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof PropertyMatch))\n        continue;\n\n      if (pred.key !== '_mode')\n        continue;\n\n      template.predicates.splice(j, 1);\n      this._initRest(pred.value);\n\n      // All templates should go there anyway\n      this.rest[pred.value].push(template);\n      break;\n    }\n\n    if (j === -1)\n      this.def.push(template);\n\n    // Merge compiler options\n    for (var j = template.predicates.length - 1; j >= 0; j--) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof CompilerOptions))\n        continue;\n\n      this.options = utils.extend(this.options, pred.options);\n    }\n  }\n};\n\nEntity.prototype.prepend = function(other) {\n  // Prepend to the slow modes, fast modes are in this hashmap too anyway\n  var keys = Object.keys(this.rest);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!other.rest[key])\n      continue;\n\n    this.rest[key].prepend(other.rest[key]);\n  }\n\n  // Add new slow modes\n  keys = Object.keys(other.rest);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (this.rest[key])\n      continue;\n\n    this._initRest(key);\n    this.rest[key].prepend(other.rest[key]);\n  }\n};\n\n// NOTE: This could be potentially compiled into inlined invokations\nEntity.prototype.run = function(context) {\n  if (this.def.count !== 0)\n    return this.def.exec(context);\n\n  return this.defaultBody(context);\n};\n\n\nfunction contentMode() {\n  return this.ctx.content;\n}\n\nEntity.prototype.setDefaults = function() {\n  // Default .content() template for applyNext()\n  if (this.content.count !== 0)\n    this.content.push(new Template([], contentMode));\n\n  // .def() default\n  if (this.def.count !== 0) {\n    this.canFlush = this.options.flush || false;\n    var self = this;\n    this.def.push(new Template([], function defaultBodyProxy() {\n      return self.defaultBody(this);\n    }));\n  }\n};\n\n},{\"./match\":8,\"./tree\":9,\"./utils\":10}],6:[function(require,module,exports){\nfunction BEMXJSTError(msg, func) {\n  this.name = 'BEMXJSTError';\n  this.message = msg;\n\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, func || this.constructor);\n  else\n    this.stack = (new Error()).stack;\n}\n\nBEMXJSTError.prototype = Object.create(Error.prototype);\nBEMXJSTError.prototype.constructor = BEMXJSTError;\n\nexports.BEMXJSTError = BEMXJSTError;\n\n},{}],7:[function(require,module,exports){\nvar inherits = require('inherits');\n\nvar Tree = require('./tree').Tree;\nvar PropertyMatch = require('./tree').PropertyMatch;\nvar AddMatch = require('./tree').AddMatch;\nvar Context = require('./context').Context;\nvar ClassBuilder = require('./class-builder').ClassBuilder;\nvar utils = require('./utils');\n\nfunction BEMXJST(options) {\n  this.options = options;\n\n  this.entities = null;\n  this.defaultEnt = null;\n\n  // Current tree\n  this.tree = null;\n\n  // Current match\n  this.match = null;\n\n  // Create new Context constructor for overriding prototype\n  this.contextConstructor = function ContextChild(bemxjst) {\n    Context.call(this, bemxjst);\n  };\n  inherits(this.contextConstructor, Context);\n  this.context = null;\n\n  this.classBuilder = new ClassBuilder(this.options.naming || {});\n\n  // Execution depth, used to invalidate `applyNext` bitfields\n  this.depth = 0;\n\n  // Do not call `_flush` on overridden `def()` mode\n  this.canFlush = false;\n\n  // oninit templates\n  this.oninit = null;\n\n  // Initialize default entity (no block/elem match)\n  this.defaultEnt = new this.Entity(this, '', '', []);\n  this.defaultElemEnt = new this.Entity(this, '', '', []);\n}\nmodule.exports = BEMXJST;\n\nBEMXJST.prototype.locals = Tree.methods\n    .concat('local', 'applyCtx', 'applyNext', 'apply');\n\nBEMXJST.prototype.runOninit = function(oninits, ret) {\n  var self = ret || this;\n\n  self.BEMContext = this.contextConstructor;\n  for (var i = 0; i < oninits.length; i++) {\n    // NOTE: oninit has global context instead of BEMXJST\n    var oninit = oninits[i];\n    oninit(self, { BEMContext: self.BEMContext });\n  }\n};\n\nBEMXJST.prototype.compile = function(code) {\n  var self = this;\n\n  function applyCtx() {\n    return self.run(self.context.ctx);\n  }\n\n  function _applyCtx() {\n    return self._run(self.context.ctx);\n  }\n\n  function applyCtxWrap(ctx, changes) {\n    // Fast case\n    if (!changes)\n      return self.local({ ctx: ctx }, applyCtx);\n\n    return self.local(changes, function() {\n      return self.local({ ctx: ctx }, _applyCtx);\n    });\n  }\n\n  function _applyCtxWrap(ctx, changes) {\n    // Fast case\n    if (!changes)\n      return self.local({ ctx: ctx }, _applyCtx);\n\n    return self.local(changes, function() {\n      return self.local({ ctx: ctx }, applyCtx);\n    });\n  }\n\n  function apply(mode, changes) {\n    return self.applyMode(mode, changes);\n  }\n\n  function localWrap(changes) {\n    return function localBody(body) {\n      return self.local(changes, body);\n    };\n  }\n\n  var tree = new Tree({\n    refs: {\n      applyCtx: applyCtxWrap,\n      _applyCtx: _applyCtxWrap,\n      apply: apply\n    }\n  });\n\n  // Yeah, let people pass functions to us!\n  var templates = this.recompileInput(code);\n\n  var out = tree.build(templates, [\n    localWrap,\n    applyCtxWrap,\n    function applyNextWrap(changes) {\n      if (changes)\n        return self.local(changes, applyNextWrap);\n      return self.applyNext();\n    },\n    apply\n  ]);\n\n  // Concatenate templates with existing ones\n  // TODO(indutny): it should be possible to incrementally add templates\n  if (this.tree) {\n    this.runOninit(out.oninit);\n\n    out = {\n      templates: out.templates.concat(this.tree.templates),\n      oninit: this.tree.oninit.concat(out.oninit)\n    };\n  }\n  this.tree = out;\n\n  // Group block+elem entities into a hashmap\n  var ent = this.groupEntities(out.templates);\n\n  // Transform entities from arrays to Entity instances\n  ent = this.transformEntities(ent);\n\n  this.entities = ent;\n  this.oninit = out.oninit;\n};\n\nBEMXJST.prototype.getTemplate = function(code, options) {\n  this.compile(code, options);\n\n  return this.exportApply();\n};\n\nBEMXJST.prototype.recompileInput = function(code) {\n  var args = BEMXJST.prototype.locals;\n  // Reuse function if it already has right arguments\n  if (typeof code === 'function' && code.length === args.length)\n    return code;\n\n  return new Function(args.join(', '), utils.fnToString(code));\n};\n\nBEMXJST.prototype.groupEntities = function(tree) {\n  var res = {};\n  for (var i = 0; i < tree.length; i++) {\n    // Make sure to change only the copy, the original is cached in `this.tree`\n    var template = tree[i].clone();\n    var block = null;\n    var elem;\n\n    elem = undefined;\n    for (var j = 0; j < template.predicates.length; j++) {\n      var pred = template.predicates[j];\n      if (!(pred instanceof PropertyMatch) &&\n        !(pred instanceof AddMatch))\n        continue;\n\n      if (pred.key === 'block')\n        block = pred.value;\n      else if (pred.key === 'elem')\n        elem = pred.value;\n      else\n        continue;\n\n      // Remove predicate, we won't much against it\n      template.predicates.splice(j, 1);\n      j--;\n    }\n\n    if (block === null) {\n      var msg = 'block(…) subpredicate is not found.\\n' +\n      '    See template with subpredicates:\\n     * ';\n\n      for (var j = 0; j < template.predicates.length; j++) {\n        var pred = template.predicates[j];\n\n        if (j !== 0)\n          msg += '\\n     * ';\n\n        if (pred.key === '_mode') {\n          msg += pred.value + '()';\n        } else {\n          if (Array.isArray(pred.key)) {\n            msg += pred.key[0].replace('mods', 'mod')\n              .replace('elemMods', 'elemMod') +\n              '(\\'' + pred.key[1] + '\\', \\'' + pred.value + '\\')';\n          } else {\n            msg += 'match(…)';\n          }\n        }\n      }\n\n      msg += '\\n    And template body: \\n    (' +\n        (typeof template.body === 'function' ?\n          template.body :\n          JSON.stringify(template.body)) + ')';\n\n      if (typeof BEMXJSTError === 'undefined') {\n        BEMXJSTError = require('./error').BEMXJSTError;\n      }\n\n      throw new BEMXJSTError(msg);\n    }\n\n    var key = this.classBuilder.build(block, elem);\n\n    if (!res[key])\n      res[key] = [];\n    res[key].push(template);\n  }\n  return res;\n};\n\nBEMXJST.prototype.transformEntities = function(entities) {\n  var wildcardElems = [];\n\n  var keys = Object.keys(entities);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    // TODO(indutny): pass this values over\n    var parts = this.classBuilder.split(key);\n    var block = parts[0];\n    var elem = parts[1];\n\n    if (elem === '*')\n      wildcardElems.push(block);\n\n    entities[key] = new this.Entity(\n      this, block, elem, entities[key]);\n  }\n\n  // Merge wildcard block templates\n  if (entities.hasOwnProperty('*')) {\n    var wildcard = entities['*'];\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key === '*')\n        continue;\n\n      entities[key].prepend(wildcard);\n    }\n    this.defaultEnt.prepend(wildcard);\n    this.defaultElemEnt.prepend(wildcard);\n  }\n\n  // Merge wildcard elem templates\n  for (var i = 0; i < wildcardElems.length; i++) {\n    var block = wildcardElems[i];\n    var wildcardKey = this.classBuilder.build(block, '*');\n    var wildcard = entities[wildcardKey];\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key === wildcardKey)\n        continue;\n\n      var entity = entities[key];\n      if (entity.block !== block || entity.elem === undefined)\n        continue;\n\n      entities[key].prepend(wildcard);\n    }\n    this.defaultElemEnt.prepend(wildcard);\n  }\n\n  // Set default templates after merging with wildcard\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    entities[key].setDefaults();\n    this.defaultEnt.setDefaults();\n    this.defaultElemEnt.setDefaults();\n  }\n\n  return entities;\n};\n\nBEMXJST.prototype._run = function(context) {\n  if (context === undefined || context === '' || context === null)\n    return this.runEmpty();\n  else if (Array.isArray(context))\n    return this.runMany(context);\n  else if (\n    typeof context.html === 'string' &&\n    !context.tag &&\n    typeof context.block === 'undefined' &&\n    typeof context.elem === 'undefined' &&\n    typeof context.cls === 'undefined' &&\n    typeof context.attrs === 'undefined'\n  )\n    return this.runUnescaped(context);\n  else if (utils.isSimple(context))\n    return this.runSimple(context);\n\n  return this.runOne(context);\n};\n\nBEMXJST.prototype.run = function(json) {\n  var match = this.match;\n  var context = this.context;\n  var depth = this.depth;\n\n  this.match = null;\n  this.context = new this.contextConstructor(this);\n  this.canFlush = this.context._flush !== null;\n  this.depth = 0;\n  var res = this._run(json);\n\n  if (this.canFlush)\n    res = this.context._flush(res);\n\n  this.match = match;\n  this.context = context;\n  this.depth = depth;\n\n  return res;\n};\n\nBEMXJST.prototype.runEmpty = function() {\n  this.context._listLength--;\n  return '';\n};\n\nBEMXJST.prototype.runUnescaped = function(context) {\n  this.context._listLength--;\n  return '' + context.html;\n};\n\nBEMXJST.prototype.runSimple = function(simple) {\n  this.context._listLength--;\n  if (!simple && simple !== 0 || simple === true)\n    return '';\n\n  return typeof simple === 'string' && this.context.escapeContent ?\n      utils.xmlEscape(simple) :\n      simple;\n};\n\nBEMXJST.prototype.runOne = function(json) {\n  var context = this.context;\n\n  var oldCtx = context.ctx;\n  var oldBlock = context.block;\n  var oldCurrBlock = context._currBlock;\n  var oldElem = context.elem;\n  var oldMods = context.mods;\n  var oldElemMods = context.elemMods;\n\n  if (json.block || json.elem)\n    context._currBlock = '';\n  else\n    context._currBlock = context.block;\n\n  context.ctx = json;\n  if (json.block) {\n    context.block = json.block;\n\n    if (json.mods)\n      context.mods = json.mods;\n    else if (json.block !== oldBlock || !json.elem)\n      context.mods = {};\n  } else {\n    if (!json.elem)\n      context.block = '';\n    else if (oldCurrBlock)\n      context.block = oldCurrBlock;\n  }\n\n  context.elem = json.elem;\n  if (json.elemMods)\n    context.elemMods = json.elemMods;\n  else\n    context.elemMods = {};\n\n  var block = context.block || '';\n  var elem = context.elem;\n\n  // Control list position\n  if (block || elem)\n    context.position++;\n  else\n    context._listLength--;\n\n  // To invalidate `applyNext` flags\n  this.depth++;\n\n  var restoreFlush = false;\n  var ent = this.entities[this.classBuilder.build(block, elem)];\n  if (ent) {\n    if (this.canFlush && !ent.canFlush) {\n      // Entity does not support flushing, do not flush anything nested\n      restoreFlush = true;\n      this.canFlush = false;\n    }\n  } else {\n    // No entity - use default one\n    ent = this.defaultEnt;\n    if (elem !== undefined)\n      ent = this.defaultElemEnt;\n    ent.init(block, elem);\n  }\n\n  var res = this.options.production === true ?\n    this.tryRun(context, ent) :\n    ent.run(context);\n\n  context.ctx = oldCtx;\n  context.block = oldBlock;\n  context.elem = oldElem;\n  context.mods = oldMods;\n  context.elemMods = oldElemMods;\n  context._currBlock = oldCurrBlock;\n  this.depth--;\n  if (restoreFlush)\n    this.canFlush = true;\n\n  return res;\n};\n\nBEMXJST.prototype.tryRun = function(context, ent) {\n  try {\n    return ent.run(context);\n  } catch (e) {\n    return context.onError(context, e) || '';\n  }\n};\n\nBEMXJST.prototype.renderContent = function(content, isBEM) {\n  var context = this.context;\n  var oldPos = context.position;\n  var oldListLength = context._listLength;\n  var oldNotNewList = context._notNewList;\n\n  context._notNewList = false;\n  if (isBEM) {\n    context.position = 0;\n    context._listLength = 1;\n  }\n\n  var res = this._run(content);\n\n  context.position = oldPos;\n  context._listLength = oldListLength;\n  context._notNewList = oldNotNewList;\n\n  return res;\n};\n\nBEMXJST.prototype.local = function(changes, body) {\n  var keys = Object.keys(changes);\n  var restore = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var parts = key.split('.');\n\n    var value = this.context;\n    for (var j = 0; j < parts.length - 1; j++)\n      value = value[parts[j]];\n\n    restore.push({\n      parts: parts,\n      value: value[parts[j]]\n    });\n    value[parts[j]] = changes[key];\n  }\n\n  var res = body.call(this.context);\n\n  for (var i = 0; i < restore.length; i++) {\n    var parts = restore[i].parts;\n    var value = this.context;\n    for (var j = 0; j < parts.length - 1; j++)\n      value = value[parts[j]];\n\n    value[parts[j]] = restore[i].value;\n  }\n\n  return res;\n};\n\nBEMXJST.prototype.applyNext = function() {\n  return this.match.exec(this.context);\n};\n\nBEMXJST.prototype.applyMode = function(mode, changes) {\n  var key;\n  var match = this.match;\n\n  if (!match) {\n    var key = this.classBuilder.build(this.context.block, this.context.elem);\n    match = this.entities[key].rest[mode];\n  } else {\n    match = this.match.entity.rest[mode];\n  }\n\n  if (!match) {\n    if (mode === 'mods')\n      return this.context.mods;\n\n    if (mode === 'elemMods')\n      return this.context.elemMods;\n\n    return this.context.ctx[mode];\n  }\n\n  if (!changes)\n    return match.exec(this.context);\n\n  var self = this;\n\n  // Allocate function this way, to prevent allocation at the top of the\n  // `applyMode`\n  var localBody = function() {\n    return match.exec(self.context);\n  };\n  return this.local(changes, localBody);\n};\n\nBEMXJST.prototype.exportApply = function(exports) {\n  var self = this;\n  var ret = exports || {};\n\n  ret.apply = function(context) {\n    return self.run(context);\n  };\n\n  // Add templates at run time\n  ret.compile = function(templates) {\n    self.compile(templates);\n    return ret;\n  };\n\n  this.runOninit(self.oninit, ret);\n\n  return ret;\n};\n\n},{\"./class-builder\":3,\"./context\":4,\"./error\":6,\"./tree\":9,\"./utils\":10,\"inherits\":11}],8:[function(require,module,exports){\nvar tree = require('./tree');\nvar PropertyMatch = tree.PropertyMatch;\nvar AddMatch = tree.AddMatch;\nvar WrapMatch = tree.WrapMatch;\nvar ExtendMatch = tree.ExtendMatch;\nvar CustomMatch = tree.CustomMatch;\n\nfunction MatchNested(template, pred) {\n  this.template = template;\n  this.keys = pred.key;\n  this.value = pred.value;\n}\n\nMatchNested.prototype.exec = function(context) {\n  var val = context;\n\n  for (var i = 0; i < this.keys.length - 1; i++) {\n    val = val[this.keys[i]];\n    if (!val)\n      return false;\n  }\n\n  val = val[this.keys[i]];\n\n  if (this.value === true)\n    return val !== undefined && val !== '' && val !== false && val !== null;\n\n  return String(val) === this.value;\n};\n\nfunction MatchCustom(template, pred) {\n  this.template = template;\n  this.body = pred.body;\n}\n\nMatchCustom.prototype.exec = function(context) {\n  return this.body.call(context, context, context.ctx);\n};\n\nfunction MatchWrap(template) {\n  this.template = template;\n  this.wrap = null;\n}\n\nMatchWrap.prototype.exec = function(context) {\n  var res = this.wrap !== context.ctx;\n  this.wrap = context.ctx;\n  return res;\n};\n\nfunction MatchExtend(template) {\n  this.template = template;\n  this.wrap = null;\n}\n\nMatchExtend.prototype.exec = function(context) {\n  var res = this.ext !== context.ctx;\n  this.ext = context.ctx;\n  return res;\n};\n\nfunction AddWrap(template, pred) {\n  this.template = template;\n  this.key = pred.key;\n  this.value = pred.value;\n}\n\nAddWrap.prototype.exec = function(context) {\n  return context[this.key] === this.value;\n};\n\nfunction MatchTemplate(mode, template) {\n  this.mode = mode;\n  this.predicates = new Array(template.predicates.length);\n  this.body = template.body;\n\n  var postpone = [];\n\n  for (var i = 0, j = 0; i < this.predicates.length; i++, j++) {\n    var pred = template.predicates[i];\n    if (pred instanceof PropertyMatch) {\n      this.predicates[j] = new MatchNested(this, pred);\n    } else if (pred instanceof ExtendMatch) {\n      j--;\n      postpone.push(new MatchExtend(this));\n    } else if (pred instanceof AddMatch) {\n      this.predicates[j] = new AddWrap(this, pred);\n    } else if (pred instanceof CustomMatch) {\n      this.predicates[j] = new MatchCustom(this, pred);\n\n      // Push MatchWrap later, they should not be executed first.\n      // Otherwise they will set flag too early, and body might not be executed\n    } else if (pred instanceof WrapMatch) {\n      j--;\n      postpone.push(new MatchWrap(this));\n    } else {\n      // Skip\n      j--;\n    }\n  }\n\n  // Insert late predicates\n  for (var i = 0; i < postpone.length; i++, j++)\n    this.predicates[j] = postpone[i];\n\n  if (this.predicates.length !== j)\n    this.predicates.length = j;\n}\nexports.MatchTemplate = MatchTemplate;\n\nfunction Match(entity, modeName) {\n  this.entity = entity;\n  this.modeName = modeName;\n  this.bemxjst = this.entity.bemxjst;\n  this.templates = [];\n\n  // applyNext mask\n  this.mask = [ 0 ];\n\n  // We are going to create copies of mask for nested `applyNext()`\n  this.maskSize = 0;\n  this.maskOffset = 0;\n\n  this.count = 0;\n  this.depth = -1;\n\n  this.thrownError = null;\n}\nexports.Match = Match;\n\nMatch.prototype.prepend = function(other) {\n  this.templates = other.templates.concat(this.templates);\n  this.count += other.count;\n\n  while (Math.ceil(this.count / 31) > this.mask.length)\n    this.mask.push(0);\n\n  this.maskSize = this.mask.length;\n};\n\nMatch.prototype.push = function(template) {\n  this.templates.push(new MatchTemplate(this, template));\n  this.count++;\n\n  if (Math.ceil(this.count / 31) > this.mask.length)\n    this.mask.push(0);\n\n  this.maskSize = this.mask.length;\n};\n\nMatch.prototype.tryCatch = function(fn, ctx) {\n  try {\n    return fn.call(ctx, ctx, ctx.ctx);\n  } catch (e) {\n    this.thrownError = e;\n    if (this.modeName) {\n      this.thrownError.ctx = ctx;\n      this.thrownError.name = 'BEMXJST ERROR';\n      var classBuilder = this.entity.bemxjst.classBuilder;\n\n      var cause = e.stack.split('\\n')[1];\n      this.thrownError.message = 'Template error in mode ' +\n            this.modeName + ' in block ' +\n            classBuilder.build(ctx.ctx.block, ctx.ctx.elem) +\n            '\\n    ' + e.message + '\\n';\n      this.thrownError.stack = this.thrownError.name + ': ' +\n            this.thrownError.message + ' ' + cause + '\\n' + e.stack;\n    }\n  }\n};\n\nMatch.prototype.exec = function(context) {\n  var save = this.checkDepth();\n\n  var template;\n  var bitIndex = this.maskOffset;\n  var mask = this.mask[bitIndex];\n  var bit = 1;\n  for (var i = 0; i < this.count; i++) {\n    if ((mask & bit) === 0) {\n      template = this.templates[i];\n      for (var j = 0; j < template.predicates.length; j++) {\n        var pred = template.predicates[j];\n\n        /* jshint maxdepth : false */\n        if (!pred.exec(context))\n          break;\n      }\n\n      // All predicates matched!\n      if (j === template.predicates.length)\n        break;\n    }\n\n    if (bit === 0x40000000) {\n      bitIndex++;\n      mask = this.mask[bitIndex];\n      bit = 1;\n    } else {\n      bit <<= 1;\n    }\n  }\n\n  if (i === this.count) {\n    this.restoreDepth(save);\n\n    if (this.modeName === 'mods')\n      return context.mods;\n\n    if (this.modeName === 'elemMods')\n      return context.elemMods;\n\n    return context.ctx[this.modeName];\n  }\n\n  var oldMask = mask;\n  var oldMatch = this.bemxjst.match;\n  this.mask[bitIndex] |= bit;\n  this.bemxjst.match = this;\n\n  this.thrownError = null;\n\n  var out;\n  if (typeof template.body === 'function')\n    out = this.tryCatch(template.body, context);\n  else\n    out = template.body;\n\n  this.mask[bitIndex] = oldMask;\n  this.bemxjst.match = oldMatch;\n  this.restoreDepth(save);\n\n  var e = this.thrownError;\n  if (e !== null) {\n    this.thrownError = null;\n    throw e;\n  }\n\n  return out;\n};\n\nMatch.prototype.checkDepth = function() {\n  if (this.depth === -1) {\n    this.depth = this.bemxjst.depth;\n    return -1;\n  }\n\n  if (this.bemxjst.depth === this.depth)\n    return this.depth;\n\n  var depth = this.depth;\n  this.depth = this.bemxjst.depth;\n\n  this.maskOffset += this.maskSize;\n\n  while (this.mask.length < this.maskOffset + this.maskSize)\n    this.mask.push(0);\n\n  return depth;\n};\n\nMatch.prototype.restoreDepth = function(depth) {\n  if (depth !== -1 && depth !== this.depth)\n    this.maskOffset -= this.maskSize;\n  this.depth = depth;\n};\n\n},{\"./tree\":9}],9:[function(require,module,exports){\nvar inherits = require('inherits');\nvar utils = require('./utils');\n\nfunction Template(predicates, body) {\n  this.predicates = predicates;\n\n  this.body = body;\n}\nexports.Template = Template;\n\nTemplate.prototype.wrap = function() {\n  var body = this.body;\n  for (var i = 0; i < this.predicates.length; i++) {\n    var pred = this.predicates[i];\n    body = pred.wrapBody(body);\n  }\n  this.body = body;\n};\n\nTemplate.prototype.clone = function() {\n  return new Template(this.predicates.slice(), this.body);\n};\n\nfunction MatchBase() {\n}\nexports.MatchBase = MatchBase;\n\nMatchBase.prototype.wrapBody = function(body) {\n  return body;\n};\n\nfunction Item(tree, children) {\n  this.conditions = [];\n  this.children = [];\n\n  for (var i = children.length - 1; i >= 0; i--) {\n    var arg = children[i];\n    if (arg instanceof MatchBase)\n      this.conditions.push(arg);\n    else if (arg === tree.boundBody)\n      this.children[i] = tree.queue.pop();\n    else\n      this.children[i] = arg;\n  }\n}\n\nfunction WrapMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(WrapMatch, MatchBase);\nexports.WrapMatch = WrapMatch;\n\nWrapMatch.prototype.wrapBody = function(body) {\n  var _applyCtx = this.refs._applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return _applyCtx(body);\n    };\n  }\n\n  return function() {\n    return _applyCtx(body.call(this, this, this.ctx));\n  };\n};\n\nfunction ReplaceMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(ReplaceMatch, MatchBase);\nexports.ReplaceMatch = ReplaceMatch;\n\nReplaceMatch.prototype.wrapBody = function(body) {\n  var applyCtx = this.refs.applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return applyCtx(body, { position: this.position - 1 });\n    };\n  }\n\n  return function() {\n    return applyCtx(body.call(this, this, this.ctx),\n                    { position: this.position - 1 });\n  };\n};\n\nfunction ExtendMatch(refs) {\n  MatchBase.call(this);\n\n  this.refs = refs;\n}\ninherits(ExtendMatch, MatchBase);\nexports.ExtendMatch = ExtendMatch;\n\nExtendMatch.prototype.wrapBody = function(body) {\n  var refs = this.refs;\n  var applyCtx = refs.applyCtx;\n\n  if (typeof body !== 'function') {\n    return function() {\n      var changes = {};\n\n      var keys = Object.keys(body);\n      for (var i = 0; i < keys.length; i++)\n        changes[keys[i]] = body[keys[i]];\n\n      return applyCtx(this.ctx, changes);\n    };\n  }\n\n  return function() {\n    var changes = {};\n\n    var obj = body.call(this, this, this.ctx);\n    var keys = Object.keys(obj);\n    for (var i = 0; i < keys.length; i++)\n      changes[keys[i]] = obj[keys[i]];\n\n    return applyCtx(this.ctx, changes);\n  };\n};\n\nfunction AddMatch(mode, refs) {\n  MatchBase.call(this);\n\n  this.mode = mode;\n  this.refs = refs;\n}\ninherits(AddMatch, MatchBase);\nexports.AddMatch = AddMatch;\n\nAddMatch.prototype.wrapBody = function(body) {\n  return this[this.mode + 'WrapBody'](body);\n};\n\nAddMatch.prototype.appendContentWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return [ apply('content') , body ];\n    };\n  }\n\n  return function() {\n    return [ apply('content'), body.call(this, this, this.ctx) ];\n  };\n};\n\nAddMatch.prototype.prependContentWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      return [ body, apply('content') ];\n    };\n  }\n\n  return function() {\n    return [ body.call(this, this, this.ctx), apply('content') ];\n  };\n};\n\nAddMatch.prototype.mixWrapBody = function(body) {\n  var apply = this.refs.apply;\n\n  if (typeof body !== 'function') {\n    return function() {\n      var ret = apply('mix');\n      /* istanbul ignore else */\n      if (!Array.isArray(ret)) ret = [ ret ];\n      return ret.concat(body);\n    };\n  }\n\n  return function() {\n    var ret = apply('mix');\n    if (!Array.isArray(ret)) ret = [ ret ];\n    return ret.concat(body.call(this, this, this.ctx));\n  };\n};\n\n[ 'attrs', 'js', 'mods', 'elemMods' ].forEach(function(method) {\n  AddMatch.prototype[ method + 'WrapBody'] = function(body) {\n    var apply = this.refs.apply;\n\n    return typeof body !== 'function' ?\n      function() {\n        return (this[method] = utils.extend(apply(method) || {}, body));\n      } :\n      function() {\n        return (this[method] = utils.extend(apply(method) || {},\n                               body.call(this, this, this.ctx)));\n      };\n  };\n});\n\nfunction CompilerOptions(options) {\n  MatchBase.call(this);\n  this.options = options;\n}\ninherits(CompilerOptions, MatchBase);\nexports.CompilerOptions = CompilerOptions;\n\nfunction PropertyMatch(key, value) {\n  MatchBase.call(this);\n\n  this.key = key;\n  this.value = value;\n}\ninherits(PropertyMatch, MatchBase);\nexports.PropertyMatch = PropertyMatch;\n\nfunction CustomMatch(body) {\n  MatchBase.call(this);\n\n  this.body = body;\n}\ninherits(CustomMatch, MatchBase);\nexports.CustomMatch = CustomMatch;\n\nfunction Tree(options) {\n  this.options = options;\n  this.refs = this.options.refs;\n\n  this.boundBody = this.body.bind(this);\n\n  var methods = this.methods('body');\n  for (var i = 0; i < methods.length; i++) {\n    var method = methods[i];\n    // NOTE: method.name is empty because of .bind()\n    this.boundBody[Tree.methods[i]] = method;\n  }\n\n  this.queue = [];\n  this.templates = [];\n  this.initializers = [];\n}\nexports.Tree = Tree;\n\nTree.methods = [\n  // Subpredicates:\n  'match', 'block', 'elem', 'mod', 'elemMod',\n  // Runtime related:\n  'oninit', 'xjstOptions',\n  // Output generators:\n  'wrap', 'replace', 'extend', 'mode', 'def',\n  'content', 'appendContent', 'prependContent',\n  'attrs', 'addAttrs', 'js', 'addJs', 'mix', 'addMix',\n  'mods', 'addMods', 'addElemMods', 'elemMods',\n  'tag', 'cls', 'bem'\n];\n\nTree.prototype.build = function(templates, apply) {\n  var methods = this.methods('global').concat(apply);\n  methods[0] = this.match.bind(this);\n\n  templates.apply({}, methods);\n\n  return {\n    templates: this.templates.slice().reverse(),\n    oninit: this.initializers\n  };\n};\n\nfunction methodFactory(self, kind, name) {\n  var method = self[name];\n  var boundBody = self.boundBody;\n\n  if (kind !== 'body') {\n    if (name === 'replace' || name === 'extend' || name === 'wrap') {\n      return function() {\n        return method.apply(self, arguments);\n      };\n    }\n\n    return function() {\n      method.apply(self, arguments);\n      return boundBody;\n    };\n  }\n\n  return function() {\n    var res = method.apply(self, arguments);\n\n    // Insert body into last item\n    var child = self.queue.pop();\n    var last = self.queue[self.queue.length - 1];\n    last.conditions = last.conditions.concat(child.conditions);\n    last.children = last.children.concat(child.children);\n\n    if (name === 'replace' || name === 'extend' || name === 'wrap')\n      return res;\n    return boundBody;\n  };\n}\n\nTree.prototype.methods = function(kind) {\n  var out = new Array(Tree.methods.length);\n\n  for (var i = 0; i < out.length; i++) {\n    var name = Tree.methods[i];\n    out[i] = methodFactory(this, kind, name);\n  }\n\n  return out;\n};\n\n// Called after all matches\nTree.prototype.flush = function(conditions, item) {\n  var subcond = item.conditions ?\n    conditions.concat(item.conditions) :\n    item.conditions;\n\n  for (var i = 0; i < item.children.length; i++) {\n    var arg = item.children[i];\n\n    // Go deeper\n    if (arg instanceof Item) {\n      this.flush(subcond, item.children[i]);\n\n    // Body\n    } else {\n      if (this.isShortcutAllowed(arg, conditions)) {\n        var keys = Object.keys(arg);\n        for (var n = 0; n < keys.length; n++)\n          this.addTemplate(\n            conditions.concat(this.createMatch(keys[n])),\n            arg[keys[n]]\n          );\n      } else {\n        this.addTemplate(conditions, arg);\n      }\n    }\n  }\n};\n\nTree.prototype.createMatch = function(modeName) {\n  switch (modeName) {\n    case 'addAttrs':\n      return [\n        new PropertyMatch('_mode', 'attrs'),\n        new AddMatch('attrs', this.refs)\n      ];\n    case 'addJs':\n      return [\n        new PropertyMatch('_mode', 'js'),\n        new AddMatch('js', this.refs)\n      ];\n    case 'addMix':\n      return [\n        new PropertyMatch('_mode', 'mix'),\n        new AddMatch('mix', this.refs)\n      ];\n    case 'addMods':\n      return [\n        new PropertyMatch('_mode', 'mods'),\n        new AddMatch('mods', this.refs)\n      ];\n    case 'addElemMods':\n      return [\n        new PropertyMatch('_mode', 'elemMods'),\n        new AddMatch('elemMods', this.refs)\n      ];\n    case 'appendContent':\n    case 'prependContent':\n      return [\n        new PropertyMatch('_mode', 'content'),\n        new AddMatch(modeName, this.refs)\n      ];\n\n    case 'wrap':\n      return new WrapMatch(this.refs);\n\n    case 'replace':\n      return new ReplaceMatch(this.refs);\n\n    case 'extend':\n      return new ExtendMatch(this.refs);\n\n    case 'def':\n      return new PropertyMatch('_mode', 'default');\n\n    default:\n      return new PropertyMatch('_mode', modeName);\n  }\n};\n\nTree.prototype.addTemplate = function(conditions, arg) {\n  var template = new Template(conditions, arg);\n  template.wrap();\n  this.templates.push(template);\n};\n\nTree.prototype.body = function() {\n  var children = new Array(arguments.length);\n  for (var i = 0; i < arguments.length; i++)\n    children[i] = arguments[i];\n\n  var child = new Item(this, children);\n  this.queue[this.queue.length - 1].children.push(child);\n\n  if (this.queue.length === 1)\n    this.flush([], this.queue.shift());\n\n  return this.boundBody;\n};\n\nTree.modsCheck = { mods: 1, elemMods: 1 };\n\nTree.checkConditions = function(conditions) {\n  for (var i = 0; i < conditions.length; i++) {\n    var condition = conditions[i];\n    if (condition.key === 'block' ||\n      condition.key === 'elem' ||\n      (Array.isArray(condition.key) && Tree.modsCheck[condition.key[0]]) ||\n      condition instanceof CustomMatch) continue;\n    return false;\n  }\n\n  return true;\n};\n\nTree.prototype.isShortcutAllowed = function(arg, conditions) {\n  return typeof arg === 'object' &&\n    arg !== null &&\n    !Array.isArray(arg) &&\n    Tree.checkConditions(conditions);\n};\n\nTree.prototype.match = function() {\n  var children = new Array(arguments.length);\n\n  if (!arguments.length)\n    throw new Error('.match() must have argument');\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (typeof arg === 'function')\n      arg = new CustomMatch(arg);\n\n    if (!(arg instanceof MatchBase))\n      throw new Error('Wrong .match() argument');\n\n    children[i] = arg;\n  }\n\n  this.queue.push(new Item(this, children));\n\n  return this.boundBody;\n};\n\nTree.prototype.applyMode = function(args, mode) {\n  if (args.length) {\n    throw new Error('Predicate should not have arguments but ' +\n      JSON.stringify(args) + ' passed');\n  }\n\n  return this.mode(mode);\n};\n\nTree.prototype.xjstOptions = function(options) {\n  this.queue.push(new Item(this, [\n    new CompilerOptions(options)\n  ]));\n  return this.boundBody;\n};\n\n[ 'mode', 'elem', 'block' ].forEach(function(method) {\n  Tree.prototype[method] = function(name) {\n    return this.match(new PropertyMatch(\n      method === 'mode' ? '_mode' : method, name));\n  };\n});\n\n[ 'mod', 'elemMod' ].forEach(function(method) {\n  Tree.prototype[method] = function(name, value) {\n    return this.match(new PropertyMatch([ method + 's', name ],\n                                  value === undefined ? true : String(value)));\n  };\n});\n\nTree.prototype.def = function() {\n  return this.applyMode(arguments, 'default');\n};\n\n[\n  'content', 'mix', 'bem', 'js', 'cls', 'attrs', 'tag', 'elemMods', 'mods'\n].forEach(function(method) {\n  Tree.prototype[method] = function() {\n    return this.applyMode(arguments, method);\n  };\n});\n\n[ 'appendContent', 'prependContent' ].forEach(function(method) {\n  Tree.prototype[method] = function() {\n    return this.content.apply(this, arguments)\n      .match(new AddMatch(method, this.refs));\n  };\n});\n\nfunction capitalize(s) {\n  return s[0].toUpperCase() + s.slice(1);\n}\n\n[ 'mods', 'elemMods', 'attrs', 'js', 'mix' ].forEach(function(method) {\n  Tree.prototype['add' + capitalize(method)] = function() {\n    return this[method].apply(this, arguments)\n      .match(new AddMatch(method, this.refs));\n  };\n});\n\nTree.prototype.wrap = function() {\n  return this.def.apply(this, arguments).match(new WrapMatch(this.refs));\n};\n\nTree.prototype.replace = function() {\n  return this.def.apply(this, arguments).match(new ReplaceMatch(this.refs));\n};\n\nTree.prototype.extend = function() {\n  return this.def.apply(this, arguments).match(new ExtendMatch(this.refs));\n};\n\nTree.prototype.oninit = function(fn) {\n  this.initializers.push(fn);\n};\n\n},{\"./utils\":10,\"inherits\":11}],10:[function(require,module,exports){\nvar amp = '&amp;';\nvar lt = '&lt;';\nvar gt = '&gt;';\nvar quot = '&quot;';\nvar singleQuot = '&#39;';\n\nvar matchXmlRegExp = /[&<>]/;\n\nfunction isEmpty(string) {\n  return typeof string === 'undefined' ||\n     string === null ||\n     (typeof string === 'number' && isNaN(string));\n}\n\nexports.xmlEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchXmlRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 38: // &\n        escape = amp;\n        break;\n      case 60: // <\n        escape = lt;\n        break;\n      case 62: // >\n        escape = gt;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nvar matchAttrRegExp = /[\"&]/;\n\nexports.attrEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchAttrRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = quot;\n        break;\n      case 38: // &\n        escape = amp;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nvar matchJsAttrRegExp = /['&]/;\n\nexports.jsAttrEscape = function(string) {\n  if (isEmpty(string))\n    return '';\n\n  var str = '' + string;\n  var match = matchJsAttrRegExp.exec(str);\n\n  if (!match)\n    return str;\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 38: // &\n        escape = amp;\n        break;\n      case 39: // '\n        escape = singleQuot;\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index)\n      html += str.substring(lastIndex, index);\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ?\n    html + str.substring(lastIndex, index) :\n    html;\n};\n\nexports.extend = function(o1, o2) {\n  if (!o1 || !o2)\n    return o1 || o2;\n\n  var res = {};\n  var n;\n\n  for (n in o1)\n    /* istanbul ignore else */\n    if (o1.hasOwnProperty(n))\n      res[n] = o1[n];\n  for (n in o2)\n    /* istanbul ignore else */\n    if (o2.hasOwnProperty(n))\n      res[n] = o2[n];\n  return res;\n};\n\nvar SHORT_TAGS = { // hash for quick check if tag short\n  area: 1, base: 1, br: 1, col: 1, command: 1, embed: 1, hr: 1, img: 1,\n  input: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, wbr: 1\n};\n\nexports.isShortTag = function(t) {\n  return SHORT_TAGS.hasOwnProperty(t);\n};\n\nexports.isSimple = function isSimple(obj) {\n  if (!obj || obj === true) return true;\n  if (!obj.block &&\n      !obj.elem &&\n      !obj.tag &&\n      !obj.cls &&\n      !obj.attrs &&\n      obj.hasOwnProperty('html') &&\n      isSimple(obj.html))\n    return true;\n  return typeof obj === 'string' || typeof obj === 'number';\n};\n\nexports.isObj = function(val) {\n  return val && typeof val === 'object' && !Array.isArray(val) &&\n    val !== null;\n};\n\nvar uniqCount = 0;\nvar uniqId = +new Date();\nvar uniqExpando = '__' + uniqId;\nvar uniqPrefix = 'uniq' + uniqId;\n\nfunction getUniq() {\n  return uniqPrefix + (++uniqCount);\n}\nexports.getUniq = getUniq;\n\nexports.identify = function(obj, onlyGet) {\n  if (!obj)\n    return getUniq();\n  if (onlyGet || obj[uniqExpando])\n    return obj[uniqExpando];\n\n  var u = getUniq();\n  obj[uniqExpando] = u;\n  return u;\n};\n\nexports.fnToString = function(code) {\n  // It is fine to compile without templates at first\n  if (!code)\n    return '';\n\n  if (typeof code === 'function') {\n    // Examples for regular function\n    //   function () { … }\n    //   function name() { … }\n    //   function (a, b) { … }\n    //   function name(a, b) { … }\n    //\n    // Examples for arrow function\n    //   () => { … }\n    //   (a, b) => { … }\n    //   _ => { … }\n\n    code = code.toString();\n    code = code.replace(\n      code.indexOf('function') === 0 ?\n      /^function\\s*[^{]+{|}$/g :\n      /^(_|\\(\\w|[^=>]+\\))\\s=>\\s{|}$/g,\n    '');\n  }\n\n  return code;\n};\n\n/**\n * regexp for check may attribute be unquoted\n *\n * https://www.w3.org/TR/html4/intro/sgmltut.html#h-3.2.2\n * https://www.w3.org/TR/html5/syntax.html#attributes\n */\nvar UNQUOTED_ATTR_REGEXP = /^[:\\w.-]+$/;\n\nexports.isUnquotedAttr = function(str) {\n  return str && UNQUOTED_ATTR_REGEXP.exec(str);\n};\n\n},{}],11:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}]},{},[2])(2)\n});;\nreturn module.exports || exports.bemtree;\n}({}, {});\nvar api = new bemtree({\"exportName\":\"bemtree\",\"runtimeLinting\":true,\"to\":\"/home/kotyarich/Dev/tp/front/2019_1_three_in_a_boat\"});\napi.compile(function(match, block, elem, mod, elemMod, oninit, xjstOptions, wrap, replace, extend, mode, def, content, appendContent, prependContent, attrs, addAttrs, js, addJs, mix, addMix, mods, addMods, addElemMods, elemMods, tag, cls, bem, local, applyCtx, applyNext, apply) {\n/* BEM-XJST User code here: */\n\n    block('authors').elem('img')({\n  'tag': 'img',\n});\n\nblock('authors').elem('items').match((node, ctx) => ctx.authors !== undefined)({\n  appendContent: (node, ctx) => ctx.authors.map((elt) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'img',\n        attrs: {\n          src: elt.img,\n          alt: elt.name,\n        },\n      },\n      {\n        elem: 'title',\n        content: elt.name,\n      },\n      {\n        elem: 'subtitle',\n        content: elt.devInfo,\n      },\n      {\n        elem: 'description',\n        content: elt.description,\n      },\n    ],\n  })),\n});\n\nblock('btn')({'tag': 'button'});\nblock('btn').elem('text')({'tag': 'span'});\nblock('btn').elem('inner')({'tag': 'span'});\n\n// if inner isn't explicitly wrapping the content - do that implicitly\nblock('btn').match((node, ctx) => (ctx.content && ctx.content.find(\n    (elt) => elt['elem'] === 'inner') === undefined))({\n  content: () => [{\n    elem: 'inner',\n    content: applyNext(),\n  }],\n});\n\nblock('btn').match((node, ctx) => !ctx.content && ctx.icon && ctx.btnText)({\n  addMods: {'with-icon': true},\n  content: (node, ctx) => [{\n    elem: 'inner',\n    content: [\n      {\n        block: 'icon',\n        wrappedInside: 'btn',\n        mods: {type: ctx.icon, size: ctx.mods.size},\n      },\n      {\n        elem: 'text',\n        content: ctx.btnText,\n      },\n    ],\n  }],\n});\n\n\nblock('checkbox')({\n  tag: 'input',\n  addAttrs: {\n    type: 'checkbox',\n  },\n});\n\nblock('checkbox')({\n  tag: 'input',\n  addAttrs: (node, ctx) => ({\n    'id': node.formId + '_' + ctx.fieldName,\n    'name': ctx.fieldName,\n  }),\n});\n\nblock('field-group')({\n  extend: (node) => ({\n    _fieldParents: (node._fieldParents || []).concat(['field-group'])\n  })\n});\n\nblock('field-group').match(\n    (node) => Array.isArray(node._fieldParents) &&\n        ((node._fieldParents.length > 0\n          && node._fieldParents[node._fieldParents.length - 1] !== 'field-group')\n          || node._fieldParents.length > 1))\n({\n  addMix: (node) => ({\n    block: (node._fieldParents[node._fieldParents.length - 1] === 'field-group' ?\n            node._fieldParents[node._fieldParents.length - 2] :\n            node._fieldParents[node._fieldParents.length - 1]),\n    elem:  'field'\n  })\n});\nblock('file-input').elem('field')({\n  tag: 'input',\n  addAttrs: (node) => ({\n    id: node.formId + '_' + node.fieldName,\n    name: node.fieldName,\n    type: 'file',\n  }),\n});\n\nblock('file-input').elem('label')({\n  tag: 'label',\n  addAttrs: (node) => ({'for': node.formId + '_' + node.fieldName})\n});\n\nblock('file-input').elem('info')({\n  tag: 'span',\n});\n\nblock('file-input').match((node, ctx) => !ctx.content)({\n  content: (node, ctx) => [\n    {\n      elem: 'label',\n      content: [ctx.labelText || 'Выберите файл'],\n    },\n    {\n      elem: 'info',\n      content: [ctx.emptyText || '(файл не выбран)']\n    },\n    {\n      elem: 'field',\n    },\n  ],\n});\n\nblock('file-input')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()})\n});\nblock('form')({tag: 'form'});\n\nblock('form')({\n  extend: (node, ctx) => ({\n    formId: ctx.name,\n  }),\n});\n\nblock('form-group')({\n  extend: (node) => ({\n    _fieldParents: (node._fieldParents || []).concat(['form-group']),\n  }),\n});\n\nblock('form-group').elem('help-text')({\n  addAttrs: (node, ctx) => ({\n    'id': `help_${ctx['for']}`,\n  }),\n});\n\nblock('game-info').elem('item')({\n  content: (node, ctx) => [\n    {\n      elem: 'item-name',\n      content: ctx.name,\n    },\n    {\n      elem: 'item-value',\n      content: ctx.value,\n    },\n  ],\n});\n\nblock('game-info').elem('avatar')({\n  tag: 'img',\n});\n\nblock('game-info').elem('line')({tag: 'hr'});\n\nblock('game-info').match((node, ctx) => !ctx.content && ctx.userInfo)({\n  content: (node, ctx) => ctx.userInfo.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt[0],\n        value: elt[1] || '-',\n      })\n  ),\n});\n\n\n\nblock('*').match((node, ctx) => ctx.wrappedInside)({\n  addMix: (node, ctx) => ({\n    block: ctx.wrappedInside,\n    elem: ctx.wrappedAs || ctx.block,\n    elemMods: ctx.elemMods\n  }),\n});\n// not needed\n\nblock('hexagons')({\n  tag: 'canvas',\n});\n\nblock('icon')({tag: (node, ctx) => ctx.tag || 'i'});\n\n\n// not needed\nblock('input').elem('field')({\n  tag: 'input',\n  addAttrs: (node) => ({\n    'id': node.formId + '_' + node.fieldName,\n    'name': node.fieldName,\n  }),\n});\n\nblock('input').elem('field').match((node, ctx) => !ctx.attrs || !ctx.attrs.type)\n({addAttrs: {type: 'text'}});\n\nblock('input').match((node, ctx) => !ctx.content)({\n  content: (node, ctx) => [{\n    elem: 'field',\n    attrs: ctx.fieldAttrs,\n  }],\n});\n\nblock('input')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()}),\n});\n\nblock('input').elem('tooltip')({\n  addAttrs: (node, ctx) => ({\n    'data-for': node.formId + (ctx['data-for'] || node.fieldName),\n  }),\n});\n\n// (form/field)-group related stuff\nblock('input').match(\n    (node) => Array.isArray(node._fieldParents) && node._fieldParents.length)({\n  addMix: (node) => ({\n    block: node._fieldParents[node._fieldParents.length - 1],\n    elem: 'field',\n  }),\n});\n\n// emptied out in favor of form\n\nblock('menu').elem('link')({tag: 'a'});\nblock('menu').elem('avatar')({tag: 'img'});\nblock('menu').elem('title')({\n  block: 'title',\n  mods: {large: true},\n});\n\nblock('menu').elem('items').match((node, ctx) => ctx.points !== undefined)({\n  appendContent: (node, ctx) => ctx.points.map((elt) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'link',\n        attrs: {'href': '#', 'data-link-type': elt.href},\n        content: [\n          {\n            tag: 'span',\n            block: 'icon-bg',\n            mods: {\n              borderless: true,\n              size: 'full',\n              color: 'dark-gray',\n            },\n            content: {\n              block: 'icon',\n              mods: {color: 'white', type: elt.type, size: 'fit'},\n            },\n            wrappedInside: 'menu',\n            wrappedAs: 'icon-bg',\n          },\n          {\n            elem: 'text',\n            content: elt.text,\n          },\n        ],\n      },\n    ],\n  })),\n});\n\nblock('not-found-page').elem('link')({tag: 'a'});\n\n// not needed\n\nblock('pagination').elem('link')({tag: 'button'});\nblock('pagination').elem('link').match((node, ctx) => ctx.content)({\n  addMix: (node, ctx) => {\n    let mods = {};\n    if (ctx.content === 'Вперед') {\n      mods = {last: true};\n    }\n    if (ctx.content === 'Назад') {\n      mods = {first: true};\n    }\n\n    return {block: 'pagination', elem: 'link', elemMods: mods};\n  },\n});\n\nblock('profile-info').elem('item')({\n  content: (node, ctx) => [\n    {\n      elem: 'item-name',\n      content: ctx.name,\n    },\n    {\n      elem: 'item-value',\n      content: ctx.value,\n    },\n  ],\n});\n\nblock('profile-popup').elem('profile-icon')({\n  tag: 'img',\n});\n\n\nblock('profile-info').match((node, ctx) => !ctx.content && ctx.userInfo)({\n  content: (node, ctx) => ctx.userInfo.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt[0],\n        value: elt[1] || '-',\n      })\n  ),\n});\n\n\nblock('profile-info').match((node, ctx) => !ctx.content && ctx.fields)({\n  content: (node, ctx) => ctx.fields.map(\n      (elt) => ({\n        elem: 'item',\n        name: elt.name,\n        value: {\n          block: 'form-group',\n          mods: {size: 'inline'},\n          content: elt.content ? elt.content : [\n            elt.value || {\n              block: 'input',\n              fieldName: elt.fieldName,\n              fieldAttrs: elt.fieldAttrs,\n            },\n            elt.novalidate ? {} :{\n              elem: 'help-text',\n              elemMods: {hidden: true},\n              for: elt.fieldName || elt.value.fieldName,\n            },\n          ],\n        },\n      })\n  ),\n});\n\nblock('profile-popup').match((node, ctx) => !ctx.content && ctx.title &&\n    (ctx.info || ctx.fields) && ctx.img && ctx.allowEdit !== undefined)({\n  content: (node, ctx) => [\n    {\n      elem: 'title',\n      content: [ctx.title],\n    },\n    {\n      elem: 'content',\n      content: [\n        {\n          elem: 'profile-icon',\n          attrs: {src: ctx.img},\n        },\n        {\n          block: 'profile-info',\n          mix: {block: 'profile-popup', elem: 'profile-info'},\n          userInfo: ctx.info,\n          userFields: ctx.fields,\n        },\n        {\n          elem: 'double-btn',\n          content: ctx.allowEdit ? [\n            {\n              block: 'btn',\n              mods: {'size': 'large', 'with-icon': true, 'cancel': true},\n              wrappedInside: 'profile-popup',\n              icon: 'useredit',\n              btnText: 'Изменить',\n            },\n            {\n              block: 'btn',\n              attrs: {'data-type': 'menu'},\n              mods: {\n                'size': 'large',\n                'with-icon': true,\n                'cancel': false,\n                'color': 'muted',\n              },\n              wrappedInside: 'profile-popup',\n              icon: 'back',\n              btnText: 'В меню',\n            }] : [{\n              block: 'btn',\n              attrs: {'data-type': 'back'},\n              mods: {\n                'size': 'large',\n                'with-icon': true,\n                'cancel': false,\n                'color': 'muted',\n              },\n              wrappedInside: 'profile-popup',\n              icon: 'back',\n              btnText: 'Назад',\n            }],\n        },\n      ],\n    },\n  ],\n});\n\nblock('result-redirect').elem('btn')({tag: 'button'});\n\nblock('result-redirect').elem('link')({tag: 'a  '});\n\nblock('result-redirect').elem('btn').match(\n    (node, ctx) => !ctx.content && ctx.btnText)({\n  content: (node, ctx) => [{\n    elem: 'inner',\n    content: [\n      {\n        elem: 'text',\n        content: ctx.btnText,\n      },\n    ],\n  }],\n});\n\nblock('scoreboard').elem('username')({tag: 'span'});\nblock('scoreboard').elem('avatar')({tag: 'img'});\n\nblock('scoreboard').elem('items').match(\n    (node, ctx) => ctx.scores !== undefined)({\n  appendContent: (node, ctx) => ctx.scores.map((elt, index) => ({\n    elem: 'item',\n    content: [\n      {\n        elem: 'user-data',\n        content: [\n          {\n            elem: 'place',\n            content: '#' + ((ctx.page * 10) + (index + 1)),\n          },\n          {\n            elem: 'link',\n            tag: 'a',\n            fieldName: 'userName',\n            value: elt.userId,\n            attrs: {value: elt.userId}, // to be changed once api's here\n            content: [\n              {\n                elem: 'data-field',\n                content: [\n                  {\n                    elem: 'avatar',\n                    attrs: {\n                      src: elt.img,\n                      alt: elt.name,\n                    },\n                  },\n                  {\n                    elem: 'username',\n                    content: elt.username,\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      },\n      {\n        elem: 'score',\n        content: elt.score,\n      },\n    ],\n    elemMods: index < 3 && ctx.page === 0 ?\n        {place: ['first', 'second', 'third'][index]}\n        : {},\n  })),\n});\n\nblock('select').elem('field')({\n  tag: 'select',\n  addAttrs: (node) => ({\n    'id': node.formId + '_' + node.fieldName,\n    'name': node.fieldName,\n  }),\n});\n\nblock('select').match(\n    (node, ctx) => !ctx.content && ctx.options)({\n  content: (node, ctx) => [{\n    elem: 'field',\n    attrs: ctx.fieldAttrs,\n    content: ctx.options.map((option) => [{\n      tag: 'option',\n      content: option.content,\n      attrs: {\n        selected: option.selected ? true : undefined,\n        value: option.value,\n      },\n    }]),\n  }],\n});\n\nblock('select')({\n  extend: (node, ctx) => ({fieldName: ctx.fieldName || node.generateId()}),\n});\n\n// (form/field)-group related stuff\nblock('select').match(\n    (node) => Array.isArray(node._fieldParents) && node._fieldParents.length)({\n  addMix: (node) => ({\n    block: node._fieldParents[node._fieldParents.length - 1],\n    elem: 'field',\n  }),\n});\n\n\n// block('signup-popup')({tag: 'form'});\nblock('signup-popup').elem('hr')({tag: 'hr'});\nblock('signup-popup').elem('explanation-text')({tag: 'span'});\n\nblock('sm-icons-list').elem('icon-bg')({'tag': 'a'});\nblock('sm-icons-list').elem('icon')({'tag': 'i'});\n\nblock('sm-icons-list').elem('icon-bg').match((node, ctx) => ctx.href)({\n    addAttrs: (node, ctx) => ({href: ctx.href}),\n});\n\n\n  ;\n;oninit(function(exports, context) {\nvar BEMContext = exports.BEMContext || context.BEMContext;\nBEMContext.prototype.require = function(lib) {\nreturn this._libs[lib];\n};\n});\n;});\nexports = api.exportApply(exports);\nif (libs) exports.BEMContext.prototype._libs = libs;\nreturn exports;\n};\n\nvar glob = this.window || this.global || this;\nvar exp = typeof exports !== \"undefined\" ? exports : global;\nif (typeof modules === \"object\") {\n\n\n\nmodules.define(\"bemtree\",[],function(provide) { var engine = buildBemXjst({});provide(engine);});\n} else {\nvar _libs = {};\n\n\nif (Object.keys(_libs).length) {\nbemtree = buildBemXjst(_libs);\nexp[\"bemtree\"] = bemtree;\nexp[\"bemtree\"].libs = _libs;\n} else {\nbemtree= buildBemXjst(glob);\nexp[\"bemtree\"] = bemtree;exp[\"bemtree\"].libs = glob;\n}\n}\n})(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : this);\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport AuthorsView from '../views/authors-view.js';\nimport Author from '../models/author.js';\n\n/**\n * @class AuthorsController\n */\nexport default class AuthorsController extends Controller {\n  /**\n   * Construct obj AuthorsController\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.model = new Author();\n    this.view = new AuthorsView(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    this.model.getAuthors().then(\n        (data) => {\n          this.view.render(data);\n        },\n        (error) => console.log(error)); // TODO show 5** err mb\n  }\n};\n","'use strict';\n\n// import NotificationController from '../controllers/notification-controller.js';\nimport GAME_MODES from '../game/mods.js';\nimport Game from '../game/game.js';\nimport GameView from '../views/game-view.js';\nimport Controller from '../core/controller.js';\nimport bus from '../event-bus.js';\n\n/**\n * The main class GameController\n */\nexport default class GameController extends Controller {\n  /**\n   * Init game object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n    this.view = new GameView(parent);\n    this.game = null;\n    this.bus = bus;\n    // this.notify = NotificationController.Instance;\n\n    this.bus.on('CLOSE_GAME', function() {\n      if (this.active) {\n        this.router.open('/');\n      }\n    }.bind(this));\n  }\n\n  /**\n   * Destructor\n   */\n  destructor() {\n    super.destructor();\n    this.game.destroy();\n  }\n\n  /**\n   * Choose and make action\n   * @param {Object} serverData\n   */\n  static selectAction(serverData) {\n    switch (serverData) {\n      case 'event': {\n        // handel event\n        break;\n      }\n      case 'other event': {\n        // handel other event\n        break;\n      }\n      case 'other event too': {\n        // handel other event too\n        break;\n      }\n\n      default: {\n        // handel default event\n      }\n    }\n  }\n\n  /**\n   * Create game logic\n   */\n  action() {\n    // init event listeners\n    // while WebSocket.connect\n    // while (this.model.run()) {\n    //   const angel = this.model.getAngel();\n    //   this.notify.sendAngel(angel);\n    // }\n    // this.endView.render(this.model.result());\n\n    let mode = '';\n    if (false) { // TODO replace it in future\n      mode = GAME_MODES.ONLINE;\n    } else {\n      mode = GAME_MODES.OFFLINE;\n    }\n\n    this.game = new Game(mode, this.view);\n    this.game.start();\n  }\n}\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport GameMenuView from '../views/game-menu-view.js';\n\n/**\n * @class GameMenuController\n */\nexport default class GameMenuController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new GameMenuView(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    this.view.render();\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport GameOverSinglePage from '../views/game-over-single-view.js';\n\n/**\n * @class GameMenuController\n */\nexport default class GameOverController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n    this.view = new GameOverSinglePage(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    this.view.render();\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport GameOverMultiPage from '../views/game-over-mlt-view.js';\n\n/**\n * @class GameMenuController\n */\nexport default class GameOverMltController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n    this.view = new GameOverMultiPage(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    this.view.render();\n  }\n};","'use strict';\nimport Controller from '../core/controller.js';\nimport UserService from '../models/user-service.js';\nimport LoginView from '../views/login-view.js';\nimport {validateForm, addValidationOnBlur} from '../validation.js';\n\n/**\n * @class LoginController\n */\nexport default class LoginController extends Controller {\n  /**\n   * Create Login Controller object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new LoginView(parent);\n    this.events = [];\n  }\n\n  /**\n   * realize page logic\n   */\n  action() {\n    this.view.render();\n    this._initInputs();\n    addValidationOnBlur();\n    const form = document.getElementById('loginForm');\n    form.addEventListener('submit', this.submitHandler);\n    const cancel = this.view.parent\n        .getElementsByClassName('btn_color_muted')[0];\n    cancel.addEventListener('click', this._clickHandler);\n    this.events.push(\n        {item: form, type: 'submit', handler: this.submitHandler},\n        {item: application, type: 'click', handler: this._clickHandler}\n    );\n  }\n\n  /**\n   * Handel submit event\n   * @param {event} event\n   */\n  submitHandler(event) {\n    event.preventDefault();\n    if (!validateForm(event.target)) {\n      return;\n    }\n    const form = event.target;\n    const name = form.elements['email'].value;\n    const password = form.elements['password'].value;\n\n    const body = {name, password};\n    UserService.sendData(form, body).then((ok) => {\n      if (ok) {\n        window.history.pushState({}, '', '/');\n        window.history.pushState({}, '', '/');\n        window.history.back();\n      } else {\n        console.log('Client error, stay here');\n      }\n    });\n  }\n\n  /**\n   * Initializes show password buttons and maybe other stuff in the future\n   * @private\n   */\n  _initInputs() {\n    const buttons = document.getElementsByClassName('icon_show-pwd');\n    for (const btn of buttons) {\n      btn.onclick = (e) => {\n        const elt = e.target || e.srcElement;\n        const target = document.getElementById(elt.dataset.pwdFor);\n        if (target.type === 'password') {\n          target.setAttribute('type', 'text');\n        } else {\n          target.setAttribute('type', 'password');\n        }\n      };\n    }\n  }\n\n  /**\n   * handle click event\n   * @param {event} event\n   * @return {boolean} ok-status\n   * @private\n   */\n  _clickHandler(event) {\n    const link = event.target.closest('[data-link-type]');\n    return link === null;\n  }\n};\n","'use strict';\nimport Controller from '../core/controller.js';\nimport UserService from '../models/user-service.js';\nimport MenuView from '../views/menu-view.js';\n\n/**\n * @class LogoutController\n */\nexport default class LogoutController extends Controller {\n  /**\n   * Create Logout Controller object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new MenuView(parent);\n    this.events = [];\n  }\n\n  /**\n   * realize page logic\n   */\n  action() {\n    UserService.singout()\n        .then(() => {\n          window.history.pushState({}, '', '/');\n          window.history.pushState({}, '', '/');\n          window.history.back();\n        });\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport MenuView from '../views/menu-view.js';\nimport UserService from '../models/user-service.js';\n\n/**\n * @class MenuController\n */\nexport default class MenuController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, false);\n    this.user = null;\n    this.view = new MenuView(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    UserService.getData().then(\n        (user) => {\n          this.user = user;\n          this.view.render(this.user);\n        },\n        (error) => {\n          console.log(error);\n        }\n    );\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport PageNotFoundView from '../views/page-not-found-view.js';\n\n/**\n * @class NotFoundController\n */\nexport default class NotFoundController extends Controller {\n  /**\n   * Construct obj AuthorsController\n   * @param {HTMLElement} parent\n   */\n  constructor() {\n    const main = document.getElementById('main');\n    super(main, false);\n    this.view = new PageNotFoundView(main);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    this.view.render();\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport UserService from '../models/user-service.js';\nimport ProfileView from '../views/profile-view.js';\n\n/**\n * @class ProfileController\n */\nexport default class ProfileController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new ProfileView(parent);\n  }\n\n  /**\n   * Create action\n   */\n  action() {\n    const id = this._parseIdFromUrl();\n\n    UserService.getUser(id).then(\n        (data) => {\n          this.view.render(data);\n          this._configureEvents();\n        },\n        () => {\n          window.history.pushState({}, '', '/signin');\n          window.history.pushState({}, '', '/signin');\n          window.history.back();\n        });\n  }\n\n  /**\n  * Add event listeners\n  * @private\n  */\n  _configureEvents() {\n    const btn = document.getElementsByClassName('btn_cancel')[0];\n    if (btn) {\n      const handle = (event) => {\n        event.preventDefault();\n        window.history.pushState({}, '', '/profile/update');\n        window.history.pushState({}, '', '/profile/update');\n        window.history.back();\n      };\n\n      btn.addEventListener('click', handle);\n      this.events.push({item: btn, type: 'click', handler: handle});\n    }\n\n    const backBtn = document.getElementsByClassName('btn_color_muted')[0];\n    if (backBtn) {\n      let handle;\n      if (backBtn.attributes['data-type'].value === 'back') {\n        handle = (event) => {\n          event.preventDefault();\n          window.history.back();\n        };\n      } else {\n        handle = (event) => {\n          event.preventDefault();\n          window.history.pushState({}, '', '/');\n          window.history.pushState({}, '', '/');\n          window.history.back();\n        };\n      }\n\n      backBtn.addEventListener('click', handle);\n      this.events.push({item: backBtn, type: 'click', handler: handle});\n    }\n  }\n\n  /**\n     * Get id from url\n   * @return {undefined}\n   * @private\n   */\n  _parseIdFromUrl() {\n    let id = window.location.search.replace('?', '')\n        .split('&').reduce((param, e) => {\n          const a = e.split('=');\n          param[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n          return param;\n        }, {})['id'];\n    id = id? id: -1;\n\n    return id;\n  }\n};\n","'use strict';\n\nimport Controller from '../core/controller.js';\nimport UserService from '../models/user-service.js';\nimport ScoreboardView from '../views/scoreboard-view.js';\nimport Paginator from '../views/pagination.js';\n\n/**\n * @class ScoreboardController\n */\nexport default class ScoreboardController extends Controller {\n  /**\n   * Construct obj\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new ScoreboardView(parent);\n  }\n  /**\n   * Create action\n   */\n  action() {\n    const page = this._parsePageNumber();\n\n    UserService.getUsers(page).then(\n        (data) => {\n          this.view.render(data);\n          this._configureEvents();\n\n          const paginator = new Paginator(this.parent);\n          paginator.render(data.data.page + 1, data.data.nPages + 1);\n          Paginator.setPaginationLinks(this.events, this._pagesLinkHandler);\n        },\n        (error) => console.log(error)); // TODO show 5** err mb\n  }\n\n  /**\n   * Parse page number from url\n   * @return {string}\n   * @private\n   */\n  _parsePageNumber() {\n    let page = window.location.search.replace('?', '')\n        .split('&').reduce((param, e) => {\n          const a = e.split('=');\n          param[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n          return param;\n        }, {})['page'];\n    page = page? page: 0;\n\n    return page;\n  }\n\n  /**\n   * Add event listeners\n   * @private\n   */\n  _configureEvents() {\n    const profiles = document.getElementsByClassName('scoreboard__link');\n    Array.from(profiles).forEach((link) => {\n      if (Number(link.value) < 1) {\n        return;\n      }\n\n      link.addEventListener('click', this._eventHandler);\n      const event = {item: link, type: 'click', handler: this._eventHandler};\n      this.events.push(event);\n    });\n  }\n\n  /**\n   * Handle click on profile link\n   * @param {Event} event\n   * @private\n   */\n  _eventHandler(event) {\n    event.preventDefault();\n    const path = 'profile?id='\n      + event.target.closest('.scoreboard__link').getAttribute('value');\n\n    window.history.pushState({}, '', path);\n    window.history.pushState({}, '', path);\n    window.history.back();\n  }\n\n  /**\n   * Handler for pagination link's click event\n   * @param {Event} event\n   * @private\n   */\n  _pagesLinkHandler(event) {\n    event.preventDefault();\n    const path = 'leaders?page=' + (event.target.value - 1);\n\n    window.history.pushState({}, '', path);\n    window.history.pushState({}, '', path);\n    window.history.back();\n  }\n};\n","'use strict';\nimport Controller from '../core/controller.js';\nimport UserService from '../models/user-service.js';\nimport SignUpView from '../views/signup-view.js';\nimport {validateForm} from '../validation.js';\nimport {addValidationOnBlur} from '../validation.js';\n\n/**\n * @class SignUpController\n */\nexport default class SignUpController extends Controller {\n  /**\n   * Create SignUp Controller\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new SignUpView(parent);\n    this.events = []; // Array for collecting events\n  }\n  /**\n   * Get data from input form on sign up page\n   * @param {event} event\n   * @return {Object} input form\n   */\n  _getFromSignUp(event) {\n    const form = document.getElementById('signup-form');\n\n    const name = form['signup-form_firstName'].value;\n    const lastName = form['signup-form_lastName'].value;\n    const email = form['signup-form_email'].value;\n    const userName = form['signup-form_username'].value;\n\n    const selectField = document.getElementsByTagName('select');\n    const day = selectField['signup-form_selectDay'].value;\n    const month = selectField['signup-form_selectMonth'].value;\n    const year = selectField['signup-form_selectYear'].value;\n    const date = `${day}-${month}-${year}`;\n\n    const password = form['signup-form_password'].value;\n\n    return {userName, password, name, lastName, email, date};\n  }\n  /**\n   * Call 'sign up' rendering func and add event listeners\n   */\n  action() {\n    this.view.render();\n    const cancel = this.view.parent\n        .getElementsByClassName('btn_color_muted')[0];\n    cancel.addEventListener('click', this._cancelHandler);\n    const form = document.getElementById('signup-form');\n    form.addEventListener('submit', this._submitHandler.bind(this));\n    addValidationOnBlur();\n    this.events.push(\n        {item: form, type: 'submit', handler: this._submitHandler.bind(this)},\n        {item: cancel, type: 'click', handler: this._cancelHandler},\n    );\n  }\n\n  /**\n   * Handel cancel event\n   * @param {event} event\n   */\n  _cancelHandler(event) {\n    event.preventDefault();\n    window.history.pushState({}, '', '/');\n    window.history.pushState({}, '', '/');\n    window.history.back();\n  };\n\n  /**\n   * Handel click on submit event\n   * @param {event} event\n   */\n  _submitHandler(event) {\n    event.preventDefault();\n\n    if (!validateForm(event.target)) {\n      return;\n    }\n    const body = this._getFromSignUp(event);\n    UserService.sendData(event.target, body).then((ok) => {\n      if (ok) {\n        window.history.pushState({}, '', '/');\n        window.history.pushState({}, '', '/');\n        window.history.back();\n      } else {\n        console.log('Client error, stay here');\n      }\n    });\n  }\n};\n","'use strict';\nimport Controller from '../core/controller.js';\nimport UpdateView from '../views/update-view.js';\nimport UserService from '../models/user-service.js';\nimport {validateForm, addValidationOnBlur} from '../validation.js';\nimport {getBase64, initFileInputs} from '../file-input.js';\n\n/**\n * @class UpdateController\n */\nexport default class UpdateController extends Controller {\n  /**\n   * Create UpdateController object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent, true);\n    this.view = new UpdateView(parent);\n    this.user = null;\n    this.events = [];\n  }\n\n  /**\n   * Create logout\n   */\n  action() {\n    UserService.getData().then(\n        (user) => {\n          this.user = user;\n          this.view.render(this.user);\n          addValidationOnBlur();\n          initFileInputs();\n          const cancel = this.view.parent\n              .getElementsByClassName('btn_color_muted')[0];\n          cancel.addEventListener('click', this._cancelHandler);\n          const form = document.getElementById('updateForm');\n          form.addEventListener('submit', this._submitHandler.bind(this));\n          this.events.push(\n              {\n                item: form,\n                type: 'submit',\n                handler: this._submitHandler.bind(this),\n              },\n              {item: cancel, type: 'click', handler: this._cancelHandler},\n          );\n        });\n  }\n\n  /**\n   * Handel click on submit event\n   * @param {event} event\n   */\n  _submitHandler(event) {\n    event.preventDefault();\n    if (!validateForm(event.target)) {\n      return;\n    }\n\n    const body = this._getFromProfileForm(event);\n    getBase64(body.img).then(\n        (result) => {\n          body.img = result;\n          return UserService.updateData(event.target, body, this.user.uid);\n        },\n        () => UserService.updateData(event.target, body, this.user.uid)\n    ).then((ok) => {\n      if (ok) {\n        window.history.pushState({}, '', '/profile');\n        window.history.pushState({}, '', '/profile');\n        window.history.back();\n      } else {\n        console.log('Client error, stay here');\n      }\n    });\n  }\n\n  /**\n   * Handel cancel event\n   * @param {event} event\n   */\n  _cancelHandler(event) {\n    event.preventDefault();\n    window.history.back();\n  }\n\n  /**\n   * get user data from form\n   * @param {event} event\n   * @return {Object} user info object\n   * @private\n   */\n  _getFromProfileForm(event) {\n    const form = event.target;\n    const firstName = form['updateForm_firstName'].value;\n    const lastName = form['updateForm_lastName'].value;\n    const email = form['updateForm_email'].value;\n    const selectField = document.getElementsByTagName('select');\n    const userName = form['updateForm_username'].value;\n    const day = selectField['updateForm_selectDay'].value;\n    const month = selectField['updateForm_selectMonth'].value;\n    const year = selectField['updateForm_selectYear'].value;\n    const gender = selectField['updateForm_selectMale'].value;\n    const date = `${day}-${month}-${year}`;\n    const password = form['updateForm_password'].value;\n    const img = form['updateForm_avatar'].files[0];\n    return {name: firstName, lastName, userName, email,\n      date, gender, password, img};\n  }\n};\n","'use strict';\n\n/**\n * @class Controller\n */\nexport default class Controller {\n  /**\n   * Construct base controller\n   * @param {HTMLElement} parent\n   * @param {boolean} isRequiredOnline does this page require\n   * internet connection\n   */\n  constructor(parent, isRequiredOnline) {\n    this.parent = parent;\n    this.isRequiredOnline = isRequiredOnline;\n    this.events = [];\n  }\n\n  /**\n   * Destruct object\n   */\n  destructor() {\n    while (this.events.length) {\n      const event = this.events.pop();\n      event.item.removeEventListener(event.type, event.handler);\n    }\n    this.parent.innerHTML = '';\n  }\n\n  /**\n   * Do page actions\n   */\n  action() {}\n}\n","'use strict';\n/**\n * @class Model\n */\nexport default class Model {\n  /**\n   * Get model data\n   */\n  getData() {}\n\n  /**\n   * Send user data to the server\n   * @param {HTMLFormElement} form\n   * @param {Object} body\n   */\n  sendData(form, body) {}\n\n  /**\n   * Update user data on the server\n   * @param {HTMLFormElement} form\n   * @param {Object} body\n   * @param {int} userId\n   */\n  updateData(form, body, userId) {}\n};\n","'use strict';\n\nimport NotFoundController from '../controllers/not-found-controller.js';\nimport showMessage from '../views/offline-messagebox.js';\n\n/**\n * @class Router\n */\nexport default class Router {\n  /**\n   *\n   * @param {string} rootPath\n   * @param {HTMLElement} rootElement\n   */\n  constructor(rootPath, rootElement) {\n    this.rootElement = rootElement;\n    this.routes = {};\n    this.currentController = undefined;\n  }\n\n  /**\n   * Add new view to a router\n   * @param {string} url\n   * @param {Controller} controller\n   * @return {Router} this\n   */\n  addRoute(url, controller) {\n    this.routes[url] = controller;\n    return this;\n  }\n\n  /**\n   * Open view\n   * @param {string} url\n   */\n  open(url) {\n    // to make paths like leaders and /leaders similar\n    if (url.startsWith('/') && url.length > 1) {\n      url = url.slice(1);\n    }\n\n    let newController = this.routes[url];\n    if (!newController) {\n      newController = new NotFoundController();\n    }\n    // comment this to work offline\n    if (!navigator.onLine && newController.isRequiredOnline) {\n      if (!this.currentController) {\n        window.history.pushState({}, '', '/');\n        window.history.pushState({}, '', '/');\n        window.history.back();\n      } else {\n        showMessage(this.currentController.parent);\n      }\n      return;\n    }\n    if (this.currentController) {\n      this.currentController.destructor();\n    }\n\n    newController.action();\n    this.currentController = newController;\n  }\n\n  /**\n   * Configure router's listeners\n   */\n  start() {\n    window.addEventListener('popstate', () => {\n      const currentPath = window.location.pathname;\n      this.open(currentPath);\n    });\n\n    this.rootElement.addEventListener('click', (event) => {\n      const link = event.target.closest('[data-link-type]');\n      if (link === null) {\n        return;\n      }\n\n      event.preventDefault();\n\n      window.history.pushState({}, '', link.dataset['linkType']);\n      this.open(link.dataset['linkType']);\n    });\n\n    const currentPath = window.location.pathname;\n    this.open(currentPath);\n  }\n}\n\n","'use strict';\n\n/**\n * @class View\n */\nexport default class View {\n  /**\n   * Constructor to init events array\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    this.parent = parent;\n  }\n\n  /**\n   * Render view\n   */\n  render() {}\n}\n","/**\n * Event bus\n */\nclass Bus {\n  /**\n   * Event bus constructor\n   */\n  constructor() {\n    this.listeners = {};\n  }\n\n  /**\n   * Add event\n   * @param {String} event\n   * @param {Function} listener\n   * @return {Bus}\n   */\n  on(event, listener) {\n    (this.listeners[event] || (this.listeners[event] = [])).push(listener);\n    return this;\n  }\n\n  /**\n   * Remove listener\n   * @param {String} event\n   * @param {Function} listener\n   * @return {Bus}\n   */\n  off(event, listener) {\n    if (listener) {\n      this.listeners[event] = (this.listeners[event] || []).filter(\n          (l) => l !== listener);\n    } else {\n      this.listeners[event] = [];\n    }\n    return this;\n  }\n\n  /**\n   * Produce event\n   * @param {String} event\n   * @param {Object} data\n   * @return {Bus}\n   */\n  emit(event, data) {\n    (this.listeners[event] || (this.listeners[event] = [])).forEach(\n        (l) => l(data));\n    return this;\n  }\n}\n\nconst bus = new Bus();\nexport default bus;\n","'use strict';\n\nconst BLOCK = 'file-input';\n\n/**\n * Show the selected image from users data before sending it to the server\n */\nexport function previewFile() {\n  let preview = document.querySelector('img');\n  let file = document.querySelector('input[type=file]').files[0];\n  let reader = new FileReader();\n  reader.onloadend = function () {\n    preview.src = reader.result;\n  };\n  if (file) {\n    reader.readAsDataURL(file);\n  } else {\n    preview.src = \"\";\n  }\n}\n\n/**\n * Set handler for file inputs changes\n */\nexport function initFileInputs() {\n  const fileInputs = document.getElementsByClassName(BLOCK);\n  for (const inputBlock of fileInputs) {\n    const children = inputBlock.childNodes;\n    let field;\n    let info;\n    for (const child of children) {\n      if (child.classList.contains(`${BLOCK}__field`)) {\n        field = child;\n      } else if (child.classList.contains(`${BLOCK}__info`)) {\n        info = child;\n      }\n    }\n    field.onchange = (e) => {\n      if (e.srcElement.id === 'updateForm_avatar') {\n        previewFile(e.target);\n      };\n      const elt = e.target || e.srcElement;\n      if (elt.files && elt.files.length > 0) {\n        if (elt.files.length === 1) {\n          let fileName = elt.files[0].name;\n          fileName = fileName.length > 20 ?\n              fileName.substr(0, 17) + '...' : fileName;\n          info.textContent = fileName;\n        } else {\n          if (elt.getAttribute('multiple') !== null) {\n            const filesInfoText = elt.files.length % 100 >= 5 &&\n                elt.files.length <= 20 ?\n                    'файлов' : (elt.files.length % 10 === 1 ? 'файл' :\n                    (elt.files.length % 10 <= 4 ? 'файла' : 'файлов'));\n            info.textContent =\n                `${elt.files.length} ${filesInfoText}`;\n          } // else do nothing (?)\n        }\n      }\n    };\n  }\n}\n\n/**\n * Get file in Base64 format\n * @param {File} file\n * @return {Promise<any>}\n */\nexport function getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      let encoded = reader.result.replace(/^data:(.*;base64,)?/, '');\n      if ((encoded.length % 4) > 0) {\n        encoded += '='.repeat(4 - (encoded.length % 4));\n      }\n      resolve(encoded);\n    };\n    reader.onerror = (error) => reject(error);\n  });\n}\n","/**\n * @class GameControllers\n */\nexport default class GameControllers {\n  /**\n   * Constructor\n   */\n  constructor() {\n    this.previous = {};\n    this.keys = [];\n\n    this._onPress = this._keyHandler.bind(this, 'press');\n    this._onUp = this._keyHandler.bind(this, 'up');\n  }\n\n  /**\n   * Начинаем слушать события клавиатуры\n   */\n  start() {\n    document.addEventListener('keydown', this._onPress);\n    document.addEventListener('keyup', this._onUp);\n  }\n\n  /**\n   * Прекращаем слушать события клавиатуры\n   */\n  destroy() {\n    document.removeEventListener('keydown', this._onPress);\n    document.removeEventListener('keyup', this._onUp);\n  }\n\n  /**\n   * Нажата ли клавиша?\n   * @param  {string}  key\n   * @return {boolean}\n   */\n  is(key) {\n    return this.keys[key];\n  }\n\n  /**\n   * Обработчик события\n   * @param  {string} type\n   * @param  {MouseEvent} event\n   */\n  _keyHandler(type, event) {\n    if (event.type.toLowerCase() === 'keydown') {\n      this.keys.push(event.key);\n    }\n  }\n\n  /**\n   * Получить клавиши, нажатые с момента прошлого запроса\n   * @return {*}\n   */\n  diff() {\n    // let allkeys = [];\n    // allkeys.push.apply(allkeys, Object.keys(this.previous));\n    // allkeys.push.apply(allkeys, Object.keys(this.keys));\n    // allkeys = allkeys.map((k) => k.toLowerCase());\n    // // allkeys = allkeys.filter((key, pos, all) => {\n    // //   return all.indexOf(key, pos + 1) === -1;\n    // // });\n    // console.log(allkeys)\n    //\n    // const clicked = allkeys.reduce((res, key) => {\n    //   res[key] = !this.previous[key] && this.keys[key];\n    //   return res;\n    // }, {});\n    //\n    // this.previous = Object.assign({}, this.keys);\n    const newKeys = this.keys;\n    this.keys = [];\n    return newKeys;\n  }\n}\n","import bus from '../../event-bus.js';\nimport events from './events.js';\n\nconst KEYS = {\n  LEFT: ['a', 'A', 'ф', 'Ф', 'ArrowLeft'],\n  RIGHT: ['d', 'D', 'в', 'В', 'ArrowRight'],\n};\n\n/**\n * Base class for all game cores\n */\nexport default class GameCore {\n  /**\n   *\n   * @param controller\n   * @param scene\n   */\n  constructor(controller, scene) {\n    this.controller = controller;\n    this.scene = scene;\n\n    this.onGameStarted = this.onGameStarted.bind(this);\n    this.onGameFinished = this.onGameFinished.bind(this);\n    this.onControllsPressed = this.onControllsPressed.bind(this);\n    this.onGameStateChanged = this.onGameStateChanged.bind(this);\n\n    this.controllersLoopIntervalId = null;\n  }\n\n  /**\n   *\n   */\n  start() {\n    bus.on(events.START_GAME, this.onGameStarted);\n    bus.on(events.FINISH_GAME, this.onGameFinished);\n    bus.on(events.CONTROLS_PRESSED, this.onControllsPressed);\n    bus.on(events.GAME_STATE_CHANGED, this.onGameStateChanged);\n\n    const controller = this.controller;\n    this.controllersLoopIntervalId = setInterval(() => {\n      const actions = controller.diff();\n\n      // if (Object.keys(actions).some((k) => actions[k])) {\n      if (actions.length > 0) {\n        bus.emit(events.CONTROLS_PRESSED, actions);\n      }\n    }, 50);\n  }\n\n  /**\n   *\n   */\n  destroy() {\n    clearInterval(this.controllersLoopIntervalId);\n    bus.off(events.START_GAME, this.onGameStarted);\n    bus.off(events.FINISH_GAME, this.onGameFinished);\n    bus.off(events.CONTROLS_PRESSED, this.onControllsPressed);\n    bus.off(events.GAME_STATE_CHANGED, this.onGameStateChanged);\n\n    this.controller.destroy();\n    this.scene.stop();\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onControllsPressed(evt) {\n    throw new Error('This method must be overridden');\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameStarted(evt) {\n    throw new Error('This method must be overridden');\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameFinished(evt) {\n    throw new Error('This method must be overridden');\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameStateChanged(evt) {\n    throw new Error('This method must be overridden');\n  }\n\n  /**\n   *\n   * @param name\n   * @param data\n   * @return {boolean}\n   * @private\n   */\n  _pressed(name, data) {\n    return KEYS[name].some((k) => data.toLowerCase() === k.toLowerCase());\n  }\n};\n","const EVENTS = {\n  START_GAME: 'START_GAME',\n  FINISH_GAME: 'FINISH_GAME',\n  CONTROLS_PRESSED: 'CONTROLS_PRESSED',\n  GAME_STATE_CHANGED: 'GAME_STATE_CHANGED',\n};\n\nexport default EVENTS;\n","import {CURSOR, MASKS} from './settings.js';\n\nconst sqrt3 = 1.7320508075688772;\n\n/**\n * @class Geometry\n */\nexport default class Geometry {\n  /**\n   * Check collision of hexagon and cursor\n   * @param {Object} hexagon\n   * @param {{x: number, y: number}} cursor\n   * @return {boolean}\n   */\n  static checkHexagonCollision(hexagon, cursor) {\n    const lines = this.convertHexagonToLines(hexagon);\n    let isCollide = false;\n    console.log(hexagon, lines);\n    lines.forEach((line) => {\n      line = this.rotateLine(line.first, line.second, hexagon.angle);\n      console.log(cursor, line.first, line.second);\n      if (this._lineAndCursorCollision(line.first, line.second, cursor)) {\n        isCollide = true;\n      }\n    });\n\n    return isCollide;\n  }\n\n  /**\n   * Convert hexagon object to array of lines\n   * @param {object} hexagon\n   * @return {Array} array of lines\n   */\n  static convertHexagonToLines(hexagon) {\n    const lines = [];\n\n    if (!(hexagon.sides & MASKS.top)) {\n      lines.push({\n        first: {\n          x: -hexagon.side / 2,\n          y: hexagon.side * sqrt3 / 2,\n        },\n        second: {\n          x: hexagon.side / 2,\n          y: hexagon.side * sqrt3 / 2,\n        },\n      });\n    }\n\n    if (!(hexagon.sides & MASKS.topRight)) {\n      lines.push({\n        first: {\n          x: hexagon.side / 2,\n          y: hexagon.side * sqrt3 / 2,\n        },\n        second: {\n          x: hexagon.side,\n          y: 0,\n        },\n      });\n    }\n\n    if (!(hexagon.sides & MASKS.bottomRight)) {\n      lines.push({\n        first: {\n          x: hexagon.side,\n          y: 0,\n        },\n        second: {\n          x: hexagon.side / 2,\n          y: -hexagon.side * sqrt3 / 2,\n        },\n      });\n    }\n\n    if (!(hexagon.sides & MASKS.bottom)) {\n      lines.push({\n        first: {\n          x: hexagon.side / 2,\n          y: -hexagon.side * sqrt3 / 2,\n        },\n        second: {\n          x: -hexagon.side / 2,\n          y: -hexagon.side * sqrt3 / 2,\n        },\n      });\n    }\n\n    if (!(hexagon.sides & MASKS.bottomLeft)) {\n      lines.push({\n        first: {\n          x: -hexagon.side / 2,\n          y: -hexagon.side * sqrt3 / 2,\n        },\n        second: {\n          x: -hexagon.side,\n          y: 0,\n        },\n      });\n    }\n\n    if (!(hexagon.sides & MASKS.topLeft)) {\n      lines.push({\n        first: {\n          x: -hexagon.side,\n          y: 0,\n        },\n        second: {\n          x: -hexagon.side / 2,\n          y: hexagon.side * sqrt3 / 2,\n        },\n      });\n    }\n\n    return lines;\n  }\n\n  /**\n   * Check collision of cursor and line\n   * @param {{x: number, y: number}} dot0\n   * @param {{x: number, y: number}} dot1\n   * @param {{x: number, y: number}} cursor\n   * @return {boolean}\n   * @private\n   */\n  static _lineAndCursorCollision(dot0, dot1, cursor) {\n    const eps = 1e-10;\n    const d0 = {\n      x: dot0.x - cursor.x,\n      y: dot0.y - cursor.y,\n    };\n    const d1 = {\n      x: dot1.x - cursor.x,\n      y: dot1.y - cursor.y,\n    };\n\n    const a = d1.x * d1.x + d1.y * d1.y;\n    const k = d0.x * d1.x + d0.y * d1.y;\n    const c = d0.x * d0.x + d0.y * d0.y - CURSOR.height * CURSOR.height;\n    const disc = k * k - a * c;\n\n    if (disc < 0) {\n      return false;\n    } else if (Math.abs(disc) < eps) {\n      const t = -k / a;\n      return t > -eps && t < 1 + eps;\n    } else {\n      let t1 = (-k + Math.sqrt(disc)) / a;\n      let t2 = (-k - Math.sqrt(disc)) / a;\n      if (t1 > t2) {\n        const t = t1;\n        t1 = t2;\n        t2 = t;\n      }\n\n      return !(t1 >= 0 - eps && t2 <= 1 + eps) && (t2 > eps && t1 < 1 - eps);\n    }\n  }\n\n  /**\n   * Rotate line on angle\n   * @param {{x: number, y: number}} dot0\n   * @param {{x: number, y: number}} dot1\n   * @param {number} angle\n   * @return {{first: *, second: *}}\n   */\n  static rotateLine(dot0, dot1, angle) {\n    dot0 = this.rotateDot(dot0, angle);\n    dot1 = this.rotateDot(dot1, angle);\n    return {\n      first: dot0,\n      second: dot1,\n    };\n  }\n\n  /**\n   * Rotate dot on angle\n   * @param {{x: number, y: number}} dot\n   * @param {number} angle\n   * @return {{x: number, y: number}}\n   */\n  static rotateDot(dot, angle) {\n    const newX = dot.x * Math.cos(angle) - dot.y * Math.sin(angle);\n    dot.y = dot.x * Math.sin(angle) + dot.y * Math.cos(angle);\n    dot.x = newX;\n    return dot;\n  }\n\n  /**\n   * Get coords of cursor center\n   * @param {number} cursorAngle\n   * @return {{x: number, y: number}}\n   */\n  static cursorAngleToDot(cursorAngle) {\n    return {\n      x: CURSOR.radius * Math.cos(cursorAngle),\n      y: CURSOR.radius * Math.sin(cursorAngle),\n    };\n  }\n}\n","import GameCore from './core.js';\nimport Geometry from './geometry.js';\nimport bus from '../../event-bus.js';\nimport events from './events.js';\nimport {HEXAGON, CURSOR} from './settings.js';\n\nconst mask2 = 1;\nconst mask5 = 31;\n\n/**\n * Offline game core class\n */\nexport default class OfflineGame extends GameCore {\n  /**\n   *\n   * @param controller\n   * @param scene\n   */\n  constructor(controller, scene) {\n    super(controller, scene);\n    this.scene = scene;\n    this.state = {};\n    this.gameloop = this.gameloop.bind(this);\n    this.gameloopRequestId = null;\n    this.lastFrame = 0;\n  }\n\n  /**\n   * Start game\n   */\n  start() {\n    super.start();\n    this.state = {\n      hexagons: [],\n      cursorAngle: Math.PI / 2,\n    };\n\n    this.state.hexagons = Array.from(new Array(3), function(_, position) {\n      return {\n        side: 700 + 200 * position,\n        sides: Math.floor(Math.random() * 2) === 1? mask2: mask5,\n        angle: 0, // Math.floor(Math.random() * 2 * Math.PI),\n      };\n    });\n\n    setTimeout(function() {\n      bus.emit(events.START_GAME, this.state);\n    }.bind(this));\n  }\n\n  /**\n   * GameController loop action\n   * @param {number} now\n   */\n  gameloop(now) {\n    const delay = now - this.lastFrame;\n    this.lastFrame = now;\n    this.state.hexagons = this.state.hexagons\n        .map(function(hexagon) {\n          hexagon.side -= HEXAGON.speed * delay;\n          hexagon.angle += 0; // HEXAGON.rotatingSpeed * delay;\n          return hexagon;\n        });\n\n    for (let i = 0; i < this.state.hexagons.length; i++) {\n      if (this.state.hexagons[i].side < HEXAGON.minSize) {\n        const newHexagon = {\n          side: 700,\n          sides: Math.floor(Math.random() * 2) === 1 ? mask2 : mask5,\n          angle: 0, // Math.floor(Math.random() * 2 * Math.PI),\n        };\n        this.state.hexagons[i] = newHexagon;\n      }\n    }\n\n    bus.emit(events.GAME_STATE_CHANGED, this.state);\n\n    const cursor = Geometry.cursorAngleToDot(this.state.cursorAngle);\n\n    for (let i = 0; i < this.state.hexagons.length; i++) {\n      const condition = Geometry.checkHexagonCollision(\n          this.state.hexagons[i], cursor\n      );\n\n      if (condition) {\n        console.log(this.state.hexagons[i], cursor);\n        setTimeout(function() {\n          alert('finish');\n          bus.emit(events.FINISH_GAME);\n        });\n        // return;\n      }\n    }\n\n    this.gameloopRequestId = requestAnimationFrame(this.gameloop);\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onControllsPressed(evt) {\n    evt.forEach((btn) => {\n      if (this._pressed('LEFT', btn)) {\n        this.state.cursorAngle += CURSOR.rotatingSpeed;\n      } else if (this._pressed('RIGHT', btn)) {\n        this.state.cursorAngle -= CURSOR.rotatingSpeed;\n      }\n    });\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameStarted(evt) {\n    this.controller.start();\n    this.scene.render(evt);\n    this.scene.start();\n\n    this.lastFrame = performance.now();\n    this.gameloopRequestId = requestAnimationFrame(this.gameloop);\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameFinished(evt) {\n    cancelAnimationFrame(this.gameloopRequestId);\n    this.scene.stop();\n  }\n\n  /**\n   *\n   * @param evt\n   */\n  onGameStateChanged(evt) {\n    this.scene.update(evt);\n  }\n}\n","export const CURSOR = {\n  radius: 100,\n  height: 15,\n  rotatingSpeed: Math.PI / 20,\n};\n\nexport const HEXAGON = {\n  minSize: 100,\n  width: 10,\n  speed: 0.2,\n  rotatingSpeed: Math.PI / 4000,\n};\n\nexport const MASKS = {\n  top: 1,\n  topRight: 2,\n  bottomRight: 4,\n  bottom: 8,\n  bottomLeft: 16,\n  topLeft: 32,\n};\n","import OfflineGame from './core/offline-core.js';\nimport GameControllers from './controllers.js';\nimport GAME_MODES from './mods.js';\n\n/**\n *\n */\nexport default class Game {\n  /**\n   * GameController class constructor\n   * @param {Object} mode\n   * @param {View} view\n   */\n  constructor(mode, view) {\n    let GameConstructor = null;\n    switch (mode) {\n      case GAME_MODES.ONLINE: {\n        // TODO add online\n        GameConstructor = OfflineGame;\n        break;\n      }\n      case GAME_MODES.OFFLINE: {\n        GameConstructor = OfflineGame;\n        break;\n      }\n      default:\n        throw new Error('Invalid game mode ' + mode);\n    }\n\n    // this.gameScene = new GameScene(canvas); TODO\n    this.gameControllers = new GameControllers();\n    this.gameCore = new GameConstructor(this.gameControllers, view);\n  }\n\n  /**\n   * Start game\n   */\n  start() {\n    this.gameCore.start();\n  }\n\n  /**\n   * GameController destructor\n   */\n  destroy() {\n    this.gameCore.destroy();\n  }\n}\n","const GAME_MODES = {\n  ONLINE: 'ONLINE',\n  OFFLINE: 'OFFLINE',\n};\n\nexport default GAME_MODES;\n","'use strict';\n/**\n * @class UserArrow\n */\nexport default class UserArrow {\n  /**\n   * Construct user arrow element in canvas\n   * @param {Object} ctx\n   * @param {Number} base\n   * @param {Number} height\n   * @param {Number} side\n   * @param {string} color\n   */\n  constructor(ctx, base, height, side, color) {\n    this.ctx = ctx;\n    this.color = color;\n    this.currentAngle = 0;\n    side /= 1.5;\n    this.radius = side + height;\n    this.lineRadius = Math.sqrt(base * base / 4 + side * side);\n    this.alpha = Math.asin(base / 2 / this.lineRadius);\n  }\n\n  /**\n   * Draw arrow\n   * @param {Number} angle - local angle\n   */\n  draw(angle = 0) {\n    this.currentAngle = -angle;\n    const vx = Math.cos(this.currentAngle) * this.radius;\n    const vy = Math.sin(this.currentAngle) * this.radius;\n    const x1 = Math.cos(this.currentAngle + this.alpha) * this.lineRadius;\n    const y1 = Math.sin(this.currentAngle + this.alpha) * this.lineRadius;\n    const x2 = Math.cos(this.currentAngle - this.alpha) * this.lineRadius;\n    const y2 = Math.sin(this.currentAngle - this.alpha) * this.lineRadius;\n    this.ctx.fillStyle = this.color;\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(vx, vy);\n    this.ctx.lineTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.fill();\n  }\n}\n","'use strict';\n\nconst FALL_SPEED = 1;\nconst FALL_SIZE = 5;\n\n/**\n * @class Hexagon\n */\nexport default class Hexagon {\n  /**\n   * Create Hexagon in canvas\n   * @param {Object} ctx\n   * @param {Number} side\n   * @param {Number} lineWidth\n   * @param {Number} emptySides\n   * @param {string} color\n   * @param {Number} angle\n   */\n  constructor(ctx, side, lineWidth, emptySides, color, angle) {\n    this.side = side;\n    this.currentSide = side;\n    this.ctx = ctx;\n    this.sidesMask = emptySides;\n    this.lineWidth = lineWidth;\n    this.currentAngle = angle;\n    this.emptySides = new Array(6);\n    this.color = color;\n    this._parseMask();\n  }\n\n  /**\n   * Set parameters for new hexagon\n   * @param {Number} emptySides\n   * @param {string} color\n   */\n  setNewParameters(emptySides, color) {\n    this.currentSide = this.side;\n    this.sidesMask = emptySides;\n    this.emptySides = [];\n    this.color = color;\n    this._parseMask();\n  }\n\n  /**\n   * Parses mask from server or client to detect blank sides.\n   * @private\n   */\n  _parseMask() {\n    let copyNum = this.sidesMask;\n    for (let i = 0; i < 6 && copyNum; ++i) {\n      this.emptySides[i] = (copyNum & 1);\n      // console.log(copyNum);\n      copyNum >>= 1;\n    }\n  }\n\n  /**\n   * Reduces the sides size\n   */\n  fallDown() {\n    this.currentSide -= FALL_SPEED * FALL_SIZE;\n  }\n\n  /**\n   * Draw hexagon\n   */\n  draw() {\n    if (!this.sidesMask) {\n      this.ctx.beginPath();\n    }\n    this.ctx.lineWidth = this.lineWidth;\n    this.ctx.strokeStyle = this.color;\n    let x = -this.currentSide / 2 * Math.sin(this.currentAngle);\n    let y = this.currentSide / 2 * Math.cos(this.currentAngle);\n    this.ctx.moveTo(x, y);\n    for (let i = 1; i < 7; ++i) {\n      const localAngle = (2 * Math.PI) / 6 * (i - 2) - this.currentAngle;\n\n      x = this.currentSide / 2 * Math.cos(localAngle);\n      y = this.currentSide / 2 * Math.sin(localAngle);\n\n      if (this.emptySides[i - 1] || (i - 2 >= 0 && this.emptySides[i - 1])) {\n        this.ctx.moveTo(x, y);\n      } else {\n        this.ctx.lineTo(x, y);\n      }\n    }\n    this.ctx.restore();\n    if (!this.sidesMask) {\n      this.ctx.closePath();\n    }\n    this.ctx.stroke();\n  }\n}\n","'use strict';\n\nrequire('./bundle.bemhtml.js');\nrequire('./bundle.bemtree.js');\nimport {settings} from './settings/config.js';\nimport createHeader from './views/header.js';\nimport Router from './core/router.js';\nimport MenuController from './controllers/menu-controller.js';\nimport AuthorsController from './controllers/authors-controller.js';\nimport ScoreboardController from './controllers/scoreboard-controller.js';\nimport ProfileController from './controllers/profile-controller.js';\nimport SignUpController from './controllers/signup-controller.js';\nimport LoginController from './controllers/login-controller.js';\nimport LogoutController from './controllers/logout-controller.js';\nimport UpdateController from './controllers/update-controller.js';\nimport GameMenuController from './controllers/game-menu-controller.js';\nimport GameOverController from './controllers/game-over-controller.js';\nimport GameOverMltController from './controllers/game-over-mlt-controller.js';\nimport GameController from './controllers/game-controller.js';\nimport '../css/style.css';\n\nconst application = document.getElementById('application');\ncreateHeader();\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('./sw.js');\n}\n\napplication.insertAdjacentHTML('beforeend', '<div id=\"main\"></div>');\nconst main = document.getElementById('main');\n\nconst router = new Router(settings.home, application)\n    .addRoute('/', new MenuController(main))\n    .addRoute('authors', new AuthorsController(main))\n    .addRoute('leaders', new ScoreboardController(main))\n    .addRoute('profile', new ProfileController(main))\n    .addRoute('signup', new SignUpController(main))\n    .addRoute('signin', new LoginController(main))\n    .addRoute('exit', new LogoutController(main))\n    .addRoute('authors', new AuthorsController(main))\n    .addRoute('profile/update', new UpdateController(main))\n    .addRoute('single', new GameController(main))\n    .addRoute('multi', new GameOverMltController(main))\n    .addRoute('play', new GameMenuController(main));\n\nrouter.start();\n","'use strict';\n\nimport ajax from '../ajax.js';\nimport {settings} from '../settings/config.js';\nimport Model from '../core/model.js';\n\n/**\n * @class Author\n */\nexport default class Author extends Model {\n  /**\n   * Get list of authors\n   * @return {Promise<any | never>}\n   */\n  getAuthors() {\n    return ajax.doGet({path: settings.url + '/authors'}).then((response) => {\n      if (response.status > 499) {\n        alert('Server error');\n        return;\n      }\n\n      return response.json().then((data) => data.data);\n    },\n    (error) => {\n      throw new Error(error);\n    });\n  }\n}\n","'use strict';\n\nimport Model from '../core/model.js';\nimport ajax from '../ajax.js';\nimport {settings} from '../settings/config.js';\nimport {checkResponse} from '../validation.js';\n\n/**\n * @class UserService\n */\nexport default class UserService extends Model {\n  /**\n   * Create user object\n   */\n  constructor() {\n    super();\n    this.user = undefined;\n    this.event = null;\n  }\n  /**\n   * Get users data from server\n   * @return {Promise} promise to get user data\n   */\n  static getData() {\n    if (this.user) {\n      return new Promise((resolve) => {\n        resolve(this.user);\n      });\n    }\n\n    return ajax.doGet({path: settings.url + '/'}).then((response) => {\n      if (response.status > 499) {\n        alert('Server error');\n        return;\n      }\n      return response.json().then((data) => {\n        this.user = data.user;\n        if (this.user !== null) {\n          this.user.isCurrent = true;\n        }\n        return data.user;\n      });\n    },\n    (error) => {\n      return undefined;\n    });\n  }\n\n  /**\n   * Send user data to the server\n   * @param {HTMLFormElement} form\n   * @param {Object} body\n   * @return {Promise}\n   */\n  static sendData(form, body) {\n    // По идее надо бы сделать на каждый урл свой метод\n    let path = '';\n    if (form.id === 'loginForm') {\n      path = '/signin';\n    } else if (form.id === 'signup-form') {\n      path = '/users';\n    } else {\n      path = '/signout';\n    }\n    return ajax.doPost({path: settings.url + path, body})\n        .then((response) => {\n          if (response.status > 499) {\n            alert('Server error');\n            return;\n          }\n\n          return response.json().then((data) => checkResponse(data, form) );\n        });\n  }\n\n  /**\n   * Send user data to the server\n   * @param {HTMLFormElement} form\n   * @param {Object} body\n   * @return {Promise}\n   */\n  static singout() {\n    const path = settings.url + '/signout';\n\n    return ajax.doPost({path: path})\n        .then((response) => {\n          if (response.status > 499) {\n            alert('Server error');\n            return;\n          }\n\n          this.user = undefined;\n          return response.json().then(() => true);\n        });\n  }\n\n  /**\n   * Update user data on the server\n   * @param {HTMLFormElement} form\n   * @param {Object} body\n   * @param {int} userId\n   * @return {Promise}\n   */\n  static updateData(form, body, userId) {\n    const path = `${settings.url}/users/${userId}`;\n    return ajax.doPut({path: path, body})\n        .then((response) => {\n          if (response.status > 499) {\n            alert('Server error');\n            return;\n          }\n          return response.json().then((data) => {\n            if (checkResponse(data, form)) {\n              this.user = undefined;\n              return true;\n            } else {\n              return false;\n            }\n          });\n        });\n  }\n\n  /**\n   * Get list of users with pagination\n   * @param {string} page\n   * @return {Promise<any | never>}\n   */\n  static getUsers(page) {\n    const url = settings.url + '/users?sort=-highscore&page=' + page;\n\n    return ajax.doGet({path: url}).then(\n        (response) => {\n          if (response.status > 499) {\n            alert('Server error');\n            return;\n          }\n\n          return response.json().then(\n              (data) => {\n                return JSON.parse(JSON.stringify(data));\n              },\n              (error) => {\n                throw new Error(error);\n              });\n        },\n        (error) => {\n          throw new Error(error);\n        }\n    );\n  }\n\n  /**\n   * Get user by id. If id == -1 get current user.\n   * @param {number} id\n   * @return {Promise<any | never>}\n   */\n  static getUser(id) {\n    if (id !== -1) {\n      const path = settings.url + '/users/' + id;\n\n      return ajax.doGet({path}).then((response) => {\n        if (response.status > 499) {\n          alert('Server error');\n          return;\n        }\n\n        return response.json().then((data) => {\n          data.data.isCurrent = !data.user === null\n              && data.data.uid === data.user.uid;\n          return data.data;\n        },\n        (error) => {\n          throw new Error(error);\n        });\n      });\n    } else {\n      if (this.user) {\n        return new Promise((resolve) => {\n          resolve(this.user);\n        });\n      }\n\n      return ajax.doGet({path: settings.url + '/'}).then((response) => {\n        if (response.status > 499) {\n          alert('Server error');\n          return;\n        }\n\n        return response.json().then((data) => {\n          data.user.isCurrent = true;\n          this.user = data.user;\n          return data.user;\n        },\n        (error) => {\n          throw new Error(error);\n        });\n      });\n    }\n  }\n};\n","import {settings} from './settings/config.js';\n\n/**\n * Transform json of user to readable format\n * @param {Object} user\n * @return {Object} user json\n */\nexport function parseUser(user) {\n  const genderToStr = {\n    male: 'Мужской',\n    female: 'Женский',\n    other: 'Другой',\n    null: '',\n  };\n\n  const {email, username: nickname, uid: id} = user;\n  let {firstName, lastName, gender, birthDate: date, img} = user;\n\n  firstName = firstName !== null ? firstName : '';\n  lastName = lastName !== null ? lastName : '';\n  gender = gender !== null ? genderToStr[gender] : '';\n  date = date !== null ? date.split('-').join('.') : '';\n\n  return {\n    firstName, lastName, gender, date, email, nickname, id,\n    img: settings.imgPath + img,\n  };\n}\n","export const settings = {\n  home: 'http://127.0.0.1:8080',\n  url: 'http://127.0.0.1:3000',\n  imgPath: '/img/',\n};\n","export const serverErrors = {\n  'E_DATE_OUT_OF_RANGE': 'Некорректная дата',\n  'E_INVALID_DATE_FORMAT': 'Некорректная дата',\n  'E_INVALID_BASE64': 'Некорректный файл',\n  'E_EMAIL_DOES_NOT_EXIST': 'Неверный email',\n  'E_INVALID_CREDENTIALS': 'Неверный email или пароль',\n  'E_EMAIL_DOMAIN_DOES_NOT_EXIST': 'Некорректный email',\n  'E_TOO_LONG': 'Введенное значение слишком длинное',\n  'E_TOO_SHORT': 'Введенное значение слишком короткое',\n  'E_DUPLICATE_NOT_ALLOWED': 'Это значение уже занято',\n};\n","import {serverErrors} from './settings/server-errors.js';\n\n/**\n * Check if input is valid\n * @param {HTMLInputElement} input\n * @return {Array} array of errors\n */\nfunction validate(input) {\n  if (input.value === '') {\n    if (input.required) {\n      return ['Заполните это поле'];\n    }\n    return [];\n  }\n  let errors = [];\n\n  switch (input.attributes['checktype'].value) {\n    case 'password':\n      errors = validatePassword(input);\n      break;\n    case 'repeatPassword':\n      errors = validateRepeatPassword(input);\n      break;\n    case 'email':\n      errors = validateEmail(input);\n      break;\n    case 'name':\n      errors = validateName(input);\n      break;\n    case 'lastName':\n      errors = validateLastName(input);\n      break;\n    case 'username':\n      errors = validateUserName(input);\n  }\n\n  return errors;\n}\n\n/**\n * Add help-text with error after input\n * @param {HTMLInputElement}input\n * @param {Array}errMsgs\n */\nfunction addErrors(input, errMsgs) {\n  if (errMsgs.length !== 0) {\n    const msg = errMsgs.join('<br>');\n    const helpText = document.getElementById('help_' + input.name);\n    helpText.innerHTML = msg;\n    helpText.classList.remove('form-group__help-text_hidden');\n    helpText.classList.add('form-group__help-text_type_error');\n  }\n}\n\n/**\n * Hide error under the input\n * @param {HTMLInputElement}input\n */\nfunction clearErrors(input) {\n  const helpText = document.getElementById('help_' + input.name);\n  helpText.classList.remove('form-group__help-text_type_error');\n  helpText.classList.add('form-group__help-text_hidden');\n  helpText.innerHTML = '';\n}\n\n/**\n * Validate password\n * @param {HTMLInputElement}input input block\n * @return {Array} array of error messages\n */\nfunction validatePassword(input) {\n  const errors = [];\n\n  if (input.value.length < 8) {\n    errors.push('Пароль должен содержать не менее 8 символов');\n  }\n  if (!/[0-9]/.test(input.value)) {\n    errors.push('Пароль должен содержать цифры');\n  }\n  if (!/[A-z]/.test(input.value)) {\n    errors.push('Пароль должен содержать латинские буквы');\n  }\n  if (!/^[\\w\\dA-z]+$/.test(input.value)) {\n    errors.push('Пароль должен состоять из цифр и латинских букв');\n  }\n\n  return errors;\n}\n\n/**\n * Validate passport repeat field\n * @param {HTMLInputElement}input\n * @return {Array} array of serverErrors\n */\nfunction validateRepeatPassword(input) {\n  const formId = input.id.split('_')[0];\n  const password = document.getElementById(formId + '_password');\n  if (input.value !== password.value) {\n    return ['Введенное значение не совпадает с паролем'];\n  }\n  return [];\n}\n\n/**\n * Validate email\n * @param {HTMLInputElement}input input block\n * @return {Array} array of error messages\n */\nfunction validateEmail(input) {\n  const errors = [];\n  const emailReg = RegExp('^(([^<>()\\\\[\\\\]\\\\\\\\.,;:\\\\s@\"]+(\\\\.[^<>()\\\\' +\n    '[\\\\]\\\\\\\\.,;:\\\\s@\"]+)*)|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}' +\n    '\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$');\n  if (!emailReg.test(input.value)) {\n    errors.push('Введите корректный email-адрес');\n  }\n  if (input.value.length > 256) {\n    errors.push('Длина не должна превышать 256 символов');\n  }\n\n  return errors;\n}\n\n/**\n * Validate name\n * @param {HTMLInputElement}input input block\n * @return {Array} array of error messages\n */\nfunction validateName(input) {\n  const errors = [];\n\n  if (!/^[A-ZА-ЯЁ]/.test(input.value)) {\n    errors.push('Имя должно начинаться с заглавной буквы');\n  }\n  if (input.value.length > 32) {\n    errors.push('Длина не должна превышать 32 символа');\n  }\n\n  return errors;\n}\n\n/**\n * Validate last name\n * @param {HTMLInputElement}input input block\n * @return {Array} array of error messages\n */\nfunction validateLastName(input) {\n  const errors = [];\n\n  if (!/^[A-ZА-ЯЁ]/.test(input.value)) {\n    errors.push('Фамилия должна начинаться с заглавной буквы');\n  }\n  if (input.value.length > 32) {\n    errors.push('Длина не должна превышать 32 символа');\n  }\n\n  return errors;\n}\n\n/**\n * Validate last name\n * @param {HTMLInputElement}input input block\n * @return {Array} array of error messages\n */\nfunction validateUserName(input) {\n  const errors = [];\n\n  if (!/^[A-Za-z0-9]+$/.test(input.value)) {\n    errors.push('Username может содержать только цифры и латинские буквы');\n  }\n  if (input.value.length > 32) {\n    errors.push('Длина не должна превышать 32 символа');\n  }\n\n  return errors;\n}\n\n/**\n * Add validation on blur event for every input on page\n */\nexport function addValidationOnBlur() {\n  const inputs = document.getElementsByTagName('input');\n  for (let i = 0; i < inputs.length; i++) {\n    if (!inputs[i].attributes['checkable']) {\n      continue;\n    }\n\n    inputs[i].onblur = function() {\n      const errMsgs = validate(this);\n      addErrors(this, errMsgs);\n    };\n\n    inputs[i].onfocus = function() {\n      clearErrors(this);\n    };\n  }\n}\n\n/**\n * Validate form\n * @param {HTMLFormElement}form form to validate\n * @return {boolean} true if form is okay\n */\nexport function validateForm(form) {\n  const inputs = form.getElementsByTagName('input');\n  let isOk = true;\n\n  for (const input of inputs) {\n    const expectedId = form.id + '_' + input.name;\n    if (!input.attributes['checkable'] || input.id !== expectedId) {\n      continue;\n    }\n\n    clearErrors(input);\n    const errMsgs = validate(input);\n    if (errMsgs.length > 0) {\n      addErrors(input, errMsgs);\n      isOk = false;\n    }\n  }\n\n  return isOk;\n}\n\n/**\n * Check server response and add errors to help-texts\n * @param {XMLHttpRequestResponseType} response\n * @param {HTMLFormElement} form\n * @return {boolean}\n */\nexport function checkResponse(response, form) {\n  if (response.status === 'ok') {\n    return true;\n  }\n\n  const fields = response.data.fields;\n  if (fields.password !== undefined && fields.password.errors) {\n    const errors = [];\n    fields.password.errors.forEach((error) => {\n      errors.push(serverErrors[error]);\n    });\n    if (errors) {\n      addErrors(form['password'], errors);\n    }\n  }\n\n  if (fields.username !== undefined && fields.username.errors) {\n    const errors = [];\n    fields.username.errors.forEach((error) => {\n      errors.push(serverErrors[error]);\n    });\n    addErrors(form['username'], errors);\n  }\n\n  if (fields.name !== undefined && fields.name.errors) {\n    const errors = [];\n    fields.name.errors.forEach((error) => {\n      errors.push(serverErrors[error]);\n    });\n    addErrors(form['email'], errors);\n  }\n\n  if (fields.email !== undefined && fields.email.errors) {\n    const errors = [];\n    fields.email.errors.forEach((error) => {\n      errors.push(serverErrors[error]);\n    });\n    addErrors(form['email'], errors);\n  }\n\n  return false;\n}\n","import {settings} from '../settings/config.js';\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class AuthorsView\n */\nexport default class AuthorsView extends View {\n  /**\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n  /**\n   * create Page with Authors\n   * @param {Object} authors Authors JSON, in the format returned by the server\n   */\n  render(authors) {\n    const data = JSON.parse(JSON.stringify(authors));\n    const bemAuthors = [];\n\n    Array.from(data).forEach((author) => {\n      const {name, devInfo, img, description} = author;\n      bemAuthors.push({\n        name, devInfo,\n        img: settings.imgPath + img, description,\n      });\n    });\n\n    const draw = [\n      {\n        block: 'authors',\n        content: [\n          {\n            elem: 'header',\n            content: 'Проект разработали',\n          },\n          {\n            block: 'icon',\n            tag: 'a',\n            wrappedInside: 'authors',\n            wrappedAs: 'close-popup',\n            mods: {\n              size: 'large',\n              color: 'black',\n              btn: true,\n              type: 'cross',\n            },\n            attrs: {\n              'data-link-type': '/',\n            },\n          },\n          {\n            elem: 'items',\n            authors: bemAuthors,\n          },\n        ],\n      },\n    ];\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n  }\n}\n","'use strict';\n\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class GameMenuView\n */\nexport default class GameMenuView extends View {\n  /**\n   *\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n  /**\n   * create game menu page\n   */\n  render() {\n    const template = [\n      {\n        block: 'menu',\n        content: [\n          {\n            elem: 'items',\n            points: [\n              {\n                href: 'single',\n                text: 'Синглплеер',\n                type: 'gamepad',\n              },\n              {\n                href: 'multi',\n                text: 'Мультиплеер',\n                type: 'users',\n              },\n              {\n                href: '/',\n                text: 'Главное меню',\n                type: 'back',\n              },\n            ],\n          },\n        ],\n      },\n    ];\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n}\n","'use strict';\n\nimport View from '../core/view.js';\n\n/**\n * @class GameOverMultiClass\n */\nexport default class GameOverMultiClass extends View {\n  /**\n   * Construct game over page\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * render page\n   */\n  render() {\n    const template = [\n      {\n        block: 'game-over',\n        mods: {multi: true},\n        content: [\n          {\n            elem: 'title',\n            wrappedInside: 'game-over-popup',\n            content: ['Результаты'],\n          },\n          {\n            elem: 'column',\n            content: [\n              {\n                block: 'game-info',\n                content: [\n                  {\n                    elem: 'avatar',\n                    attrs: {src: '/images/user.png'},\n                  },\n                  {\n                    elem: 'nickname',\n                    content: ['USER1'],\n                  },\n                  {\n                    elem: 'item',\n                    value: '10:50',\n                  },\n                  {\n                    elem: 'line',\n                  },\n                  {\n                    elem: 'item',\n                    value: '6,72',\n                  },\n                  {\n                    elem: 'line',\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            elem: 'column',\n            mods: {'top': true},\n            content: [{\n              block: 'result-time',\n              title: 'Время',\n              content: [\n                {\n                  elem: 'seconds',\n                  content: ['64:45'],\n                },\n                {\n                  elem: 'title',\n                  content: ['Время'],\n                },\n              ],\n            },\n            {\n              block: 'game-info',\n              mods: {main: true},\n              content: [\n                {\n                  mix: {'block': 'game-info_main_title'},\n                  elem: 'item',\n                  name: 'Лучшее время',\n                },\n                {\n                  elem: 'item',\n                  name: 'Начисленные очки',\n                },\n              ],\n            }],\n          },\n          {\n            elem: 'column',\n            content: [\n              {\n                block: 'game-info',\n                content: [\n                  {\n                    elem: 'avatar',\n                    attrs: {src: '/images/user.png'},\n                  },\n                  {\n                    elem: 'nickname',\n                    content: ['USER2'],\n                  },\n                  {\n                    elem: 'item',\n                    value: '11:50',\n                  },\n                  {\n                    elem: 'line',\n                  },\n                  {\n                    elem: 'item',\n                    value: '6,72',\n                  },\n                  {\n                    elem: 'line',\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            block: 'game-msg',\n            mods: {'center': true},\n            content: ['ВЫ ПРОИГРАЛИ'],\n          },\n          {\n            block: 'result-redirect',\n            content: [\n              {\n                elem: 'btn',\n                mods: {'center': true},\n                btnText: 'СЫГРАТЬ ЕЩЕ РАЗ',\n              },\n              {\n                elem: 'center',\n                content: {\n                  elem: 'link',\n                  attrs: {'href': '#', 'data-link-type': '/'},\n                  content: 'Выйти в главное меню',\n                },\n              },\n            ],\n          },\n        ],\n      },\n    ];\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n};\n","'use strict';\n\nimport View from '../core/view.js';\n\n/**\n * @class GameOverSingleClass\n */\nexport default class GameOverSingleClass extends View {\n  /**\n   * Construct game over page\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * render page\n   */\n  render() {\n\n    const template = [\n      {\n        block: 'game-over',\n        content: [\n          {\n            elem: 'title',\n            wrappedInside: 'game-over-popup',\n            content: ['Результаты'],\n          },\n          {\n            block: 'result-time',\n            title: 'Время',\n            content: [\n              {\n                elem: 'title',\n                content: ['Время'],\n              },\n              {\n                elem: 'seconds',\n                content: ['64:45'],\n              },\n            ],\n          },\n          {\n            block: 'game-info',\n            mods: {'single': true},\n            content: [\n              {\n                elem: 'item',\n                name: 'Лучшее время',\n                value: '10:50',\n              },\n              {\n                elem: 'line',\n              },\n              {\n                elem: 'item',\n                name: 'Счет',\n                value: '6,72',\n              },\n              {\n                elem: 'line',\n              },\n            ],\n          },\n          {\n            block: 'game-msg',\n            mods: {'center': true},\n            content: ['Новый рекорд!']\n          },\n          {\n            block: 'result-redirect',\n            content: [\n              {\n                elem: 'btn',\n                mods: {'center': true},\n                btnText: 'СЫГРАТЬ ЕЩЕ РАЗ',\n              },\n              {\n                elem: 'center',\n                content: {\n                  elem: 'link',\n                  attrs: {'href': '#', 'data-link-type': '/'},\n                  content: 'Выйти в главное меню',\n                },\n              },\n            ],\n          },\n        ],\n      },\n    ];\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n};\n","'use strict';\n\nimport View from '../core/view.js';\nimport Hexagon from '../graphics/hexagon.js';\nimport UserArrow from '../graphics/arrow.js';\nimport {CURSOR} from '../game/core/settings.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\nconst MIN_SIZE = 100;\nconst color = '#ff4d00';\n\n/**\n * @class GameView\n */\nexport default class GameView extends View {\n  /**\n   * @param {HTMLElement}parent\n   */\n  constructor(parent) {\n    super(parent);\n    this.lastFrameTime = 0;\n  }\n\n  /**\n   * Render GameController\n   * @param {Object} state with info about hexagons\n   */\n  render(state) {\n    const localData = {seconds: '12:38', score: 36, record: '38:09'};\n    const draw = [\n      {\n        block: 'game',\n        mods: {main: true},\n        content: [\n          {\n            block: 'current',\n            content: [\n              {\n                elem: 'item',\n                name: 'Время',\n                value: localData.seconds,\n              },\n              {\n                elem: 'item',\n                name: 'Счет',\n                value: localData.score,\n              },\n              {\n                elem: 'item',\n                name: 'Рекорд',\n                value: localData.record,\n              },\n            ],\n          },\n          {\n            block: 'hexagons',\n            attrs: {\n              id: 'game-canvas',\n              width: 1000,\n              height: 800,\n            },\n          },\n        ],\n      },\n    ];\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n\n    // this.canvas = document.createElement('canvas');\n    this.canvas = document.getElementById('game-canvas');\n    // this.canvas.width = 800;\n    // this.canvas.height = 600;\n\n    // document.body.appendChild(this.canvas); // добавляем canvas в DOM\n    // console.log(this.canvas);\n    this.ctx = this.canvas.getContext('2d');\n\n    this.hexagons = []; // new Hexagon(this.ctx, 600, 10, 9, '#ff4d00');\n    state.hexagons.forEach((hexagon) => {\n      this.hexagons.push(\n          new Hexagon(this.ctx, hexagon.side, 10,\n              hexagon.sides, color, hexagon.angle)\n      );\n    });\n    this.arrow = new UserArrow(\n        this.ctx, 20, CURSOR.height, CURSOR.radius, '#fff'\n    );\n    this.baseHex = new Hexagon(this.ctx, 100, 10, 0, color, 0);\n  }\n\n  /**\n   * Render new scene\n   * @param {number} now\n   */\n  renderScene(now) {\n    const delay = now - this.lastFrameTime; // use for time mb\n    this.lastFrameTime = now;\n    this.ctx.fillStyle = '#000';\n    this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.translate(this.canvas.width / 2, this.canvas.height / 2);\n    this.hexagons.forEach((hexagon) => {\n      hexagon.draw();\n    });\n    this.baseHex.draw();\n    this.arrow.draw(this.cursorAngle);\n    this.ctx.translate(-this.canvas.width / 2, -this.canvas.height / 2);\n\n    this.requestFrameId = requestAnimationFrame(this.renderScene.bind(this));\n  }\n\n  /**\n   * Update state\n   * @param {Object} state\n   */\n  update(state) {\n    this.hexagons = [];\n    state.hexagons.forEach((hexagon) => {\n      this.hexagons.push(\n          new Hexagon(this.ctx, hexagon.side, 10,\n              hexagon.sides, color, hexagon.angle)\n      );\n    });\n\n    this.cursorAngle = state.cursorAngle;\n    this.arrow.currentAngle = state.cursorAngle;\n    // если не заработает\n    // this.arrow = new UserArrow(this.ctx, 50, 50, 90, '#fff');\n  }\n\n  /**\n   * Rotate all canvas\n   * @param {Number} direction, value: 1 or -1\n   * @private\n   */\n  _rotate(direction) {\n    // TODO: can be more properly cleaned. added to the to-do list\n    ctx.clearRect(-100, -100, this.canvas.width * 1.5, this.canvas.height * 2);\n    ctx.translate(this.canvas.width / 2, this.canvas.height / 2);\n    this.baseHex.draw();\n    this.arrow.draw(0);\n    if (this.hexagon.currentSide >= MIN_SIZE) {\n      this.hexagon.draw();\n    } else {\n      this.hexagon.setNewParameters(0, '#ff4d00');\n    }\n    ctx.rotate(Math.PI / 180 * 2);\n    ctx.translate(-this.canvas.width / 2, -this.canvas.height / 2);\n  }\n\n  /**\n   *\n   */\n  start() {\n    this.lastFrameTime = performance.now();\n    this.requestFrameId = requestAnimationFrame(this.renderScene.bind(this));\n  }\n\n  /**\n   *\n   */\n  stop() {\n    if (this.requestFrameId) {\n      window.cancelAnimationFrame(this.requestFrameId);\n      this.requestFrameId = null;\n    }\n\n    // this.scene.clear(); TODO\n  }\n}\n","const bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * Create page header\n */\nexport default function createHeader() {\n  const header = {\n    block: 'header',\n    mods: {'main': true},\n    content: [\n      {\n        block: 'icon',\n        mods: {color: 'white', size: 'header-fit', type: 'hexagon'},\n      },\n      {\n        elem: 'title',\n        tag: 'a',\n        attrs: {'data-link-type': '/'},\n        content: ['HEXAGON'],\n      },\n    ],\n  };\n\n  const application = document.getElementById('application');\n  application.insertAdjacentHTML('beforeend', '<div class=\"header\"></div>');\n  const headerDiv = document.getElementsByClassName('header')[0];\n  headerDiv.insertAdjacentHTML('beforeend', bemhtml.apply(header));\n}\n","'use strict';\nimport View from '../core/view.js';\nimport template from './views-templates/login-template.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class LoginView\n */\nexport default class LoginView extends View {\n  /**\n   *\n   * @param {HTMLElement}parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * Render Login page\n   */\n  render() {\n    const draw = template();\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n  }\n}\n","'use strict';\n\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\nconst authedTemplate = [\n  {\n    href: 'play',\n    text: 'Играть',\n    type: 'gamepad',\n  },\n  {\n    href: 'profile',\n    text: 'Профиль',\n    type: 'user',\n  },\n  {\n    href: 'leaders',\n    text: 'Лидеры',\n    type: 'crown',\n  },\n  {\n    href: 'authors',\n    text: 'Авторы',\n    type: 'users',\n  },\n  {\n    href: 'exit',\n    text: 'Выйти',\n    type: 'signout',\n  },\n];\n\nconst unauthedTemplate = [\n  {\n    href: 'single',\n    text: 'Играть',\n    type: 'gamepad',\n  },\n  {\n    href: 'signin',\n    text: 'Авторизация',\n    type: 'signin',\n  },\n  {\n    href: 'signup',\n    text: 'Регистрация',\n    type: 'key',\n  },\n  {\n    href: 'leaders',\n    text: 'Лидеры',\n    type: 'crown',\n  },\n  {\n    href: 'authors',\n    text: 'Авторы',\n    type: 'users',\n  },\n];\n\n/**\n * @class MenuView\n */\nexport default class MenuView extends View {\n  /**\n   *\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n  /**\n   * create Menu page\n   * @param {JSON} user data\n   */\n  render(user) {\n    if (!user) {\n      this.menuPageDrawer(unauthedTemplate);\n    } else {\n      this.menuPageDrawer(authedTemplate);\n    }\n  }\n\n  /**\n   * Get function to render menu with current data\n   * @param {Array} data array of menu points\n   */\n  menuPageDrawer(data) {\n    const template = [\n      {\n        block: 'menu',\n        content: [\n          {\n            elem: 'items',\n            points: data,\n          },\n        ],\n      }];\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n}\n","'use strict';\n\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * Render message about using online feature without internet\n * @param {HTMLElement} parent\n */\nexport default function showMessage(parent) {\n  const template = [\n    {\n      block: 'offline-msg',\n      content: {\n        elem: 'window',\n        content: [\n          {\n            elem: 'text',\n            content: 'Мы не можем сделать для вас это ' +\n              'без интернет-соединения :С',\n          },\n          {\n            elem: 'btn',\n            attrs: {'href': '#'},\n            tag: 'a',\n            content: 'Назад',\n          },\n        ],\n      },\n    },\n  ];\n\n  parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n\n  const btn = parent.getElementsByClassName('offline-msg__btn')[0];\n  btn.onclick = () => {\n    const offlineMsg = parent.getElementsByClassName('offline-msg')[0];\n    parent.removeChild(offlineMsg);\n    window.history.back();\n  };\n}\n","'use strict';\n\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class PageNotFoundView\n */\nexport default class PageNotFoundView extends View {\n  /**\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n  /**\n   * create Page with Authors\n   */\n  render() {\n    const draw = [\n      {\n        block: 'not-found-page',\n        content: [\n          {\n            elem: 'text',\n            elemMods: {main: true},\n            content: 'Oops, we have lost this page :C',\n          },\n          {\n            elem: 'text',\n            elemMods: {additional: true},\n            content: 'or you typed something wrong C:',\n          },\n          {\n            elem: 'link',\n            attrs: {'href': '#', 'data-link-type': '/'},\n            content: 'But you can go to our main page!',\n          },\n        ],\n      },\n    ];\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n  }\n}\n","const bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class Paginator\n */\nexport default class Paginator {\n  /**\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    this.parent = parent;\n  }\n\n  /**\n   * Get array of the pages, which are showed in pagination\n   * @param {int} currPage number of the current page\n   * @param {int} pagesNumber number of he pages\n   * @return {Array} array of elements of pagination\n   * @private\n   */\n  _getNumeration(currPage, pagesNumber) {\n    const numbers = [\n      {content: 'Назад', attrs: {value: currPage - 1}},\n      {content: 1, attrs: {value: 1}},\n    ];\n    if (pagesNumber >= 2) {\n      numbers.push({content: 2, attrs: {value: 2}});\n    }\n    if (currPage > 5) {\n      numbers.push({content: '...', attrs: {value: 1}});\n    }\n\n    for (let i = currPage - 2; i <= currPage + 2 && i <= pagesNumber; i++) {\n      if (i > 2) {\n        numbers.push({content: i, attrs: {value: i}});\n      }\n    }\n\n    if (currPage + 2 < pagesNumber - 2) {\n      numbers.push(\n          {content: '...', attrs: {value: 1}},\n          {content: pagesNumber - 1, attrs: {value: pagesNumber - 1}},\n          {content: pagesNumber, attrs: {value: pagesNumber}},\n      );\n    } else if (currPage + 2 < pagesNumber - 1) {\n      numbers.push(\n          {content: pagesNumber - 1, attrs: {value: pagesNumber - 1}},\n          {content: pagesNumber, attrs: {value: pagesNumber}},\n      );\n    } else if (currPage + 2 < pagesNumber) {\n      numbers.push(\n          {content: pagesNumber, attrs: {value: pagesNumber}},\n      );\n    }\n    numbers.push(\n        {\n          content: 'Вперед',\n          attrs: {value: currPage < pagesNumber ? currPage + 1 : -1},\n        },\n    );\n\n    return numbers;\n  }\n\n  /**\n   * Create pagination\n   * @param {int} currPage number of the current page\n   * @param {int} pagesNumber number of he pages\n   */\n  render(currPage, pagesNumber) {\n    const template = [\n      {\n        block: 'pagination',\n        content: [],\n      },\n    ];\n\n    const numbers = this._getNumeration(currPage, pagesNumber);\n    numbers.forEach((number) => {\n      number.elem = 'link';\n\n      if (number.attrs.value === currPage || number.attrs.value < 1) {\n        number.elemMods = {current: true};\n      }\n\n      template[0].content.push(number);\n    });\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n\n  /**\n   * Add event listener for each pagination item\n   * @param {Array} events\n   * @param {function} handler\n   */\n  static setPaginationLinks(events, handler) {\n    const pagLinks = document.getElementsByClassName('pagination__link');\n\n    Array.from(pagLinks).forEach((link) => {\n      if (Number(link.value) < 1) {\n        return;\n      }\n\n      link.addEventListener('click', handler);\n      events.push({item: link, type: 'click', handler: handler});\n    });\n  }\n}\n","import {settings} from '../settings/config.js';\nimport {parseUser} from '../parsing.js';\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class ProfileView\n */\nexport default class ProfileView extends View {\n  /**\n   *\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * Render profile view\n   * @param {Object} user\n   */\n  render(user) {\n    const profile = parseUser(user);\n\n    const template = [{\n      block: 'profile-popup',\n      mods: {main: true},\n      title: 'Профиль',\n      img: profile.img.startsWith(settings.imgPath) ?\n              profile.img :\n              settings.imgPath + profile.img,\n      allowEdit: user.isCurrent,\n      info: [\n        ['Никнейм', profile.nickname || profile.username],\n        ['Имя', profile.firstName],\n        ['Фамилия', profile.lastName],\n        ['Email', profile.email],\n        ['Дата рождения', profile.date],\n        ['Пол', profile.gender],\n      ],\n    }];\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(template));\n  }\n}\n","import {settings} from '../settings/config.js';\nimport View from '../core/view.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * Create Score Board page\n * @param {Array}users An Array of personal users data\n */\nexport default class ScoreboardView extends View {\n  /**\n   * Render ScoreBoard\n   * @param {Object} data\n   */\n  render(data) {\n    const bemUsers = [];\n\n    Array.from(data.data.users).forEach((user) => {\n      const {\n        firstName: name, img, username,\n        highScore: score, uid: userId,\n      } = user;\n      bemUsers.push({\n        name, img: settings.imgPath + img,\n        username, score, userId,\n      });\n    });\n\n    const draw = [\n      {\n        block: 'scoreboard',\n        content: [\n          {\n            elem: 'items',\n            scores: bemUsers,\n          },\n        ],\n      },\n    ];\n\n    draw[0].content[0].page = parseInt(data.data.page) || 0;\n\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n  }\n}\n","'use strict';\nimport View from '../core/view.js';\nimport template from './views-templates/signup-template.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class SigUpView\n */\nexport default class SigUpView extends View {\n  /**\n   * Create SignUpView object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * Rendering view\n   */\n  render() {\n    const draw = template();\n    this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n  }\n}\n","'use strict';\nimport View from '../core/view.js';\nimport template from './views-templates/update-template.js';\nconst bemhtml = require('../bundle.bemhtml.js').bemhtml;\n\n/**\n * @class SigUpView\n */\nexport default class UpdateView extends View {\n  /**\n   * Create SignUpView object\n   * @param {HTMLElement} parent\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * Render Update page\n   * @param {Object} user\n   * @return {boolean} - status\n   */\n  render(user) {\n    if (user) {\n      const draw = template(user);\n      this.parent.insertAdjacentHTML('beforeend', bemhtml.apply(draw));\n      return true;\n    }\n    return false;\n  }\n};\n","const template = () => [{\n  block: 'login-popup',\n  content: [\n    {\n      block: 'title',\n      wrappedInside: 'login-popup',\n      wrappedAs: 'title',\n      content: 'Вход',\n    },\n    {\n      block: 'icon',\n      tag: 'a',\n      wrappedInside: 'login-popup',\n      wrappedAs: 'close-popup',\n      mods: {\n        size: 'large',\n        color: 'white',\n        btn: true,\n        type: 'cross',\n      },\n      attrs: {\n        'data-link-type': '/',\n      },\n    },\n    {\n      elem: 'content',\n      content: [\n        {\n          block: 'form',\n          attrs: {id: 'loginForm', novalidate: true},\n          name: 'loginForm',\n          mix: {'block': 'login-form'},\n          content: [\n            {\n              block: 'form-group',\n              mods: {size: 'inline'},\n              content: [\n                {\n                  elem: 'title',\n                  elemMods: {align: 'left'},\n                  content: ['Email: '],\n                },\n                {\n                  block: 'form-group',\n                  mods: {size: 'large'},\n                  content: [\n                    {\n                      block: 'input',\n                      wrappedInside: 'login-form',\n                      fieldName: 'email',\n                      fieldAttrs: {\n                        type: 'email',\n                        required: true,\n                        checkable: true,\n                        checkType: 'null',\n                      },\n                    },\n                    {\n                      block: 'form-group',\n                      elem: 'help-text',\n                      elemMods: {hidden: true},\n                      for: 'email',\n                    },\n                  ],\n                },\n                {\n                  elem: 'title',\n                  elemMods: {align: 'left'},\n                  content: ['Пароль: '],\n                },\n                {\n                  block: 'form-group',\n                  mods: {size: 'large'},\n                  content: [\n                    {\n                      block: 'input',\n                      mods: {with: 'icon'},\n                      fieldName: 'password',\n                      wrappedInside: 'login-form',\n                      content: [\n                        {\n                          elem: 'field',\n                          attrs: {\n                            type: 'password',\n                            required: true,\n                            checkable: true,\n                            checkType: 'null',\n                          },\n                        },\n                        {\n                          block: 'icon',\n                          wrappedInside: 'input',\n                          fieldName: 'rememberMeCheck',\n                          mods: {\n                            'show-pwd': true,\n                            'color': 'black',\n                            'btn': true,\n                            'type': 'eye',\n                          },\n                          attrs: {'data-pwd-for': 'loginForm_password'}\n                          ,\n                        },\n                      ],\n                    },\n                    {\n                      block: 'form-group',\n                      elem: 'help-text',\n                      elemMods: {hidden: true},\n                      for: 'password',\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              block: 'form-group',\n              wrappedInside: 'login-form',\n              wrappedAs: 'form-group',\n              mods: {align: 'stretch'},\n              mix: {block: 'login-form', elem: 'double-btn'},\n              content: [\n                {\n                  block: 'btn',\n                  wrappedInside: 'login-form',\n                  wrappedAs: 'sumbit-btn',\n                  fieldName: 'submit',\n                  attrs: {type: 'submit'},\n                  content: [{\n                    elem: 'inner',\n                    content: {\n                      elem: 'text',\n                      content: 'Войти',\n                    },\n                  }],\n                },\n                {\n                  block: 'btn',\n                  mods: {color: 'muted'},\n                  attrs: {'data-link-type': '/', 'role': 'link'},\n                  content: [{\n                    block: 'btn',\n                    elem: 'inner',\n                    content: [{\n                      block: 'btn',\n                      elem: 'text',\n                      elemMods: {'normal': true},\n                      content: 'Назад',\n                    }],\n                  }],\n                },\n              ],\n            },\n          ],\n        },\n        {\n          block: 'hr',\n          wrappedInside: 'login-popup',\n        },\n        {\n          elem: 'signup-link',\n          content: {\n            tag: 'a',\n            href: '#',\n            content: 'Зарегистрироваться',\n            attrs: {'data-link-type': 'signup'},\n          },\n        },\n      ],\n    },\n  ],\n}];\n\nexport default template;\n","const months = [\n  {content: 'Январь', value: 1},\n  {content: 'Февраль', value: 2},\n  {content: 'Март', value: 3},\n  {content: 'Апрель', value: 4},\n  {content: 'Май', value: 5},\n  {content: 'Июнь', value: 6},\n  {content: 'Июль', value: 7},\n  {content: 'Август', value: 8},\n  {content: 'Сентябрь', value: 9},\n  {content: 'Октябрь', value: 10},\n  {content: 'Ноябрь', value: 11},\n  {content: 'Декабрь', value: 12},\n];\n\nconst template = () => [\n  {\n    block: 'signup-popup',\n    mods: {'main': true},\n    content: [\n      {\n        elem: 'title',\n        mix: {'block': 'title'},\n        content: 'Регистрация',\n      },\n      {\n        elem: 'content',\n        content: [\n          {\n            elem: 'explanation-text',\n            content: 'Для регистрации на ресурсе укажите информацию о себе',\n          },\n          {\n            block: 'form',\n            attrs: {id: 'signup-form', novalidate: true},\n            name: 'signup-form',\n            mix: {block: 'signup-form'},\n            content: [\n              {\n                block: 'signup-form',\n                content: [\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        fieldName: 'firstName',\n                        fieldAttrs: {\n                          type: 'text',\n                          placeholder: 'Имя',\n                          checkable: true,\n                          checkType: 'name',\n                        },\n                      },\n                      {\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'firstName',\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        fieldName: 'lastName',\n                        fieldAttrs: {\n                          type: 'text',\n                          placeholder: 'Фамилия',\n                          checkable: true,\n                          checkType: 'lastName',\n                        },\n                      },\n                      {\n                        block: 'form-group',\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'lastName',\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        fieldName: 'email',\n                        fieldAttrs: {\n                          type: 'email',\n                          placeholder: 'Email',\n                          required: true,\n                          checkable: true,\n                          checkType: 'email',\n                        },\n                      },\n                      {\n                        block: 'form-group',\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'email',\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        fieldName: 'username',\n                        fieldAttrs: {\n                          type: 'text',\n                          placeholder: 'Username',\n                          required: true,\n                          checkable: true,\n                          checkType: 'username',\n                        },\n                      },\n                      {\n                        block: 'form-group',\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'username',\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        elem: 'title',\n                        elemMods: {align: 'left'},\n                        content: ['Дата рождения'],\n                      },\n                      {\n                        block: 'form-group',\n                        mods: {align: 'stretch'},\n                        content: {\n                          block: 'field-group',\n                          content: [\n                            {\n                              block: 'select',\n                              fieldName: 'selectDay',\n                              options: [\n                                {\n                                  content: 'День',\n                                  value: 0,\n                                  selected: true,\n                                }].concat([...Array(30).keys()].map(\n                                  (num) => ({\n                                    content: num + 1,\n                                    value: num + 1,\n                                  }))),\n                            },\n                            {\n                              block: 'select',\n                              fieldName: 'selectMonth',\n                              wrappedInside: 'signup-form',\n                              options: [{\n                                content: 'Месяц',\n                                value: 0,\n                                selected: true,\n                              }].concat(months),\n                            },\n                            {\n                              block: 'select',\n                              fieldName: 'selectYear',\n                              wrappedInside: 'signup-form',\n                              options: [\n                                {\n                                  content: 'Год',\n                                  value: 0,\n                                  selected: true,\n                                }].concat([...Array(119).keys()].map(\n                                  (num) => ({\n                                    content: num + 1900,\n                                    value: num + 1900,\n                                  })\n                              ).reverse()),\n                            },\n                          ],\n                        },\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        wrappedAs: 'input',\n                        fieldName: 'password',\n                        fieldAttrs: {\n                          type: 'password',\n                          placeholder: 'Пароль',\n                          required: true,\n                          checkable: true,\n                          checkType: 'password',\n                        },\n                        required: true,\n                      },\n                      {\n                        block: 'form-group',\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'password',\n                      },\n                    ],\n                  },\n                  {\n                    block: 'form-group',\n                    content: [\n                      {\n                        block: 'input',\n                        wrappedAs: 'input',\n                        fieldName: 'passwordRepeat',\n                        fieldAttrs: {\n                          type: 'password',\n                          placeholder: 'Повторите пароль',\n                          required: true,\n                          checkable: true,\n                          checkType: 'repeatPassword',\n                        },\n                        required: true,\n                      },\n                      {\n                        block: 'form-group',\n                        elem: 'help-text',\n                        elemMods: {hidden: true},\n                        for: 'passwordRepeat',\n                      },\n                    ],\n                  },\n                ],\n              },\n              {\n                block: 'signup-popup',\n                elem: 'hr',\n                mix: {'block': 'hr'},\n              },\n              {\n                block: 'signup-popup',\n                elem: 'double-btn',\n                content: [\n                  {\n                    block: 'btn',\n                    wrappedInside: 'signup-popup',\n                    wrappedAs: 'singup-btn',\n                    mods: {size: 'large'},\n                    attrs: {type: 'submit'},\n                    content: [{\n                      elem: 'inner',\n                      content: {\n                        elem: 'text',\n                        content: 'Зарегестироророваться',\n                      },\n                    }],\n                  },\n                  {\n                    block: 'btn',\n                    mods: {color: 'muted', size: 'large'},\n                    wrappedInside: 'signup-popup',\n                    wrappedAs: 'cancel-btn',\n                    content: [{\n                      elem: 'inner',\n                      content: {\n                        elem: 'text',\n                        cls: 'btn__text_normal',\n                        content: 'Отменить',\n                      },\n                    },\n                    ],\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  }];\n\nexport default template;\n","import {settings} from '../../settings/config.js';\n\nconst yearOptions = [\n  {\n    content: 'Год',\n    value: 0,\n    selected: true,\n  }].concat([...Array(119).keys()].map(\n    (num) => ({\n      content: num + 1900,\n      value: num + 1900,\n    })\n).reverse());\n\nconst monthOptions = [\n  {content: 'Месяц', value: 0, selected: true},\n  {content: 'Январь', value: 1},\n  {content: 'Февраль', value: 2},\n  {content: 'Март', value: 3},\n  {content: 'Апрель', value: 4},\n  {content: 'Май', value: 5},\n  {content: 'Июнь', value: 6},\n  {content: 'Июль', value: 7},\n  {content: 'Август', value: 8},\n  {content: 'Сентябрь', value: 9},\n  {content: 'Октябрь', value: 10},\n  {content: 'Ноябрь', value: 11},\n  {content: 'Декабрь', value: 12},\n];\n\nconst dayOptions = [{\n  content: 'День',\n  value: 0,\n  selected: true,\n}].concat([...Array(30).keys()].map(\n    (num) => ({\n      content: num + 1,\n      value: num + 1,\n    })));\n\n/**\n * Get template of the profile's update page for user\n * @param {Object} user\n * @return {Array} template of the profile's update page\n */\nexport default function template(user) {\n  const date = [\n    {\n      block: 'select',\n      fieldName: 'selectDay',\n      attrs: {id: 'signup__selectDay'},\n      options: dayOptions,\n    },\n    {\n      block: 'select',\n      fieldName: 'selectMonth',\n      attrs: {id: 'signup__selectMonth'},\n      options: monthOptions,\n    },\n    {\n      block: 'select',\n      fieldName: 'selectYear',\n      attrs: {id: 'signup__selectYear'},\n      options: yearOptions,\n    },\n  ];\n  setSelectedDate(user, date);\n\n  const gender = {\n    block: 'select',\n    fieldName: 'selectMale',\n    options: [\n      {content: 'Пол', value: ''},\n      {content: 'Мужской', value: 'male'},\n      {content: 'Женский', value: 'female'},\n      {content: 'Другой', value: 'other'},\n    ],\n  };\n  setSelectedGender(user, gender);\n\n  return [{\n    block: 'profile-popup',\n    mods: {main: true},\n    content: [\n      {\n        block: 'title',\n        wrappedInside: 'profile-popup',\n        content: ['Обновление профиля'],\n      },\n      {\n        elem: 'content',\n        content: [\n          {\n            elem: 'profile-icon',\n            attrs: {\n              src: user.img.startsWith(settings.imgPath) ?\n                  user.img :\n                  settings.imgPath + user.img,\n            },\n          },\n          {\n            block: 'form',\n            attrs: {id: 'updateForm', novalidate: true},\n            name: 'updateForm',\n            mix: {'block': 'signup-form'},\n            content: [\n              {\n                block: 'profile-info',\n                wrappedInside: 'profile-popup',\n                fields: [\n                  {\n                    name: 'Аватар',\n                    novalidate: true,\n                    value: {\n                      block: 'file-input',\n                      fieldName: 'avatar',\n                    },\n                  },\n                  {\n                    name: 'Имя',\n                    fieldName: 'firstName',\n                    fieldAttrs: {\n                      placeholder: 'Иван',\n                      value: user.firstName,\n                      checkable: true,\n                      checkType: 'name',\n                    },\n                  },\n                  {\n                    name: 'Фамилия',\n                    fieldName: 'lastName',\n                    fieldAttrs: {\n                      placeholder: 'Иванов',\n                      value: user.lastName,\n                      checkable: true,\n                      checkType: 'lastName',\n                    },\n                  },\n                  {\n                    name: 'Email',\n                    fieldName: 'email',\n                    fieldAttrs: {\n                      checkable: true,\n                      checkType: 'email',\n                      required: true,\n                      value: user.email,\n                      type: 'email',\n                      placeholder: 'your.name@site.com',\n                    },\n                  },\n                  {\n                    name: 'Никейм',\n                    fieldName: 'username',\n                    fieldAttrs: {\n                      required: true,\n                      checkable: true,\n                      value: user.username || user.nickname,\n                      placeholder: 'username',\n                      checkType: 'userName',\n                    },\n                  },\n                  {\n                    name: 'Пол',\n                    novalidate: true,\n                    value: gender,\n                  },\n                  {\n                    name: 'Дата рождения',\n                    novalidate: true,\n                    value: [\n                      {\n                        block: 'field-group',\n                        content: date,\n                      },\n                    ],\n                  },\n                  {\n                    name: 'Новый пароль',\n                    fieldName: 'password',\n                    fieldAttrs: {\n                      type: 'password',\n                      placeholder: 'Пароль',\n                      checkable: true,\n                      checkType: 'password',\n                    },\n                  },\n                  {\n                    name: 'Повторите пароль',\n                    fieldName: 'passwordRepeat',\n                    fieldAttrs: {\n                      type: 'password',\n                      placeholder: 'Повторите пароль',\n                      checkable: true,\n                      checkType: 'repeatPassword',\n                    },\n                  },\n                ],\n              },\n              {\n                block: 'profile-popup',\n                elem: 'double-btn',\n                elemMods: {center: true},\n                content: [\n                  {\n                    block: 'btn',\n                    attrs: {'type': 'submit'},\n                    mods: {size: 'large'},\n                    wrappedInside: 'profile-popup',\n                    icon: 'useredit',\n                    btnText: 'Обновить',\n                  },\n                  {\n                    block: 'btn',\n                    mods: {size: 'large', color: 'muted'},\n                    wrappedInside: 'profile-popup',\n                    icon: 'delete',\n                    btnText: 'Отменить',\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  ];\n}\n\n/**\n * Set selected gender\n * @param {Object} user\n * @param {Object} gender\n */\nfunction setSelectedGender(user, gender) {\n  if (user.gender !== '') {\n    const options = gender.options;\n    options.forEach((option) => {\n      console.log(option, user.gender);\n      if (option.value === user.gender) {\n        option.selected = true;\n      }\n    });\n  }\n}\n\n/**\n * Set selected date\n * @param {Object} user\n * @param {Array} date\n */\nfunction setSelectedDate(user, date) {\n  if (user.birthDate !== '' && user.birthDate !== null) {\n    const userDate = user.birthDate.split('.');\n\n    const dayOptions = date[0].options;\n    dayOptions.forEach((option) => {\n      if (option.content === +userDate[0]) {\n        option.selected = true;\n      }\n    });\n\n    const mounthOptions = date[1].options;\n    mounthOptions.forEach((option) => {\n      if (option.value === +userDate[1]) {\n        option.selected = true;\n      }\n    });\n\n    const yearOptions = date[2].options;\n    yearOptions.forEach((option) => {\n      if (option.content === +userDate[2]) {\n        option.selected = true;\n      }\n    });\n  }\n}\n"],"sourceRoot":""}